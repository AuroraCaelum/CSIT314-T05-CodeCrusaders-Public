/*! For license information please see main.5d82da05.js.LICENSE.txt */
(()=>{var e={730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,j=Object.assign;function B(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function F(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function $(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case _:return"Portal";case S:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ce=null,ke=null;function Se(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Ee(e){Ce?ke?ke.push(e):ke=[e]:Ce=e}function Te(){if(Ce){var e=Ce,t=ke;if(ke=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Ce||null!==ke)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Me=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Me=!1}function Re(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,je=null,Be=!1,Ue=null,Fe={onError:function(e){Oe=!0,je=e}};function $e(e,t,n,r,i,s,o,a,l){Oe=!1,je=null,Re.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,Ct,kt,St,Et=!1,Tt=[],It=null,At=null,Pt=null,Nt=new Map,Dt=new Map,Mt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Bt(e)&&n.delete(t)}function Ft(){Et=!1,null!==It&&Bt(It)&&(It=null),null!==At&&Bt(At)&&(At=null),null!==Pt&&Bt(Pt)&&(Pt=null),Nt.forEach(Ut),Dt.forEach(Ut)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return $t(t,e)}if(0<Tt.length){$t(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&$t(It,e),null!==At&&$t(At,e),null!==Pt&&$t(Pt,e),Nt.forEach(t),Dt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)jt(n),null===n.blockedOn&&Mt.shift()}var zt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,zt.transition=s}}function Wt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,zt.transition=s}}function Kt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Ot(It,e,t,n,r,i),!0;case"dragenter":return At=Ot(At,e,t,n,r,i),!0;case"mouseover":return Pt=Ot(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Ot(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Ot(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=vi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=j({},cn,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),gn=sn(j({},fn,{dataTransfer:0})),mn=sn(j({},hn,{relatedTarget:0})),yn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(j({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return kn}var En=j({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(En),In=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Nn),Mn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var On=u&&"TextEvent"in window&&!Rn,jn=u&&(!Ln||Rn&&8<Rn&&11>=Rn),Bn=String.fromCharCode(32),Un=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Yn(e){Br(e,0)}function Qn(e){if(K(wi(e)))return e}function Gn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];qn(t,Kn,e,xe(e)),Ne(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Cr={},kr={};function Sr(e){if(Cr[e])return Cr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Cr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Ir=Sr("animationstart"),Ar=Sr("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Pr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Nr.length;Mr++){var Lr=Nr[Mr];Dr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if($e.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var u=je;Oe=!1,je=null,Be||(Be=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}}}if(Be)throw e=Ue,Be=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[$r]){e[$r]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Fr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Gt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=s,i=xe(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Er:case Tr:case Ir:l=yn;break;case Ar:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=De(p,d))&&u.push(qr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,g=d;g;g=Kr(g))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Yr(o,a,l,u,!1),null!==c&&null!==h&&Yr(o,h,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Gn;else if(Hn(a))if(Xn)m=or;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(y=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=$n(n))&&(b.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Un=!0,Bn);case"textInput":return(e=t.data)===Bn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&Fn(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Br(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(qr(e,s,i)),null!=(s=De(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,s))&&o.unshift(qr(n,l,a)):i||null!=(l=De(n,s))&&o.push(qr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Gr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var _i=[],Ci=-1;function ki(e){return{current:e}}function Si(e){0>Ci||(e.current=_i[Ci],_i[Ci]=null,Ci--)}function Ei(e,t){Ci++,_i[Ci]=e.current,e.current=t}var Ti={},Ii=ki(Ti),Ai=ki(!1),Pi=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Si(Ai),Si(Ii)}function Li(e,t,n){if(Ii.current!==Ti)throw Error(s(168));Ei(Ii,t),Ei(Ai,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,z(e)||"Unknown",i));return j({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ii.current,Ei(Ii,e),Ei(Ai,Ai.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ri(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ii),Ei(Ii,e)):Si(Ai),Ei(Ai,n)}var Bi=null,Ui=!1,Fi=!1;function $i(e){null===Bi?Bi=[e]:Bi.push(e)}function Vi(){if(!Fi&&null!==Bi){Fi=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Ui=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ke(Ze,Vi),i}finally{bt=t,Fi=!1}}return null}var zi=[],Hi=0,qi=null,Wi=0,Ki=[],Yi=0,Qi=null,Gi=1,Xi="";function Ji(e,t){zi[Hi++]=Wi,zi[Hi++]=qi,qi=e,Wi=t}function Zi(e,t,n){Ki[Yi++]=Gi,Ki[Yi++]=Xi,Ki[Yi++]=Qi,Qi=e;var r=Gi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Gi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=zi[--Hi],zi[Hi]=null,Wi=zi[--Hi],zi[Hi]=null;for(;e===Qi;)Qi=Ki[--Yi],Ki[Yi]=null,Xi=Ki[--Yi],Ki[Yi]=null,Gi=Ki[--Yi],Ki[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Gi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=w.ReactCurrentBatchConfig;function ms(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&vs(s)===t.type)?((r=i(t,n.props)).ref=ms(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=ms(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=ms(e,null,t),n.return=e,n;case _:return(t=Bc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:h(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return h(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function g(i,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,a[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,g),null===u?c=y:u.sibling=y,u=y,h=m}if(g===a.length)return n(i,h),is&&Ji(i,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,g),c}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,g),c}function m(i,a,l,c){var u=R(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),is&&Ji(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,m),null===h?u=v:h.sibling=v,h=v);return is&&Ji(i,m),u}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===h?u=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(i,e)})),is&&Ji(i,m),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===C){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&vs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=ms(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===C?((s=Rc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=ms(r,s,o),l.return=r,r=l)}return a(r);case _:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Bc(o,r.mode,l)).return=r,r=s}return a(r);case D:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(R(o))return m(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=jc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),_s=ki(null),Cs=null,ks=null,Ss=null;function Es(){Ss=ks=Cs=null}function Ts(e){var t=_s.current;Si(_s),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){Cs=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Cs)throw Error(s(308));ks=e,Cs.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ns=null;function Ds(e){null===Ns?Ns=[e]:Ns.push(e)}function Ms(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ds(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ls(e,n)}return null===(i=r.interleaved)?(t.next=t,Ds(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ls(e,n)}function Fs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function $s(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Rs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=h}}function zs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},qs=ki(Hs),Ws=ki(Hs),Ks=ki(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(Ei(Ks,t),Ei(Ws,e),Ei(qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(qs),Ei(qs,t)}function Gs(){Si(qs),Si(Ws),Si(Ks)}function Xs(e){Ys(Ks.current);var t=Ys(qs.current),n=le(t,e.type);t!==n&&(Ei(Ws,e),Ei(qs,n))}function Js(e){Ws.current===e&&(Si(qs),Si(Ws))}var Zs=ki(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=h,Ol|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ol|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function ko(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Oo(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,No(9,Eo.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&so)||So(n,t,i)}return i}function So(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Eo(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Ao(e)}function To(e,t,n){return n((function(){Io(t)&&Ao(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=Ls(e,1);null!==t&&nc(t,e,1,-1)}function Po(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return bo().memoizedState}function Mo(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=No(t,n,s,r))}oo.flags|=e,i.memoizedState=No(1|t,n,s,r)}function Ro(e,t){return Mo(8390656,8,e,t)}function Oo(e,t){return Lo(2048,8,e,t)}function jo(e,t){return Lo(4,2,e,t)}function Bo(e,t){return Lo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Uo.bind(null,t,e),n)}function $o(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),oo.lanes|=n,Ol|=n,e.baseState=!0),t)}function qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Wo(){return bo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Go(t,n);else if(null!==(n=Ms(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function Yo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Go(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ds(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ms(e,t,i,r))&&(nc(n,e,r,i=ec()),Xo(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Go(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Ro,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Po,useDebugValue:$o,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=qo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&so)||So(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ro(To.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Eo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Al.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Gi&~(1<<32-ot(Gi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:Vo,useContext:Ps,useEffect:Oo,useImperativeHandle:Fo,useInsertionEffect:jo,useLayoutEffect:Bo,useMemo:zo,useReducer:xo,useRef:Do,useState:function(){return xo(wo)},useDebugValue:$o,useDeferredValue:function(e){return Ho(bo(),ao.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:Co,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:Vo,useContext:Ps,useEffect:Oo,useImperativeHandle:Fo,useInsertionEffect:jo,useLayoutEffect:Bo,useMemo:zo,useReducer:_o,useRef:Do,useState:function(){return _o(wo)},useDebugValue:$o,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Ho(t,ao.memoizedState,e)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:Co,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Bs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Bs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Bs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nc(t,e,r,n),Fs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Di(t)?Pi:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Di(t)?Pi:Ii.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Vs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),ha(0,t)},n}function pa(e,t,n){(n=Bs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var s=t.ref;return As(t,i),r=mo(e,t,n,r,s,i),n=yo(),null===e||ba?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function _a(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ca(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Mc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ea(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ml,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ml,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ei(Ml,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ei(Ml,Dl),Dl|=r;return wa(e,t,i,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,i){var s=Di(n)?Pi:Ii.current;return s=Ni(t,s),As(t,i),n=mo(e,t,n,r,s,i),r=yo(),null===e||ba?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ta(e,t,n,r,i){if(Di(n)){var s=!0;Oi(t)}else s=!1;if(As(t,i),null===t.stateNode)za(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Ni(t,c=Di(n)?Pi:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Rs=!1;var d=t.memoizedState;o.state=d,Vs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Rs?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Rs||sa(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,js(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Ni(t,l=Di(n)?Pi:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Rs=!1,d=t.memoizedState,o.state=d,Vs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Rs?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Rs||sa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){Sa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ha(e,t,s);r=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Qs(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wa(e,t,n,r),t.child}var Na,Da,Ma,La,Ra={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Oc(l,i,0,null),e=Rc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=Ra,e):Ba(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),(o=Rc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=Ra,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ls(e,i),nc(r,e,i,-1))}return gc(),Ua(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Yi++]=Gi,Ki[Yi++]=Xi,Ki[Yi++]=Qi,Gi=e.id,Xi=e.overflow,Qi=t),t=Ba(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Mc(r,a):(a=Rc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Oa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Mc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ba(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Ba(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function $a(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Va(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,n,t);else if(19===e.tag)Fa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$a(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$a(t,!0,n,null,s);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function za(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Di(t.type)&&Mi(),Wa(t),null;case 3:return r=t.stateNode,Gs(),Si(Ai),Si(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Da(e,t),Wa(t),null;case 5:Js(t);var i=Ys(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ma(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wa(t),null}if(e=Ys(qs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":G(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":G(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Ks.current),Ys(qs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wa(t),null;case 13:if(Si(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Gs(),Da(e,t),null===e&&Vr(t.stateNode.containerInfo),Wa(t),null;case 10:return Ts(t.type._context),Wa(t),null;case 19:if(Si(Zs),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qa(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Vl&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Wa(t),null}else 2*Xe()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Ei(Zs,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gs(),Si(Ai),Si(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Si(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(Zs),null;case 4:return Gs(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Ma=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(qs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Ga=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ga||Za(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ga&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ga&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ga=(r=Ga)||null!==n.memoizedState,dl(e,t,n),Ga=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){kc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){kc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){kc(e,e.return,m)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){kc(e,e.return,m)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Xe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ga=(u=Ga)||h,gl(t,e),Ga=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Ja=p):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){kc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ga;a=Qa;var c=Ga;if(Qa=o,(Ga=l)&&!c)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,Ja=l):_l(i);for(;null!==s;)Ja=s,bl(s,t,n),s=s.sibling;Ja=i,Qa=a,Ga=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ga||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ga)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&zs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(s(163))}Ga||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function _l(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{il(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Cl,kl=Math.ceil,Sl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,Al=null,Pl=null,Nl=0,Dl=0,Ml=ki(0),Ll=0,Rl=null,Ol=0,jl=0,Bl=0,Ul=null,Fl=null,$l=0,Vl=1/0,zl=null,Hl=!1,ql=null,Wl=null,Kl=!1,Yl=null,Ql=0,Gl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Il)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Nl?Nl&-Nl:null!==gs.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,r){if(50<Gl)throw Gl=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Il)&&e===Al||(e===Al&&(0===(2&Il)&&(jl|=n),4===Ll&&ac(e,Nl)),rc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Vl=Xe()+500,Ui&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Al?Nl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,$i(e)}(lc.bind(null,e)):$i(lc.bind(null,e)),oi((function(){0===(6&Il)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Il;Il|=2;var o=pc();for(Al===e&&Nl===t||(zl=null,Vl=Xe()+500,dc(e,t));;)try{vc();break}catch(l){fc(e,l)}Es(),Sl.current=o,Il=i,null!==Pl?t=0:(Al=null,Nl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Rl,dc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Rl,dc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Fl,zl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=$l+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Fl,zl),t);break}xc(e,Fl,zl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Fl,zl),r);break}xc(e,Fl,zl);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Fl,Fl=n,null!==t&&oc(t)),e}function oc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ac(e,t){for(t&=~Bl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Il))throw Error(s(327));_c();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Rl,dc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Fl,zl),rc(e,Xe()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Vl=Xe()+500,Ui&&Vi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Il)&&_c();var t=Il;Il|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Il=t))&&Vi()}}function hc(){Dl=Ml.current,Si(Ml)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:Gs(),Si(Ai),Si(Ii),no();break;case 5:Js(r);break;case 4:Gs();break;case 13:case 19:Si(Zs);break;case 10:Ts(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Al=e,Pl=e=Mc(e.current,null),Nl=Dl=t,Ll=0,Rl=null,Bl=jl=Ol=0,Fl=Ul=null,null!==Ns){for(t=0;t<Ns.length;t++)if(null!==(r=(n=Ns[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ns=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Es(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,El.current=null,null===n||null===n.return){Ll=1,Rl=t,Pl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ma(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[o]:Ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,$s(o,fa(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,$s(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Jo,null===e?Jo:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Ol)&&0===(268435455&jl)||ac(Al,Nl)}function mc(e,t){var n=Il;Il|=2;var r=pc();for(Al===e&&Nl===t||(zl=null,dc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Es(),Il=n,Sl.current=r,null!==Pl)throw Error(s(261));return Al=null,Nl=0,Ll}function yc(){for(;null!==Pl;)bc(Pl)}function vc(){for(;null!==Pl&&!Qe();)bc(Pl)}function bc(e){var t=Cl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,El.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Dl)))return void(Pl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Yl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Al&&(Pl=Al=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Il;Il|=4,El.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ge(),Il=l,bt=a,Tl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Ql=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xl?Gl++:(Gl=0,Xl=e):Gl=0,Vi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function _c(){if(null!==Yl){var e=wt(Ql),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ja=v;break e}Ja=o.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){kc(l,l.return,_)}if(l===a){Ja=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break e}Ja=l.return}}if(Il=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Cc(e,t,n){e=Us(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Us(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Nl&n)===n&&(4===Ll||3===Ll&&(130023424&Nl)===Nl&&500>Xe()-$l?dc(e,0):Bl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ls(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Rc(n.children,i,o,t);case k:a=8,i|=8;break;case S:return(e=Nc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=o,e;case M:return Oc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case I:a=11;break e;case N:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,s,o,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function $c(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ri(e,n,t)}return t}function Vc(e,t,n,r,i,s,o,a,l){return(e=Fc(n,r,!0,e,0,s,0,a,l)).context=$c(null),n=e.current,(s=Bs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function zc(e,t,n,r){var i=t.current,s=ec(),o=tc(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,o))&&(nc(e,i,o,s),Fs(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:Xs(t);break;case 1:Di(t.type)&&Oi(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ei(Zs,1&Zs.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ei(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;za(e,t),e=t.pendingProps;var i=Ni(t,Ii.current);As(t,n),i=mo(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(za(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=_a(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,js(e,t),Vs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Sa(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return ja(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ei(_s,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ai.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Bs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,As(t,n),r=r(i=Ps(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),_a(e,t,r,i=na(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),za(e,t),t.tag=1,Di(r)?(e=!0,Oi(t)):e=!1,As(t,n),oa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return ka(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hc(o);a.call(e)}}zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){zc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));zc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){zc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&jt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&Il)&&(Vl=Xe()+500,Vi()))}break;case 13:uc((function(){var t=Ls(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Ls(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},kt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ee,Te,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:C.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,x(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=A(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},M={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:C};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,M(_);else{var t=r(u);null!==t&&L(x,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,v(E),E=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&L(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,k=!1,S=null,E=-1,T=5,I=-1;function A(){return!(t.unstable_now()-I<T)}function P(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?C():(k=!1,S=null)}}else k=!1}if("function"===typeof b)C=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,D=N.port2;N.port1.onmessage=P,C=function(){D.postMessage(null)}}else C=function(){y(P,0)};function M(e){S=e,k||(k=!0,C())}function L(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(m?(v(E),E=-1):m=!0,L(x,s-o))):(e.sortIndex=a,n(c,e),g||p||(g=!0,M(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},64:function(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(t,n){return t.get(e(t,n))}function r(e,n,r){t(e,n),n.set(e,r)}function i(t,n,r){return t.set(e(t,n),r),r}const s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},l=e=>new Promise((t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;o.restoreFocusTimeout=setTimeout((()=>{a(),t()}),s),window.scrollTo(n,r)})),c="swal2-",u=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(((e,t)=>(e[t]=c+t,e)),{}),h=["success","warning","info","question","error"].reduce(((e,t)=>(e[t]=c+t,e)),{}),d="SweetAlert2:",f=e=>e.charAt(0).toUpperCase()+e.slice(1),p=e=>{console.warn(`${d} ${"object"===typeof e?e.join(" "):e}`)},g=e=>{console.error(`${d} ${e}`)},m=[],y=e=>{m.includes(e)||(m.push(e),p(e))},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;y(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},b=e=>"function"===typeof e?e():e,w=e=>e&&"function"===typeof e.toPromise,x=e=>w(e)?e.toPromise():Promise.resolve(e),_=e=>e&&Promise.resolve(e)===e,C=()=>document.body.querySelector(`.${u.container}`),k=e=>{const t=C();return t?t.querySelector(e):null},S=e=>k(`.${e}`),E=()=>S(u.popup),T=()=>S(u.icon),I=()=>S(u["icon-content"]),A=()=>S(u.title),P=()=>S(u["html-container"]),N=()=>S(u.image),D=()=>S(u["progress-steps"]),M=()=>S(u["validation-message"]),L=()=>k(`.${u.actions} .${u.confirm}`),R=()=>k(`.${u.actions} .${u.cancel}`),O=()=>k(`.${u.actions} .${u.deny}`),j=()=>S(u["input-label"]),B=()=>k(`.${u.loader}`),U=()=>S(u.actions),F=()=>S(u.footer),$=()=>S(u["timer-progress-bar"]),V=()=>S(u.close),z='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',H=()=>{const e=E();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),r=parseInt(t.getAttribute("tabindex")||"0");return n>r?1:n<r?-1:0})),r=e.querySelectorAll(z),i=Array.from(r).filter((e=>"-1"!==e.getAttribute("tabindex")));return[...new Set(n.concat(i))].filter((e=>ue(e)))},q=()=>Q(document.body,u.shown)&&!Q(document.body,u["toast-shown"])&&!Q(document.body,u["no-backdrop"]),W=()=>{const e=E();return!!e&&Q(e,u.toast)},K=()=>{const e=E();return!!e&&e.hasAttribute("data-loading")},Y=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach((t=>{e.appendChild(t)}));const i=n.querySelector("body");i&&Array.from(i.childNodes).forEach((t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},Q=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},G=(e,t)=>{Array.from(e.classList).forEach((n=>{Object.values(u).includes(n)||Object.values(h).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)}))},X=(e,t,n)=>{if(G(e,t),!t.customClass)return;const r=t.customClass[n];r&&("string"===typeof r||r.forEach?te(e,r):p(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`))},J=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${u.popup} > .${u[t]}`);case"checkbox":return e.querySelector(`.${u.popup} > .${u.checkbox} input`);case"radio":return e.querySelector(`.${u.popup} > .${u.radio} input:checked`)||e.querySelector(`.${u.popup} > .${u.radio} input:first-child`);case"range":return e.querySelector(`.${u.popup} > .${u.range} input`);default:return e.querySelector(`.${u.popup} > .${u.input}`)}},Z=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ee=(e,t,n)=>{e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},te=(e,t)=>{ee(e,t,!0)},ne=(e,t)=>{ee(e,t,!1)},re=(e,t)=>{const n=Array.from(e.children);for(let r=0;r<n.length;r++){const e=n[r];if(e instanceof HTMLElement&&Q(e,t))return e}},ie=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?e.style.setProperty(t,"number"===typeof n?`${n}px`:n):e.style.removeProperty(t)},se=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},oe=e=>{e&&(e.style.display="none")},ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver((()=>{ce(e,e.innerHTML,t)})).observe(e,{childList:!0,subtree:!0})},le=(e,t,n,r)=>{const i=e.querySelector(t);i&&i.style.setProperty(n,r)},ce=function(e,t){t?se(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):oe(e)},ue=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),he=()=>!ue(L())&&!ue(O())&&!ue(R()),de=e=>!!(e.scrollHeight>e.clientHeight),fe=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$();n&&ue(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"}),10))},ge=()=>{const e=$();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width=`${n}%`},me=()=>"undefined"===typeof window||"undefined"===typeof document,ye=`\n <div aria-labelledby="${u.title}" aria-describedby="${u["html-container"]}" class="${u.popup}" tabindex="-1">\n   <button type="button" class="${u.close}"></button>\n   <ul class="${u["progress-steps"]}"></ul>\n   <div class="${u.icon}"></div>\n   <img class="${u.image}" />\n   <h2 class="${u.title}" id="${u.title}"></h2>\n   <div class="${u["html-container"]}" id="${u["html-container"]}"></div>\n   <input class="${u.input}" id="${u.input}" />\n   <input type="file" class="${u.file}" />\n   <div class="${u.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${u.select}" id="${u.select}"></select>\n   <div class="${u.radio}"></div>\n   <label class="${u.checkbox}">\n     <input type="checkbox" id="${u.checkbox}" />\n     <span class="${u.label}"></span>\n   </label>\n   <textarea class="${u.textarea}" id="${u.textarea}"></textarea>\n   <div class="${u["validation-message"]}" id="${u["validation-message"]}"></div>\n   <div class="${u.actions}">\n     <div class="${u.loader}"></div>\n     <button type="button" class="${u.confirm}"></button>\n     <button type="button" class="${u.deny}"></button>\n     <button type="button" class="${u.cancel}"></button>\n   </div>\n   <div class="${u.footer}"></div>\n   <div class="${u["timer-progress-bar-container"]}">\n     <div class="${u["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),ve=()=>{const e=C();return!!e&&(e.remove(),ne([document.documentElement,document.body],[u["no-backdrop"],u["toast-shown"],u["has-column"]]),!0)},be=()=>{o.currentInstance.resetValidationMessage()},we=()=>{const e=E(),t=re(e,u.input),n=re(e,u.file),r=e.querySelector(`.${u.range} input`),i=e.querySelector(`.${u.range} output`),s=re(e,u.select),o=e.querySelector(`.${u.checkbox} input`),a=re(e,u.textarea);t.oninput=be,n.onchange=be,s.onchange=be,o.onchange=be,a.oninput=be,r.oninput=()=>{be(),i.value=r.value},r.onchange=()=>{be(),i.value=r.value}},xe=e=>"string"===typeof e?document.querySelector(e):e,_e=e=>{const t=E();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Ce=e=>{"rtl"===window.getComputedStyle(e).direction&&te(C(),u.rtl)},ke=e=>{const t=ve();if(me())return void g("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=u.container,t&&te(n,u["no-transition"]),Y(n,ye);const r=xe(e.target);r.appendChild(n),_e(e),Ce(r),we()},Se=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Ee(e,t):e&&Y(t,e)},Ee=(e,t)=>{e.jquery?Te(t,e):Y(t,e.toString())},Te=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Ie=(e,t)=>{const n=U(),r=B();n&&r&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?se(n):oe(n),X(n,t,"actions"),Ae(n,r,t),Y(r,t.loaderHtml||""),X(r,t,"loader"))};function Ae(e,t,n){const r=L(),i=O(),s=R();r&&i&&s&&(Ne(r,"confirm",n),Ne(i,"deny",n),Ne(s,"cancel",n),Pe(r,i,s,n),n.reverseButtons&&(n.toast?(e.insertBefore(s,r),e.insertBefore(i,r)):(e.insertBefore(s,t),e.insertBefore(i,t),e.insertBefore(r,t))))}function Pe(e,t,n,r){r.buttonsStyling?(te([e,t,n],u.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,te(e,u["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,te(t,u["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,te(n,u["default-outline"]))):ne([e,t,n],u.styled)}function Ne(e,t,n){const r=f(t);ce(e,n[`show${r}Button`],"inline-block"),Y(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=u[t],X(e,n,`${t}Button`)}const De=(e,t)=>{const n=V();n&&(Y(n,t.closeButtonHtml||""),X(n,t,"closeButton"),ce(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Me=(e,t)=>{const n=C();n&&(Le(n,t.backdrop),Re(n,t.position),Oe(n,t.grow),X(n,t,"container"))};function Le(e,t){"string"===typeof t?e.style.background=t:t||te([document.documentElement,document.body],u["no-backdrop"])}function Re(e,t){t&&(t in u?te(e,u[t]):(p('The "position" parameter is not valid, defaulting to "center"'),te(e,u.center)))}function Oe(e,t){t&&te(e,u[`grow-${t}`])}var je={innerParams:new WeakMap,domCache:new WeakMap};const Be=["input","file","range","select","radio","checkbox","textarea"],Ue=(e,t)=>{const n=E();if(!n)return;const r=je.innerParams.get(e),i=!r||t.input!==r.input;Be.forEach((e=>{const r=re(n,u[e]);r&&(Ve(e,t.inputAttributes),r.className=u[e],i&&oe(r))})),t.input&&(i&&Fe(t),ze(t))},Fe=e=>{if(!e.input)return;if(!Ye[e.input])return void g(`Unexpected type of input! Expected ${Object.keys(Ye).join(" | ")}, got "${e.input}"`);const t=We(e.input);if(!t)return;const n=Ye[e.input](t,e);se(t),e.inputAutoFocus&&setTimeout((()=>{Z(n)}))},$e=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},Ve=(e,t)=>{const n=E();if(!n)return;const r=J(n,e);if(r){$e(r);for(const e in t)r.setAttribute(e,t[e])}},ze=e=>{if(!e.input)return;const t=We(e.input);t&&X(t,e,"input")},He=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},qe=(e,t,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=u["input-label"];r.setAttribute("for",e.id),r.className=i,"object"===typeof n.customClass&&te(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},We=e=>{const t=E();if(t)return re(t,u[e]||u.input)},Ke=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:_(t)||p(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Ye={};Ye.text=Ye.email=Ye.password=Ye.number=Ye.tel=Ye.url=Ye.search=Ye.date=Ye["datetime-local"]=Ye.time=Ye.week=Ye.month=(e,t)=>(Ke(e,t.inputValue),qe(e,e,t),He(e,t),e.type=t.input,e),Ye.file=(e,t)=>(qe(e,e,t),He(e,t),e),Ye.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return Ke(n,t.inputValue),n.type=t.input,Ke(r,t.inputValue),qe(n,e,t),e},Ye.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");Y(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return qe(e,e,t),e},Ye.radio=e=>(e.textContent="",e),Ye.checkbox=(e,t)=>{const n=J(E(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);const r=e.querySelector("span");return Y(r,t.inputPlaceholder||t.inputLabel),n},Ye.textarea=(e,t)=>{Ke(e,t.inputValue),He(e,t),qe(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout((()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(E()).width);new MutationObserver((()=>{if(!document.body.contains(e))return;const i=e.offsetWidth+n(e);i>r?E().style.width=`${i}px`:ie(E(),"width",t.width)})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const Qe=(e,t)=>{const n=P();n&&(ae(n),X(n,t,"htmlContainer"),t.html?(Se(t.html,n),se(n,"block")):t.text?(n.textContent=t.text,se(n,"block")):oe(n),Ue(e,t))},Ge=(e,t)=>{const n=F();n&&(ae(n),ce(n,t.footer,"block"),t.footer&&Se(t.footer,n),X(n,t,"footer"))},Xe=(e,t)=>{const n=je.innerParams.get(e),r=T();if(r){if(n&&t.icon===n.icon)return nt(r,t),void Je(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(h).indexOf(t.icon))return g(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),void oe(r);se(r),nt(r,t),Je(r,t),te(r,t.showClass&&t.showClass.icon)}else oe(r)}},Je=(e,t)=>{for(const[n,r]of Object.entries(h))t.icon!==n&&ne(e,r);te(e,t.icon&&h[t.icon]),rt(e,t),Ze(),X(e,t,"icon")},Ze=()=>{const e=E();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=t},et='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',tt='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',nt=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,r="";t.iconHtml?r=it(t.iconHtml):"success"===t.icon?(r=et,n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?r=tt:t.icon&&(r=it({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==r.trim()&&Y(e,r)},rt=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])le(e,n,"background-color",t.iconColor);le(e,".swal2-success-ring","border-color",t.iconColor)}},it=e=>`<div class="${u["icon-content"]}">${e}</div>`,st=(e,t)=>{const n=N();n&&(t.imageUrl?(se(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),ie(n,"width",t.imageWidth),ie(n,"height",t.imageHeight),n.className=u.image,X(n,t,"image")):oe(n))},ot=(e,t)=>{const n=C(),r=E();if(n&&r){if(t.toast){ie(n,"width",t.width),r.style.width="100%";const e=B();e&&r.insertBefore(e,T())}else ie(r,"width",t.width);ie(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),oe(M()),at(r,t)}},at=(e,t)=>{const n=t.showClass||{};e.className=`${u.popup} ${ue(e)?n.popup:""}`,t.toast?(te([document.documentElement,document.body],u["toast-shown"]),te(e,u.toast)):te(e,u.modal),X(e,t,"popup"),"string"===typeof t.customClass&&te(e,t.customClass),t.icon&&te(e,u[`icon-${t.icon}`])},lt=(e,t)=>{const n=D();if(!n)return;const{progressSteps:r,currentProgressStep:i}=t;r&&0!==r.length&&void 0!==i?(se(n),n.textContent="",i>=r.length&&p("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach(((e,s)=>{const o=ct(e);if(n.appendChild(o),s===i&&te(o,u["active-progress-step"]),s!==r.length-1){const e=ut(t);n.appendChild(e)}}))):oe(n)},ct=e=>{const t=document.createElement("li");return te(t,u["progress-step"]),Y(t,e),t},ut=e=>{const t=document.createElement("li");return te(t,u["progress-step-line"]),e.progressStepsDistance&&ie(t,"width",e.progressStepsDistance),t},ht=(e,t)=>{const n=A();n&&(ae(n),ce(n,t.title||t.titleText,"block"),t.title&&Se(t.title,n),t.titleText&&(n.innerText=t.titleText),X(n,t,"title"))},dt=(e,t)=>{ot(e,t),Me(e,t),lt(e,t),Xe(e,t),st(e,t),ht(e,t),De(e,t),Qe(e,t),Ie(e,t),Ge(e,t);const n=E();"function"===typeof t.didRender&&n&&t.didRender(n),o.eventEmitter.emit("didRender",n)},ft=()=>ue(E()),pt=()=>{var e;return null===(e=L())||void 0===e?void 0:e.click()},gt=()=>{var e;return null===(e=O())||void 0===e?void 0:e.click()},mt=()=>{var e;return null===(e=R())||void 0===e?void 0:e.click()},yt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),vt=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},bt=(e,t,n)=>{vt(e),t.toast||(e.keydownHandler=e=>Ct(t,e,n),e.keydownTarget=t.keydownListenerCapture?window:E(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},wt=(e,t)=>{var n;const r=H();if(r.length)return(e+=t)===r.length?e=0:-1===e&&(e=r.length-1),void r[e].focus();null===(n=E())||void 0===n||n.focus()},xt=["ArrowRight","ArrowDown"],_t=["ArrowLeft","ArrowUp"],Ct=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?kt(t,e):"Tab"===t.key?St(t):[...xt,..._t].includes(t.key)?Et(t.key):"Escape"===t.key&&Tt(t,e,n)))},kt=(e,t)=>{if(!b(t.allowEnterKey))return;const n=J(E(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;pt(),e.preventDefault()}},St=e=>{const t=e.target,n=H();let r=-1;for(let i=0;i<n.length;i++)if(t===n[i]){r=i;break}e.shiftKey?wt(r,-1):wt(r,1),e.stopPropagation(),e.preventDefault()},Et=e=>{const t=U(),n=L(),r=O(),i=R();if(!t||!n||!r||!i)return;const s=[n,r,i];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const o=xt.includes(e)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let e=0;e<t.children.length;e++){if(a=a[o],!a)return;if(a instanceof HTMLButtonElement&&ue(a))break}a instanceof HTMLButtonElement&&a.focus()}},Tt=(e,t,n)=>{b(t.allowEscapeKey)&&(e.preventDefault(),n(yt.esc))};var It={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const At=()=>{const e=C();Array.from(document.body.children).forEach((t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))}))},Pt=()=>{Array.from(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Nt="undefined"!==typeof window&&!!window.GestureEvent,Dt=()=>{if(Nt&&!Q(document.body,u.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",te(document.body,u.iosfix),Mt()}},Mt=()=>{const e=C();if(!e)return;let t;e.ontouchstart=e=>{t=Lt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Lt=e=>{const t=e.target,n=C(),r=P();return!(!n||!r)&&!Rt(e)&&!Ot(e)&&(t===n||!de(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!de(r)||!r.contains(t)))},Rt=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Ot=e=>e.touches&&e.touches.length>1,jt=()=>{if(Q(document.body,u.iosfix)){const e=parseInt(document.body.style.top,10);ne(document.body,u.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Bt=()=>{const e=document.createElement("div");e.className=u["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Ut=null;const Ft=e=>{null===Ut&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Ut=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ut+Bt()}px`)},$t=()=>{null!==Ut&&(document.body.style.paddingRight=`${Ut}px`,Ut=null)};function Vt(e,t,n,r){W()?Xt(e,r):(l(n).then((()=>Xt(e,r))),vt(o)),Nt?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),q()&&($t(),jt(),Pt()),zt()}function zt(){ne([document.documentElement,document.body],[u.shown,u["height-auto"],u["no-backdrop"],u["toast-shown"]])}function Ht(e){e=Yt(e);const t=It.swalPromiseResolve.get(this),n=qt(this);this.isAwaitingPromise?e.isDismissed||(Kt(this),t(e)):n&&t(e)}const qt=e=>{const t=E();if(!t)return!1;const n=je.innerParams.get(e);if(!n||Q(t,n.hideClass.popup))return!1;ne(t,n.showClass.popup),te(t,n.hideClass.popup);const r=C();return ne(r,n.showClass.backdrop),te(r,n.hideClass.backdrop),Qt(e,t,n),!0};function Wt(e){const t=It.swalPromiseReject.get(this);Kt(this),t&&t(e)}const Kt=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,je.innerParams.get(e)||e._destroy())},Yt=e=>"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Qt=(e,t,n)=>{var r;const i=C(),s=fe(t);"function"===typeof n.willClose&&n.willClose(t),null===(r=o.eventEmitter)||void 0===r||r.emit("willClose",t),s?Gt(e,t,i,n.returnFocus,n.didClose):Vt(e,i,n.returnFocus,n.didClose)},Gt=(e,t,n,r,i)=>{o.swalCloseEventFinishedCallback=Vt.bind(null,e,n,r,i);const s=function(e){var n;e.target===t&&(null===(n=o.swalCloseEventFinishedCallback)||void 0===n||n.call(o),delete o.swalCloseEventFinishedCallback,t.removeEventListener("animationend",s),t.removeEventListener("transitionend",s))};t.addEventListener("animationend",s),t.addEventListener("transitionend",s)},Xt=(e,t)=>{setTimeout((()=>{var n;"function"===typeof t&&t.bind(e.params)(),null===(n=o.eventEmitter)||void 0===n||n.emit("didClose"),e._destroy&&e._destroy()}))},Jt=e=>{let t=E();if(t||new ni,t=E(),!t)return;const n=B();W()?oe(T()):Zt(t,e),se(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},Zt=(e,t)=>{const n=U(),r=B();n&&r&&(!t&&ue(L())&&(t=L()),se(n),t&&(oe(t),r.setAttribute("data-button-to-replace",t.className),n.insertBefore(r,t)),te([e,n],u.loading))},en=(e,t)=>{"select"===t.input||"radio"===t.input?on(e,t):["text","email","number","tel","textarea"].some((e=>e===t.input))&&(w(t.inputValue)||_(t.inputValue))&&(Jt(L()),an(e,t))},tn=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return nn(n);case"radio":return rn(n);case"file":return sn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},nn=e=>e.checked?1:0,rn=e=>e.checked?e.value:null,sn=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,on=(e,t)=>{const n=E();if(!n)return;const r=e=>{"select"===t.input?ln(n,un(e),t):"radio"===t.input&&cn(n,un(e),t)};w(t.inputOptions)||_(t.inputOptions)?(Jt(L()),x(t.inputOptions).then((t=>{e.hideLoading(),r(t)}))):"object"===typeof t.inputOptions?r(t.inputOptions):g("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof t.inputOptions)},an=(e,t)=>{const n=e.getInput();n&&(oe(n),x(t.inputValue).then((r=>{n.value="number"===t.input?`${parseFloat(r)||0}`:`${r}`,se(n),n.focus(),e.hideLoading()})).catch((t=>{g(`Error in inputValue promise: ${t}`),n.value="",se(n),n.focus(),e.hideLoading()})))};function ln(e,t,n){const r=re(e,u.select);if(!r)return;const i=(e,t,r)=>{const i=document.createElement("option");i.value=r,Y(i,t),i.selected=hn(r,n.inputValue),e.appendChild(i)};t.forEach((e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach((t=>i(e,t[1],t[0])))}else i(r,n,t)})),r.focus()}function cn(e,t,n){const r=re(e,u.radio);if(!r)return;t.forEach((e=>{const t=e[0],i=e[1],s=document.createElement("input"),o=document.createElement("label");s.type="radio",s.name=u.radio,s.value=t,hn(t,n.inputValue)&&(s.checked=!0);const a=document.createElement("span");Y(a,i),a.className=u.label,o.appendChild(s),o.appendChild(a),r.appendChild(o)}));const i=r.querySelectorAll("input");i.length&&i[0].focus()}const un=e=>{const t=[];return e instanceof Map?e.forEach(((e,n)=>{let r=e;"object"===typeof r&&(r=un(r)),t.push([n,r])})):Object.keys(e).forEach((n=>{let r=e[n];"object"===typeof r&&(r=un(r)),t.push([n,r])})),t},hn=(e,t)=>!!t&&t.toString()===e.toString(),dn=e=>{const t=je.innerParams.get(e);e.disableButtons(),t.input?gn(e,"confirm"):wn(e,!0)},fn=e=>{const t=je.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?gn(e,"deny"):yn(e,!1)},pn=(e,t)=>{e.disableButtons(),t(yt.cancel)},gn=(e,t)=>{const n=je.innerParams.get(e);if(!n.input)return void g(`The "input" parameter is needed to be set when using returnInputValueOn${f(t)}`);const r=e.getInput(),i=tn(e,n);n.inputValidator?mn(e,i,t):r&&!r.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||r.validationMessage)):"deny"===t?yn(e,i):wn(e,i)},mn=(e,t,n)=>{const r=je.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>x(r.inputValidator(t,r.validationMessage)))).then((r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?yn(e,t):wn(e,t)}))},yn=(e,t)=>{const n=je.innerParams.get(e||void 0);n.showLoaderOnDeny&&Jt(O()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((()=>x(n.preDeny(t,n.validationMessage)))).then((n=>{!1===n?(e.hideLoading(),Kt(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})})).catch((t=>bn(e||void 0,t)))):e.close({isDenied:!0,value:t})},vn=(e,t)=>{e.close({isConfirmed:!0,value:t})},bn=(e,t)=>{e.rejectPromise(t)},wn=(e,t)=>{const n=je.innerParams.get(e||void 0);n.showLoaderOnConfirm&&Jt(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((()=>x(n.preConfirm(t,n.validationMessage)))).then((n=>{ue(M())||!1===n?(e.hideLoading(),Kt(e)):vn(e,"undefined"===typeof n?t:n)})).catch((t=>bn(e||void 0,t)))):vn(e,t)};function xn(){const e=je.innerParams.get(this);if(!e)return;const t=je.domCache.get(this);oe(t.loader),W()?e.icon&&se(T()):_n(t),ne([t.popup,t.actions],u.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const _n=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?se(t[0],"inline-block"):he()&&oe(e.actions)};function Cn(){const e=je.innerParams.get(this),t=je.domCache.get(this);return t?J(t.popup,e.input):null}function kn(e,t,n){const r=je.domCache.get(e);t.forEach((e=>{r[e].disabled=n}))}function Sn(e,t){const n=E();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll(`[name="${u.radio}"]`);for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function En(){kn(this,["confirmButton","denyButton","cancelButton"],!1)}function Tn(){kn(this,["confirmButton","denyButton","cancelButton"],!0)}function In(){Sn(this.getInput(),!1)}function An(){Sn(this.getInput(),!0)}function Pn(e){const t=je.domCache.get(this),n=je.innerParams.get(this);Y(t.validationMessage,e),t.validationMessage.className=u["validation-message"],n.customClass&&n.customClass.validationMessage&&te(t.validationMessage,n.customClass.validationMessage),se(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",u["validation-message"]),Z(r),te(r,u.inputerror))}function Nn(){const e=je.domCache.get(this);e.validationMessage&&oe(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ne(t,u.inputerror))}const Dn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Mn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ln={allowEnterKey:void 0},Rn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],On=e=>Object.prototype.hasOwnProperty.call(Dn,e),jn=e=>-1!==Mn.indexOf(e),Bn=e=>Ln[e],Un=e=>{On(e)||p(`Unknown parameter "${e}"`)},Fn=e=>{Rn.includes(e)&&p(`The parameter "${e}" is incompatible with toasts`)},$n=e=>{const t=Bn(e);t&&v(e,t)},Vn=e=>{!1===e.backdrop&&e.allowOutsideClick&&p('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)Un(t),e.toast&&Fn(t),$n(t)};function zn(e){const t=E(),n=je.innerParams.get(this);if(!t||Q(t,n.hideClass.popup))return void p("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const r=Hn(e),i=Object.assign({},n,r);dt(this,i),je.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const Hn=e=>{const t={};return Object.keys(e).forEach((n=>{jn(n)?t[n]=e[n]:p(`Invalid parameter to update: ${n}`)})),t};function qn(){const e=je.domCache.get(this),t=je.innerParams.get(this);t?(e.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),"function"===typeof t.didDestroy&&t.didDestroy(),o.eventEmitter.emit("didDestroy"),Wn(this)):Kn(this)}const Wn=e=>{Kn(e),delete e.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},Kn=e=>{e.isAwaitingPromise?(Yn(je,e),e.isAwaitingPromise=!0):(Yn(It,e),Yn(je,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Yn=(e,t)=>{for(const n in e)e[n].delete(t)};var Qn=Object.freeze({__proto__:null,_destroy:qn,close:Ht,closeModal:Ht,closePopup:Ht,closeToast:Ht,disableButtons:Tn,disableInput:An,disableLoading:xn,enableButtons:En,enableInput:In,getInput:Cn,handleAwaitingPromise:Kt,hideLoading:xn,rejectPromise:Wt,resetValidationMessage:Nn,showValidationMessage:Pn,update:zn});const Gn=(e,t,n)=>{e.toast?Xn(e,t,n):(er(t),tr(t),nr(e,t,n))},Xn=(e,t,n)=>{t.popup.onclick=()=>{e&&(Jn(e)||e.timer||e.input)||n(yt.close)}},Jn=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let Zn=!1;const er=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(Zn=!0)}}},tr=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(Zn=!0)}}},nr=(e,t,n)=>{t.container.onclick=r=>{Zn?Zn=!1:r.target===t.container&&b(e.allowOutsideClick)&&n(yt.backdrop)}},rr=e=>"object"===typeof e&&e.jquery,ir=e=>e instanceof Element||rr(e),sr=e=>{const t={};return"object"!==typeof e[0]||ir(e[0])?["title","html","icon"].forEach(((n,r)=>{const i=e[r];"string"===typeof i||ir(i)?t[n]=i:void 0!==i&&g(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)})):Object.assign(t,e[0]),t};function or(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)}function ar(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const lr=()=>o.timeout&&o.timeout.getTimerLeft(),cr=()=>{if(o.timeout)return ge(),o.timeout.stop()},ur=()=>{if(o.timeout){const e=o.timeout.start();return pe(e),e}},hr=()=>{const e=o.timeout;return e&&(e.running?cr():ur())},dr=e=>{if(o.timeout){const t=o.timeout.increase(e);return pe(t,!0),t}},fr=()=>!(!o.timeout||!o.timeout.isRunning());let pr=!1;const gr={};function mr(){gr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,pr||(document.body.addEventListener("click",yr),pr=!0)}const yr=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in gr){const n=t.getAttribute(e);if(n)return void gr[e].fire({template:n})}};class vr{constructor(){this.events={}}_getHandlersByEventName(e){return"undefined"===typeof this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){var n=this;const r=function(){n.removeListener(e,r);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];t.apply(n,s)};this.on(e,r)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._getHandlersByEventName(e).forEach((e=>{try{e.apply(this,n)}catch(g){console.error(g)}}))}removeListener(e,t){const n=this._getHandlersByEventName(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}}o.eventEmitter=new vr;const br=(e,t)=>{o.eventEmitter.on(e,t)},wr=(e,t)=>{o.eventEmitter.once(e,t)},xr=(e,t)=>{e?t?o.eventEmitter.removeListener(e,t):o.eventEmitter.removeAllListeners(e):o.eventEmitter.reset()};var _r=Object.freeze({__proto__:null,argsToParams:sr,bindClickHandler:mr,clickCancel:mt,clickConfirm:pt,clickDeny:gt,enableLoading:Jt,fire:or,getActions:U,getCancelButton:R,getCloseButton:V,getConfirmButton:L,getContainer:C,getDenyButton:O,getFocusableElements:H,getFooter:F,getHtmlContainer:P,getIcon:T,getIconContent:I,getImage:N,getInputLabel:j,getLoader:B,getPopup:E,getProgressSteps:D,getTimerLeft:lr,getTimerProgressBar:$,getTitle:A,getValidationMessage:M,increaseTimer:dr,isDeprecatedParameter:Bn,isLoading:K,isTimerRunning:fr,isUpdatableParameter:jn,isValidParameter:On,isVisible:ft,mixin:ar,off:xr,on:br,once:wr,resumeTimer:ur,showLoading:Jt,stopTimer:cr,toggleTimer:hr});class Cr{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const kr=["swal-title","swal-html","swal-footer"],Sr=e=>{const t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Mr(n),Object.assign(Er(n),Tr(n),Ir(n),Ar(n),Pr(n),Nr(n),Dr(n,kr))},Er=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach((e=>{Lr(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&("boolean"===typeof Dn[n]?t[n]="false"!==r:"object"===typeof Dn[n]?t[n]=JSON.parse(r):t[n]=r)})),t},Tr=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((e=>{const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&(t[n]=new Function(`return ${r}`)())})),t},Ir=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach((e=>{Lr(e,["type","color","aria-label"]);const n=e.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(t[`${n}ButtonText`]=e.innerHTML,t[`show${f(n)}Button`]=!0,e.hasAttribute("color")&&(t[`${n}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t[`${n}ButtonAriaLabel`]=e.getAttribute("aria-label")))})),t},Ar=e=>{const t={},n=e.querySelector("swal-image");return n&&(Lr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},Pr=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Lr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Nr=e=>{const t={},n=e.querySelector("swal-input");n&&(Lr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((e=>{Lr(e,["value"]);const n=e.getAttribute("value");if(!n)return;const r=e.innerHTML;t.inputOptions[n]=r}))),t},Dr=(e,t)=>{const n={};for(const r in t){const i=t[r],s=e.querySelector(i);s&&(Lr(s,[]),n[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},Mr=e=>{const t=kr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((e=>{const n=e.tagName.toLowerCase();t.includes(n)||p(`Unrecognized element <${n}>`)}))},Lr=(e,t)=>{Array.from(e.attributes).forEach((n=>{-1===t.indexOf(n.name)&&p([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."])}))},Rr=10,Or=e=>{const t=C(),n=E();"function"===typeof e.willOpen&&e.willOpen(n),o.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;Fr(t,n,e),setTimeout((()=>{Br(t,n)}),Rr),q()&&(Ur(t,e.scrollbarPadding,r),At()),W()||o.previousActiveElement||(o.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout((()=>e.didOpen(n))),o.eventEmitter.emit("didOpen",n),ne(t,u["no-transition"])},jr=e=>{const t=E();if(e.target!==t)return;const n=C();t.removeEventListener("animationend",jr),t.removeEventListener("transitionend",jr),n.style.overflowY="auto"},Br=(e,t)=>{fe(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",jr),t.addEventListener("transitionend",jr)):e.style.overflowY="auto"},Ur=(e,t,n)=>{Dt(),t&&"hidden"!==n&&Ft(n),setTimeout((()=>{e.scrollTop=0}))},Fr=(e,t,n)=>{te(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),se(t,"grid"),setTimeout((()=>{te(t,n.showClass.popup),t.style.removeProperty("opacity")}),Rr)):se(t,"grid"),te([document.documentElement,document.body],u.shown),n.heightAuto&&n.backdrop&&!n.toast&&te([document.documentElement,document.body],u["height-auto"])};var $r={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Vr(e){e.inputValidator||("email"===e.input&&(e.inputValidator=$r.email),"url"===e.input&&(e.inputValidator=$r.url))}function zr(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(p('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Hr(e){Vr(e),e.showLoaderOnConfirm&&!e.preConfirm&&p("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),zr(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),ke(e)}let qr;var Wr=new WeakMap;class Kr{constructor(){if(r(this,Wr,void 0),"undefined"===typeof window)return;qr=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=Object.freeze(this.constructor.argsToParams(t));this.params=s,this.isAwaitingPromise=!1,i(Wr,this,this._main(qr.params))}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Vn(Object.assign({},t,e)),o.currentInstance){const e=It.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:t}=o.currentInstance;o.currentInstance._destroy(),t||e({isDismissed:!0}),q()&&Pt()}o.currentInstance=qr;const n=Qr(e,t);Hr(n),Object.freeze(n),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);const r=Gr(qr);return dt(qr,n),je.innerParams.set(qr,n),Yr(qr,r,n)}then(e){return n(Wr,this).then(e)}finally(e){return n(Wr,this).finally(e)}}const Yr=(e,t,n)=>new Promise(((r,i)=>{const s=t=>{e.close({isDismissed:!0,dismiss:t})};It.swalPromiseResolve.set(e,r),It.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{dn(e)},t.denyButton.onclick=()=>{fn(e)},t.cancelButton.onclick=()=>{pn(e,s)},t.closeButton.onclick=()=>{s(yt.close)},Gn(n,t,s),bt(o,n,s),en(e,n),Or(n),Xr(o,n,s),Jr(t,n),setTimeout((()=>{t.container.scrollTop=0}))})),Qr=(e,t)=>{const n=Sr(e),r=Object.assign({},Dn,t,n,e);return r.showClass=Object.assign({},Dn.showClass,r.showClass),r.hideClass=Object.assign({},Dn.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},Gr=e=>{const t={popup:E(),container:C(),actions:U(),confirmButton:L(),denyButton:O(),cancelButton:R(),loader:B(),closeButton:V(),validationMessage:M(),progressSteps:D()};return je.domCache.set(e,t),t},Xr=(e,t,n)=>{const r=$();oe(r),t.timer&&(e.timeout=new Cr((()=>{n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(se(r),X(r,t,"timerProgressBar"),setTimeout((()=>{e.timeout&&e.timeout.running&&pe(t.timer)}))))},Jr=(e,t)=>{if(!t.toast)return b(t.allowEnterKey)?void(Zr(e)||ei(e,t)||wt(-1,1)):(v("allowEnterKey"),void ti())},Zr=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&ue(n))return n.focus(),!0;return!1},ei=(e,t)=>t.focusDeny&&ue(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ue(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!ue(e.confirmButton))&&(e.confirmButton.focus(),!0),ti=()=>{document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/864e5>3&&setTimeout((()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((()=>{e.play().catch((()=>{}))}),2500)}),500):localStorage.setItem("swal-initiation",`${e}`)}Kr.prototype.disableButtons=Tn,Kr.prototype.enableButtons=En,Kr.prototype.getInput=Cn,Kr.prototype.disableInput=An,Kr.prototype.enableInput=In,Kr.prototype.hideLoading=xn,Kr.prototype.disableLoading=xn,Kr.prototype.showValidationMessage=Pn,Kr.prototype.resetValidationMessage=Nn,Kr.prototype.close=Ht,Kr.prototype.closePopup=Ht,Kr.prototype.closeModal=Ht,Kr.prototype.closeToast=Ht,Kr.prototype.rejectPromise=Wt,Kr.prototype.update=zn,Kr.prototype._destroy=qn,Object.assign(Kr,_r),Object.keys(Qn).forEach((e=>{Kr[e]=function(){return qr&&qr[e]?qr[e](...arguments):null}})),Kr.DismissReason=yt,Kr.version="11.14.5";const ni=Kr;return ni.default=ni,ni}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".a6a97343.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="app:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/CSIT314-T05-CodeCrusaders/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkapp=self.webpackChunkapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t,r=n(43),i=n.t(r,2),s=n(391),o=n(950),a=n.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}(t=e||(e={})).Pop="POP",t.Push="PUSH",t.Replace="REPLACE";const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,h=e.Pop,g=null,m=y();function y(){return(a.state||{idx:null}).idx}function v(){h=e.Pop;let t=y(),n=null==t?null:t-m;m=t,g&&g({action:h,location:w.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,a.replaceState(l({},a.state,{idx:m}),""));let w={get action(){return h},get location(){return t(s,a)},listen(e){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(c,v),g=e,()=>{s.removeEventListener(c,v),g=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){h=e.Push;let i=f(w.location,t,n);r&&r(i,t),m=y()+1;let l=d(i,m),c=w.createHref(i);try{a.pushState(l,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(c)}o&&g&&g({action:h,location:w.location,delta:1})},replace:function(t,n){h=e.Replace;let i=f(w.location,t,n);r&&r(i,t),m=y();let s=d(i,m),l=w.createHref(i);a.replaceState(s,"",l),o&&g&&g({action:h,location:w.location,delta:0})},go:e=>a.go(e)};return w}var y,v;(v=y||(y={})).data="data",v.deferred="deferred",v.redirect="redirect",v.error="error";new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=L(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=M(i);o=N(s[a],e,r)}return o}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=R([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:P(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=_(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const C=/^:[\w-]+$/,k=3,S=2,E=1,T=10,I=-2,A=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=I),t&&(r+=S),n.filter((e=>!A(e))).reduce(((e,t)=>e+(C.test(t)?k:""===t?E:T)),r)}function N(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:R([s,u.pathname]),pathnameBase:O(R([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=R([s,u.pathnameBase]))}return o}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function M(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const R=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;function j(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],U=(new Set(B),["get",...B]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}const $=r.createContext(null);const V=r.createContext(null);const z=r.createContext(null);const H=r.createContext(null);const q=r.createContext({outlet:null,matches:[],isDataRoute:!1});const W=r.createContext(null);function K(){return null!=r.useContext(H)}function Y(){return K()||u(!1),r.useContext(H).location}function Q(t,n,i,s){K()||u(!1);let{navigator:o}=r.useContext(z),{matches:a}=r.useContext(q),l=a[a.length-1],c=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=Y();if(n){var p;let e="string"===typeof n?g(n):n;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||u(!1),d=e}else d=f;let m=d.pathname||"/",y=m;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=b(t,{pathname:y});let w=ee(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:R([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:R([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,s);return n&&w?r.createElement(H.Provider,{value:{location:F({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},w):w}function G(){let e=function(){var e;let t=r.useContext(W),n=ne(te.UseRouteError),i=re(te.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=j(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const X=r.createElement(G,null);class J extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(q.Provider,{value:this.props.routeContext},r.createElement(W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext($);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(q.Provider,{value:t},i)}function ee(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,u=!1,d=null,f=null;var p;n&&(o=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||X,c&&(h<0&&0===s?(p="route-fallback",!1||ie[p]||(ie[p]=!0),u=!0,f=null):h===s&&(u=!0,f=i.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,s+1)),m=()=>{let t;return t=o?d:u?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Z,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(J,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var te=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(te||{});function ne(e){let t=r.useContext(V);return t||u(!1),t}function re(e){let t=function(){let e=r.useContext(q);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const ie={};const se={};const oe=(e,t,n)=>{var r;se[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(se[r]=!0,console.warn(r))};function ae(e,t){null!=e&&e.v7_startTransition||oe("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),null!=e&&e.v7_relativeSplatPath||t&&t.v7_relativeSplatPath||oe("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||oe("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||oe("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||oe("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||oe("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}i.startTransition;function le(e){u(!1)}function ce(t){let{basename:n="/",children:i=null,location:s,navigationType:o=e.Pop,navigator:a,static:l=!1,future:c}=t;K()&&u(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:a,static:l,future:F({v7_relativeSplatPath:!1},c)})),[h,c,a,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:v="default"}=s,b=r.useMemo((()=>{let e=L(f,h);return null==e?null:{location:{pathname:e,search:p,hash:m,state:y,key:v},navigationType:o}}),[h,f,p,m,y,v,o]);return null==b?null:r.createElement(z.Provider,{value:d},r.createElement(H.Provider,{children:i,value:b}))}function ue(e){let{children:t,location:n}=e;return Q(he(t),n)}new Promise((()=>{}));r.Component;function he(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,he(e.props.children,s));e.type!==le&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=he(e.props.children,s)),n.push(o)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(cx){}new Map;const de=i.startTransition;a.flushSync,i.useId;function fe(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&de?de((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>l.listen(d)),[l,d]),r.useEffect((()=>ae(i)),[i]),r.createElement(ce,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var pe,ge,me,ye;(ge=pe||(pe={})).UseScrollRestoration="useScrollRestoration",ge.UseSubmit="useSubmit",ge.UseSubmitFetcher="useSubmitFetcher",ge.UseFetcher="useFetcher",ge.useViewTransitionState="useViewTransitionState",(ye=me||(me={})).UseFetcher="useFetcher",ye.UseFetchers="useFetchers",ye.UseScrollRestoration="useScrollRestoration";function ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var be=function e(t,n){function r(e,r,i){if("undefined"!==typeof document){"number"===typeof(i=ve({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in i)i[o]&&(s+="; "+o,!0!==i[o]&&(s+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var s=n[i].split("="),o=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(r[a]=t.read(o,a),e===a)break}catch(cx){}}return e?r[e]:r}},remove:function(e,t){r(e,"",ve({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,ve({},this.attributes,t))},withConverter:function(t){return e(ve({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const we=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(we(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new _e;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(e){return function(e){const t=we(e);return xe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ke=function(e){try{return xe.decodeString(e,!0)}catch(cx){console.error("base64Decode failed: ",cx)}return null};const Se=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ee=()=>{try{return Se()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/CSIT314-T05-CodeCrusaders",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(cx){return}const t=e&&ke(e[1]);return t&&JSON.parse(t)})()}catch(cx){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${cx}`)}},Te=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Ee())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ie=()=>{var e;return null===(e=Ee())||void 0===e?void 0:e.config};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Pe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(s)),""].join(".")}function Ne(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function De(){return!function(){var e;const t=null===(e=Ee())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(cx){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"===typeof indexedDB}catch(cx){return!1}}class Le extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Re.prototype.create)}}class Re{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Oe,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Le(n,s,t)}}const Oe=/\{\$([^}]+)}/g;function je(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Be(n)&&Be(s)){if(!je(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Be(e){return null!==e&&"object"===typeof e}function Ue(e){return e&&e._delegate?e._delegate:e}class Fe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $e="[DEFAULT]";class Ve{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ae;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(cx){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(cx){if(r)return null;throw cx}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$e})}catch(cx){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(cx){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===$e?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;return this.component?this.component.multipleInstances?e:$e:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ze{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ve(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const He=[];var qe,We;(We=qe||(qe={}))[We.DEBUG=0]="DEBUG",We[We.VERBOSE=1]="VERBOSE",We[We.INFO=2]="INFO",We[We.WARN=3]="WARN",We[We.ERROR=4]="ERROR",We[We.SILENT=5]="SILENT";const Ke={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Ye=qe.INFO,Qe={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Ge=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Qe[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class Xe{constructor(e){this.name=e,this._logLevel=Ye,this._logHandler=Ge,this._userLogHandler=null,He.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ke[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...t),this._logHandler(this,qe.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...t),this._logHandler(this,qe.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,qe.INFO,...t),this._logHandler(this,qe.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,qe.WARN,...t),this._logHandler(this,qe.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...t),this._logHandler(this,qe.ERROR,...t)}}let Je,Ze;const et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap;let st={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return tt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||nt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ot(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ze||(Ze=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ct(this),n),lt(et.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lt(e.apply(ct(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(ct(this),t,...r);return nt.set(s,t.sort?t.sort():[t]),lt(s)}}function at(e){return"function"===typeof e?ot(e):(e instanceof IDBTransaction&&function(e){if(tt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));tt.set(e,t)}(e),t=e,(Je||(Je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,st):e);var t}function lt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(lt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&et.set(t,e)})).catch((()=>{})),it.set(t,e),t}(e);if(rt.has(e))return rt.get(e);const t=at(e);return t!==e&&(rt.set(e,t),it.set(t,e)),t}const ct=e=>it.get(e);const ut=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],dt=new Map;function ft(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(dt.get(t))return dt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ht.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ut.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return dt.set(t,s),s}st=(e=>({...e,get:(t,n,r)=>ft(t,n)||e.get(t,n,r),has:(t,n)=>!!ft(t,n)||e.has(t,n)}))(st);class pt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const gt="@firebase/app",mt="0.10.13",yt=new Xe("@firebase/app"),vt="@firebase/app-compat",bt="@firebase/analytics-compat",wt="@firebase/analytics",xt="@firebase/app-check-compat",_t="@firebase/app-check",Ct="@firebase/auth",kt="@firebase/auth-compat",St="@firebase/database",Et="@firebase/data-connect",Tt="@firebase/database-compat",It="@firebase/functions",At="@firebase/functions-compat",Pt="@firebase/installations",Nt="@firebase/installations-compat",Dt="@firebase/messaging",Mt="@firebase/messaging-compat",Lt="@firebase/performance",Rt="@firebase/performance-compat",Ot="@firebase/remote-config",jt="@firebase/remote-config-compat",Bt="@firebase/storage",Ut="@firebase/storage-compat",Ft="@firebase/firestore",$t="@firebase/vertexai-preview",Vt="@firebase/firestore-compat",zt="firebase",Ht="[DEFAULT]",qt={[gt]:"fire-core",[vt]:"fire-core-compat",[wt]:"fire-analytics",[bt]:"fire-analytics-compat",[_t]:"fire-app-check",[xt]:"fire-app-check-compat",[Ct]:"fire-auth",[kt]:"fire-auth-compat",[St]:"fire-rtdb",[Et]:"fire-data-connect",[Tt]:"fire-rtdb-compat",[It]:"fire-fn",[At]:"fire-fn-compat",[Pt]:"fire-iid",[Nt]:"fire-iid-compat",[Dt]:"fire-fcm",[Mt]:"fire-fcm-compat",[Lt]:"fire-perf",[Rt]:"fire-perf-compat",[Ot]:"fire-rc",[jt]:"fire-rc-compat",[Bt]:"fire-gcs",[Ut]:"fire-gcs-compat",[Ft]:"fire-fst",[Vt]:"fire-fst-compat",[$t]:"fire-vertex","fire-js":"fire-js",[zt]:"fire-js-all"},Wt=new Map,Kt=new Map,Yt=new Map;function Qt(e,t){try{e.container.addComponent(t)}catch(cx){yt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,cx)}}function Gt(e){const t=e.name;if(Yt.has(t))return yt.debug(`There were multiple attempts to register component ${t}.`),!1;Yt.set(t,e);for(const n of Wt.values())Qt(n,e);for(const n of Kt.values())Qt(n,e);return!0}function Xt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Jt=new Re("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Zt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Fe("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jt.create("app-deleted",{appName:this._name})}}const en="10.14.1";function tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Jt.create("bad-app-name",{appName:String(i)});if(n||(n=Ie()),!n)throw Jt.create("no-options");const s=Wt.get(i);if(s){if(je(n,s.options)&&je(r,s.config))return s;throw Jt.create("duplicate-app",{appName:i})}const o=new ze(i);for(const l of Yt.values())o.addComponent(l);const a=new Zt(n,r,o);return Wt.set(i,a),a}function nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;const t=Wt.get(e);if(!t&&e===Ht&&Ie())return tn();if(!t)throw Jt.create("no-app",{appName:e});return t}function rn(e,t,n){var r;let i=null!==(r=qt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void yt.warn(e.join(" "))}Gt(new Fe(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const sn="firebase-heartbeat-store";let on=null;function an(){return on||(on=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=lt(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(lt(o.result),e.oldVersion,e.newVersion,lt(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(sn)}catch(cx){console.warn(cx)}}}).catch((e=>{throw Jt.create("idb-open",{originalErrorMessage:e.message})}))),on}async function ln(e,t){try{const n=(await an()).transaction(sn,"readwrite"),r=n.objectStore(sn);await r.put(t,cn(e)),await n.done}catch(cx){if(cx instanceof Le)yt.warn(cx.message);else{const t=Jt.create("idb-set",{originalErrorMessage:null===cx||void 0===cx?void 0:cx.message});yt.warn(t.message)}}}function cn(e){return`${e.name}!${e.options.appId}`}class un{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(cx){yt.warn(cx)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=hn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),fn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ce(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(cx){return yt.warn(cx),""}}}function hn(){return(new Date).toISOString().substring(0,10)}class dn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Me()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await an()).transaction(sn),n=await t.objectStore(sn).get(cn(e));return await t.done,n}catch(cx){if(cx instanceof Le)yt.warn(cx.message);else{const t=Jt.create("idb-get",{originalErrorMessage:null===cx||void 0===cx?void 0:cx.message});yt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ln(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ln(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function fn(e){return Ce(JSON.stringify({version:2,heartbeats:e})).length}var pn;pn="",Gt(new Fe("platform-logger",(e=>new pt(e)),"PRIVATE")),Gt(new Fe("heartbeat",(e=>new un(e)),"PRIVATE")),rn(gt,mt,pn),rn(gt,mt,"esm2017"),rn("fire-js","");rn("firebase","10.14.1","app");var gn,mn,yn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},vn={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);h(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new g(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(s)>>>16,m=65535&e.i(s);n[2*i+2*s]+=f*m,p(n,2*i+2*s),n[2*i+2*s+1]+=l*m,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*g,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*g,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,mn=vn.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},gn=vn.Integer=r}).apply("undefined"!==typeof yn?yn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var bn,wn,xn,_n,Cn,kn,Sn,En,Tn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},In={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Tn&&Tn];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new E),(e=>e.reset()));class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(N)}};var N=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){C(n)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function D(){this.s=this.s,this.C=this.C}function M(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function R(e,t){if(M.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{m(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&R.aa.h.call(this)}}h(R,M);var O={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),B=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++B,this.da=this.fa=!1}function F(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(F(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=z(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function W(e,t,n,r,i){if(r&&r.once)return Y(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[j]?e.K(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new $(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)L||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);return null}return n=te(n),e&&e[j]?e.L(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=z(s=e.g[t],n,r,i))&&(F(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=-1<e?t[e]:null)&&G(n))}function G(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[H]=null)):F(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new R(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof $?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new $(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new M(t,e);else if(t instanceof M)t.target=t.target||e;else{var i=t;x(t=new M(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&V(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,D),ne.prototype[j]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)F(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}h(le,D);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&G(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){M.call(this,"d")}function be(){M.call(this,"c")}h(ve,M),h(be,M);var we={},xe=null;function _e(){return xe=xe||new ne}function Ce(e){M.call(this,we.La,e)}function ke(e){const t=_e();re(t,new Ce(t))}function Se(e,t){M.call(this,we.STAT_EVENT,e),this.stat=t}function Ee(e){const t=_e();re(t,new Se(t,e))}function Te(e,t){M.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Ce,M),we.STAT_EVENT="statevent",h(Se,M),we.Ma="timingevent",h(Te,M),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Ne,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Me={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Le(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}h(Le,pe),Le.prototype.g=function(){return new XMLHttpRequest},Le.prototype.i=function(){return{}},Ne=new Le;var je={},Be={};function Ue(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Fe(e,null)}function Fe(e,t){e.F=Date.now(),ze(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Be:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Be:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Gt(n)}rn(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(qe(a),ze(a)),r.g=o}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const d=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=d||7==t||ke(),qe(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=Wt(this.g);e="";var s=r.length,o=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),Ke(this),We(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Be){4==d&&(this.s=4,Ee(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==je){this.s=4,Ee(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ye(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Ee(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),We(this)}else Pe(this.i,this.l,a,null),Ye(this,a);4==d&&Ke(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ke(this),We(this)}}}catch(d){}},Re.prototype.cancel=function(){this.J=!0,Ke(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ee(17)),Ke(this),this.s=2,We(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Ge.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var gt,mt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ct(e,t){_t(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return _t(e),t=Et(e,t),e.g.has(t)}function St(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),d(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function It(){this.g=new fe}function At(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(cx){throw t.push(r+"type="+encodeURIComponent("_badmap")),cx}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Mt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Lt(e)}function Lt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function jt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){_t(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,kt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(Pt,pe),Pt.prototype.g=function(){return new Nt(this.l,this.j)},Pt.prototype.i=(gt={},function(){return gt}),h(Nt,ne),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Lt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mt(this):Lt(this),3==this.readyState&&Dt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Mt(this))},e.Qa=function(e){this.g&&(this.response=e,Mt(this))},e.ga=function(){this.g&&Mt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(jt,ne);var Bt=/^https?$/i,Ut=["POST","PUT"];function Ft(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),zt(e)}function $t(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Bt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",$t(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(cx){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Re(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}hn(e)}function Gt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Gt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||P(),I||(T(),I=!0),A.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{At(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||P(),I||(T(),I=!0),A.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Fe(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Te(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),hn(e),Xt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new jt(new Pt({eb:n})):new jt(e.pa)).Ha(e.J),t}function pn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new An(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function An(e){this.g=e}(e=jt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?ge(this.o):ge(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ft(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ft(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Re(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Rt(s)))+"&"+t:this.m&&Ot(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Gt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),rn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,mn.aa.N.call(this)},h(yn,ve),h(vn,be),h(An,pn),An.prototype.ua=function(){re(this.g,"a")},An.prototype.ta=function(e){re(this.g,new yn(e))},An.prototype.sa=function(e){re(this.g,new vn)},An.prototype.ra=function(){re(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,En=In.createWebChannelTransport=function(){return new gn},Sn=In.getStatEventTarget=function(){return _e()},kn=In.Event=we,Cn=In.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,_n=In.ErrorCode=De,Me.COMPLETE="complete",xn=In.EventType=Me,me.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,wn=In.WebChannel=me,In.FetchXmlHttpFactory=Pt,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,bn=In.XhrIo=jt}).apply("undefined"!==typeof Tn?Tn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const An="@firebase/firestore";class Pn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");let Nn="10.14.0";const Dn=new Xe("@firebase/firestore");function Mn(){return Dn.logLevel}function Ln(e){if(Dn.logLevel<=qe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(jn);Dn.debug(`Firestore (${Nn}): ${e}`,...i)}}function Rn(e){if(Dn.logLevel<=qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(jn);Dn.error(`Firestore (${Nn}): ${e}`,...i)}}function On(e){if(Dn.logLevel<=qe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(jn);Dn.warn(`Firestore (${Nn}): ${e}`,...i)}}function jn(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Bn(){const e=`FIRESTORE (${Nn}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Rn(e),new Error(e)}function Un(e,t){e||Bn()}function Fn(e,t){return e}const $n={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vn extends Le{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Hn{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Pn.UNAUTHENTICATED)))}shutdown(){}}class Wn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Kn{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Un(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zn,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Ln("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ln("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zn)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ln("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Un("string"==typeof t.accessToken),new Hn(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Un(null===e||"string"==typeof e),new Pn(e)}}class Yn{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qn{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Yn(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Un(void 0===this.o);const n=e=>{null!=e.error&&Ln("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Ln("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ln("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ln("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Un("string"==typeof e.token),this.R=e.token,new Gn(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Jn(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Zn{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Jn(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function er(e,t){return e<t?-1:e>t?1:0}function tr(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vn($n.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vn($n.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Vn($n.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vn($n.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new nr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?er(this.nanoseconds,e.nanoseconds):er(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rr(e)}static min(){return new rr(new nr(0,0))}static max(){return new rr(new nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ir{constructor(e,t,n){void 0===t?t=0:t>e.length&&Bn(),void 0===n?n=e.length-t:n>e.length-t&&Bn(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ir.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sr extends ir{construct(e,t,n){return new sr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Vn($n.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new sr(e)}static emptyPath(){return new sr([])}}const or=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends ir{construct(e,t,n){return new ar(e,t,n)}static isValidIdentifier(e){return or.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Vn($n.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Vn($n.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Vn($n.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Vn($n.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}class lr{constructor(e){this.path=e}static fromPath(e){return new lr(sr.fromString(e))}static fromName(e){return new lr(sr.fromString(e).popFirst(5))}static empty(){return new lr(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lr(new sr(e.slice()))}}class cr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}cr.UNKNOWN_ID=-1;function ur(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=rr.fromTimestamp(1e9===r?new nr(n+1,0):new nr(n,r));return new dr(i,lr.empty(),t)}function hr(e){return new dr(e.readTime,e.key,-1)}class dr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new dr(rr.min(),lr.empty(),-1)}static max(){return new dr(rr.max(),lr.empty(),-1)}}function fr(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=lr.comparator(e.documentKey,t.documentKey),0!==n?n:er(e.largestBatchId,t.largestBatchId))}const pr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function mr(e){if(e.code!==$n.FAILED_PRECONDITION||e.message!==pr)throw e;Ln("LocalStore","Unexpectedly lost primary lease")}class yr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new yr(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof yr?t:yr.resolve(t)}catch(e){return yr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):yr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):yr.reject(t)}static resolve(e){return new yr(((t,n)=>{t(e)}))}static reject(e){return new yr(((t,n)=>{n(e)}))}static waitFor(e){return new yr(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=yr.resolve(!1);for(const n of e)t=t.next((e=>e?yr.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new yr(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new yr(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function vr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function br(e){return"IndexedDbTransactionError"===e.name}class wr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function xr(e){return null==e}function _r(e){return 0===e&&1/e==-1/0}function Cr(e){return"number"==typeof e&&Number.isInteger(e)&&!_r(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}wr.oe=-1;const kr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Sr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Er=Sr,Tr=[...Er,"indexConfiguration","indexState","indexEntries"];function Ir(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ar(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Pr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Nr{constructor(e,t){this.comparator=e,this.root=t||Mr.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dr(this.root,e,this.comparator,!0)}}class Dr{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Mr.RED,this.left=null!=r?r:Mr.EMPTY,this.right=null!=i?i:Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Mr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Mr.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bn();if(this.right.isRed())throw Bn();const e=this.left.check();if(e!==this.right.check())throw Bn();return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1,Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Bn()}get value(){throw Bn()}get color(){throw Bn()}get left(){throw Bn()}get right(){throw Bn()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Mr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lr{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Rr(this.data.getIterator())}getIteratorFrom(e){return new Rr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Lr))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Lr(this.comparator);return t.data=e,t}}class Rr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Or{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new Or([])}unionWith(e){let t=new Lr(ar.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class jr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new jr("Invalid base64 string: "+e):e}}(e);return new Br(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return er(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const Ur=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(e){if(Un(!!e),"string"==typeof e){let t=0;const n=Ur.exec(e);if(Un(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:$r(e.seconds),nanos:$r(e.nanos)}}function $r(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vr(e){return"string"==typeof e?Br.fromBase64String(e):Br.fromUint8Array(e)}function zr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hr(e){const t=e.mapValue.fields.__previous_value__;return zr(t)?Hr(t):t}function qr(e){const t=Fr(e.mapValue.fields.__local_write_time__.timestampValue);return new nr(t.seconds,t.nanos)}class Wr{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Kr{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kr&&e.projectId===this.projectId&&e.database===this.database}}const Yr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zr(e)?4:hi(e)?9007199254740991:ci(e)?10:11:Bn()}function Gr(e,t){if(e===t)return!0;const n=Qr(e);if(n!==Qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qr(e).isEqual(qr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Fr(e.timestampValue),r=Fr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vr(e.bytesValue).isEqual(Vr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $r(e.geoPointValue.latitude)===$r(t.geoPointValue.latitude)&&$r(e.geoPointValue.longitude)===$r(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $r(e.integerValue)===$r(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=$r(e.doubleValue),r=$r(t.doubleValue);return n===r?_r(n)===_r(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return tr(e.arrayValue.values||[],t.arrayValue.values||[],Gr);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ir(n)!==Ir(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gr(n[i],r[i])))return!1;return!0}(e,t);default:return Bn()}}function Xr(e,t){return void 0!==(e.values||[]).find((e=>Gr(e,t)))}function Jr(e,t){if(e===t)return 0;const n=Qr(e),r=Qr(t);if(n!==r)return er(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return er(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=$r(e.integerValue||e.doubleValue),r=$r(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zr(e.timestampValue,t.timestampValue);case 4:return Zr(qr(e),qr(t));case 5:return er(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Vr(e),r=Vr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=er(n[i],r[i]);if(0!==e)return e}return er(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=er($r(e.latitude),$r(t.latitude));return 0!==n?n:er($r(e.longitude),$r(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ei(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=er((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:ei(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Yr.mapValue&&t===Yr.mapValue)return 0;if(e===Yr.mapValue)return 1;if(t===Yr.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=er(r[o],s[o]);if(0!==e)return e;const t=Jr(n[r[o]],i[s[o]]);if(0!==t)return t}return er(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Bn()}}function Zr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return er(e,t);const n=Fr(e),r=Fr(t),i=er(n.seconds,r.seconds);return 0!==i?i:er(n.nanos,r.nanos)}function ei(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Jr(n[i],r[i]);if(e)return e}return er(n.length,r.length)}function ti(e){return ni(e)}function ni(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Fr(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Vr(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return lr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ni(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ni(e.fields[i])}`;return n+"}"}(e.mapValue):Bn()}function ri(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ii(e){return!!e&&"integerValue"in e}function si(e){return!!e&&"arrayValue"in e}function oi(e){return!!e&&"nullValue"in e}function ai(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function li(e){return!!e&&"mapValue"in e}function ci(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ui(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ar(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ui(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ui(e.arrayValue.values[n]);return t}return Object.assign({},e)}function hi(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!li(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ui(t)}setAll(e){let t=ar.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ui(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());li(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];li(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ar(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new di(ui(this.value))}}function fi(e){const t=[];return Ar(e.fields,((e,n)=>{const r=new ar([e]);if(li(n)){const e=fi(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Or(t)}class pi{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new pi(e,0,rr.min(),rr.min(),rr.min(),di.empty(),0)}static newFoundDocument(e,t,n,r){return new pi(e,1,t,rr.min(),n,r,0)}static newNoDocument(e,t){return new pi(e,2,t,rr.min(),rr.min(),di.empty(),0)}static newUnknownDocument(e,t){return new pi(e,3,t,rr.min(),rr.min(),di.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gi{constructor(e,t){this.position=e,this.inclusive=t}}function mi(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?lr.comparator(lr.fromName(o.referenceValue),n.key):Jr(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function yi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gr(e.position[n],t.position[n]))return!1;return!0}class vi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function bi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wi{}class xi extends wi{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ai(e,t,n):"array-contains"===t?new Mi(e,n):"in"===t?new Li(e,n):"not-in"===t?new Ri(e,n):"array-contains-any"===t?new Oi(e,n):new xi(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Pi(e,n):new Ni(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Jr(t,this.value)):null!==t&&Qr(this.value)===Qr(t)&&this.matchesComparison(Jr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends wi{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _i(e,t)}matches(e){return Ci(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ci(e){return"and"===e.op}function ki(e){return Si(e)&&Ci(e)}function Si(e){for(const t of e.filters)if(t instanceof _i)return!1;return!0}function Ei(e){if(e instanceof xi)return e.field.canonicalString()+e.op.toString()+ti(e.value);if(ki(e))return e.filters.map((e=>Ei(e))).join(",");{const t=e.filters.map((e=>Ei(e))).join(",");return`${e.op}(${t})`}}function Ti(e,t){return e instanceof xi?function(e,t){return t instanceof xi&&e.op===t.op&&e.field.isEqual(t.field)&&Gr(e.value,t.value)}(e,t):e instanceof _i?function(e,t){return t instanceof _i&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ti(n,t.filters[r])),!0)}(e,t):void Bn()}function Ii(e){return e instanceof xi?function(e){return`${e.field.canonicalString()} ${e.op} ${ti(e.value)}`}(e):e instanceof _i?function(e){return e.op.toString()+" {"+e.getFilters().map(Ii).join(" ,")+"}"}(e):"Filter"}class Ai extends xi{constructor(e,t,n){super(e,t,n),this.key=lr.fromName(n.referenceValue)}matches(e){const t=lr.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pi extends xi{constructor(e,t){super(e,"in",t),this.keys=Di("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ni extends xi{constructor(e,t){super(e,"not-in",t),this.keys=Di("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Di(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>lr.fromName(e.referenceValue)))}class Mi extends xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return si(t)&&Xr(t.arrayValue,this.value)}}class Li extends xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xr(this.value.arrayValue,t)}}class Ri extends xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xr(this.value.arrayValue,t)}}class Oi extends xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!si(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Xr(this.value.arrayValue,e)))}}class ji{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function Bi(e){return new ji(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ui(e){const t=Fn(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ei(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),xr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ti(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ti(e))).join(",")),t.ue=e}return t.ue}function Fi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ti(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yi(e.startAt,t.startAt)&&yi(e.endAt,t.endAt)}function $i(e){return lr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Vi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zi(e,t,n,r,i,s,o,a){return new Vi(e,t,n,r,i,s,o,a)}function Hi(e){return new Vi(e)}function qi(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wi(e){return null!==e.collectionGroup}function Ki(e){const t=Fn(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Lr(ar.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new vi(r,n))})),e.has(ar.keyField().canonicalString())||t.ce.push(new vi(ar.keyField(),n))}return t.ce}function Yi(e){const t=Fn(e);return t.le||(t.le=Qi(t,Ki(e))),t.le}function Qi(e,t){if("F"===e.limitType)return Bi(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new vi(e.field,t)}));const n=e.endAt?new gi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new gi(e.startAt.position,e.startAt.inclusive):null;return Bi(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Gi(e,t){const n=e.filters.concat([t]);return new Vi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Xi(e,t,n){return new Vi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ji(e,t){return Fi(Yi(e),Yi(t))&&e.limitType===t.limitType}function Zi(e){return`${Ui(Yi(e))}|lt:${e.limitType}`}function es(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Ii(e))).join(", ")}]`),xr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ti(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ti(e))).join(",")),`Target(${t})`}(Yi(e))}; limitType=${e.limitType})`}function ts(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):lr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ki(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=mi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ki(e),t))&&!(e.endAt&&!function(e,t,n){const r=mi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ki(e),t))}(e,t)}function ns(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rs(e){return(t,n)=>{let r=!1;for(const i of Ki(e)){const e=is(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function is(e,t,n){const r=e.field.isKeyField()?lr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Jr(r,i):Bn()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bn()}}class ss{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Pr(this.inner)}size(){return this.innerSize}}const os=new Nr(lr.comparator);function as(){return os}const ls=new Nr(lr.comparator);function cs(){let e=ls;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function us(e){let t=ls;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function hs(){return fs()}function ds(){return fs()}function fs(){return new ss((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ps=new Nr(lr.comparator),gs=new Lr(lr.comparator);function ms(){let e=gs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ys=new Lr(er);function vs(){return ys}function bs(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_r(t)?"-0":t}}function ws(e){return{integerValue:""+e}}function xs(e,t){return Cr(t)?ws(t):bs(e,t)}class _s{constructor(){this._=void 0}}function Cs(e,t,n){return e instanceof Es?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&zr(t)&&(t=Hr(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ts?Is(e,t):e instanceof As?Ps(e,t):function(e,t){const n=Ss(e,t),r=Ds(n)+Ds(e.Pe);return ii(n)&&ii(e.Pe)?ws(r):bs(e.serializer,r)}(e,t)}function ks(e,t,n){return e instanceof Ts?Is(e,t):e instanceof As?Ps(e,t):n}function Ss(e,t){return e instanceof Ns?function(e){return ii(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Es extends _s{}class Ts extends _s{constructor(e){super(),this.elements=e}}function Is(e,t){const n=Ms(t);for(const r of e.elements)n.some((e=>Gr(e,r)))||n.push(r);return{arrayValue:{values:n}}}class As extends _s{constructor(e){super(),this.elements=e}}function Ps(e,t){let n=Ms(t);for(const r of e.elements)n=n.filter((e=>!Gr(e,r)));return{arrayValue:{values:n}}}class Ns extends _s{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ds(e){return $r(e.integerValue||e.doubleValue)}function Ms(e){return si(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ls{constructor(e,t){this.field=e,this.transform=t}}class Rs{constructor(e,t){this.version=e,this.transformResults=t}}class Os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Os}static exists(e){return new Os(void 0,e)}static updateTime(e){return new Os(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function js(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Bs{}function Us(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qs(e.key,Os.none()):new Hs(e.key,e.data,Os.none());{const n=e.data,r=di.empty();let i=new Lr(ar.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new qs(e.key,r,new Or(i.toArray()),Os.none())}}function Fs(e,t,n){e instanceof Hs?function(e,t,n){const r=e.value.clone(),i=Ks(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qs?function(e,t,n){if(!js(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ks(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ws(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $s(e,t,n,r){return e instanceof Hs?function(e,t,n,r){if(!js(e.precondition,t))return n;const i=e.value.clone(),s=Ys(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof qs?function(e,t,n,r){if(!js(e.precondition,t))return n;const i=Ys(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ws(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return js(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Vs(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ss(r.transform,e||null);null!=i&&(null===n&&(n=di.empty()),n.set(r.field,i))}return n||null}function zs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&tr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ts&&t instanceof Ts||e instanceof As&&t instanceof As?tr(e.elements,t.elements,Gr):e instanceof Ns&&t instanceof Ns?Gr(e.Pe,t.Pe):e instanceof Es&&t instanceof Es}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hs extends Bs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qs extends Bs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ws(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ks(e,t,n){const r=new Map;Un(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,ks(o,a,n[i]))}return r}function Ys(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Cs(e,s,t))}return r}class Qs extends Bs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gs extends Bs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xs{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Fs(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=$s(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=$s(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ds();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Us(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(rr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ms())}isEqual(e){return this.batchId===e.batchId&&tr(this.mutations,e.mutations,((e,t)=>zs(e,t)))&&tr(this.baseMutations,e.baseMutations,((e,t)=>zs(e,t)))}}class Js{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Un(e.mutations.length===n.length);let r=ps;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Js(e,t,n,r)}}class Zs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class eo{constructor(e,t){this.count=e,this.unchangedNames=t}}var to,no;function ro(e){switch(e){default:return Bn();case $n.CANCELLED:case $n.UNKNOWN:case $n.DEADLINE_EXCEEDED:case $n.RESOURCE_EXHAUSTED:case $n.INTERNAL:case $n.UNAVAILABLE:case $n.UNAUTHENTICATED:return!1;case $n.INVALID_ARGUMENT:case $n.NOT_FOUND:case $n.ALREADY_EXISTS:case $n.PERMISSION_DENIED:case $n.FAILED_PRECONDITION:case $n.ABORTED:case $n.OUT_OF_RANGE:case $n.UNIMPLEMENTED:case $n.DATA_LOSS:return!0}}function io(e){if(void 0===e)return Rn("GRPC error has no .code"),$n.UNKNOWN;switch(e){case to.OK:return $n.OK;case to.CANCELLED:return $n.CANCELLED;case to.UNKNOWN:return $n.UNKNOWN;case to.DEADLINE_EXCEEDED:return $n.DEADLINE_EXCEEDED;case to.RESOURCE_EXHAUSTED:return $n.RESOURCE_EXHAUSTED;case to.INTERNAL:return $n.INTERNAL;case to.UNAVAILABLE:return $n.UNAVAILABLE;case to.UNAUTHENTICATED:return $n.UNAUTHENTICATED;case to.INVALID_ARGUMENT:return $n.INVALID_ARGUMENT;case to.NOT_FOUND:return $n.NOT_FOUND;case to.ALREADY_EXISTS:return $n.ALREADY_EXISTS;case to.PERMISSION_DENIED:return $n.PERMISSION_DENIED;case to.FAILED_PRECONDITION:return $n.FAILED_PRECONDITION;case to.ABORTED:return $n.ABORTED;case to.OUT_OF_RANGE:return $n.OUT_OF_RANGE;case to.UNIMPLEMENTED:return $n.UNIMPLEMENTED;case to.DATA_LOSS:return $n.DATA_LOSS;default:return Bn()}}(no=to||(to={}))[no.OK=0]="OK",no[no.CANCELLED=1]="CANCELLED",no[no.UNKNOWN=2]="UNKNOWN",no[no.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",no[no.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",no[no.NOT_FOUND=5]="NOT_FOUND",no[no.ALREADY_EXISTS=6]="ALREADY_EXISTS",no[no.PERMISSION_DENIED=7]="PERMISSION_DENIED",no[no.UNAUTHENTICATED=16]="UNAUTHENTICATED",no[no.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",no[no.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",no[no.ABORTED=10]="ABORTED",no[no.OUT_OF_RANGE=11]="OUT_OF_RANGE",no[no.UNIMPLEMENTED=12]="UNIMPLEMENTED",no[no.INTERNAL=13]="INTERNAL",no[no.UNAVAILABLE=14]="UNAVAILABLE",no[no.DATA_LOSS=15]="DATA_LOSS";let so=null;function oo(){return new TextEncoder}const ao=new gn([4294967295,4294967295],0);function lo(e){const t=oo().encode(e),n=new mn;return n.update(t),new Uint8Array(n.digest())}function co(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new gn([n,r],0),new gn([i,s],0)]}class uo{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ho(`Invalid padding: ${t}`);if(n<0)throw new ho(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ho(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ho(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=gn.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(gn.fromNumber(n)));return 1===r.compare(ao)&&(r=new gn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=lo(e),[n,r]=co(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new uo(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=lo(e),[n,r]=co(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fo{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,po.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new fo(rr.min(),r,new Nr(er),as(),ms())}}class po{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new po(n,t,ms(),ms(),ms())}}class go{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class mo{constructor(e,t){this.targetId=e,this.me=t}}class yo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Br.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class vo{constructor(){this.fe=0,this.ge=xo(),this.pe=Br.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ms(),t=ms(),n=ms();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bn()}})),new po(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=xo()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Un(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bo{constructor(e){this.Le=e,this.Be=new Map,this.ke=as(),this.qe=wo(),this.Qe=new Nr(er)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Bn()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if($i(i))if(0===n){const e=new lr(i.path);this.Ue(t,e,pi.newNoDocument(e,rr.min()))}else Un(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==so||so.et(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Vr(n).toUint8Array()}catch(e){if(e instanceof jr)return On("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new uo(s,r,i)}catch(e){return On(e instanceof ho?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&$i(i.target)){const t=new lr(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,pi.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=ms();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new fo(e,t,this.Qe,this.ke,n);return this.ke=as(),this.qe=wo(),this.Qe=new Nr(er),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new vo,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Lr(er),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ln("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vo),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function wo(){return new Nr(lr.comparator)}function xo(){return new Nr(lr.comparator)}const _o={asc:"ASCENDING",desc:"DESCENDING"},Co={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ko={and:"AND",or:"OR"};class So{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Eo(e,t){return e.useProto3Json||xr(t)?t:{value:t}}function To(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Io(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ao(e,t){return To(e,t.toTimestamp())}function Po(e){return Un(!!e),rr.fromTimestamp(function(e){const t=Fr(e);return new nr(t.seconds,t.nanos)}(e))}function No(e,t){return Do(e,t).canonicalString()}function Do(e,t){const n=function(e){return new sr(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Mo(e){const t=sr.fromString(e);return Un(Zo(t)),t}function Lo(e,t){return No(e.databaseId,t.path)}function Ro(e,t){const n=Mo(t);if(n.get(1)!==e.databaseId.projectId)throw new Vn($n.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vn($n.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lr(Uo(n))}function Oo(e,t){return No(e.databaseId,t)}function jo(e){const t=Mo(e);return 4===t.length?sr.emptyPath():Uo(t)}function Bo(e){return new sr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uo(e){return Un(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Fo(e,t,n){return{name:Lo(e,t),fields:n.value.mapValue.fields}}function $o(e,t){let n;if(t instanceof Hs)n={update:Fo(e,t.key,t.value)};else if(t instanceof Qs)n={delete:Lo(e,t.key)};else if(t instanceof qs)n={update:Fo(e,t.key,t.data),updateMask:Jo(t.fieldMask)};else{if(!(t instanceof Gs))return Bn();n={verify:Lo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Es)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ts)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof As)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ns)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Bn()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ao(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bn()}(e,t.precondition)),n}function Vo(e,t){return{documents:[Oo(e,t.path)]}}function zo(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Oo(e,i);const s=function(e){if(0!==e.length)return Xo(_i.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Qo(e.field),direction:Wo(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Eo(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Ho(e){let t=jo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Un(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=qo(e);return t instanceof _i&&ki(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new vi(Go(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,xr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new gi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new gi(n,t)}(n.endAt)),zi(t,i,o,s,a,"F",l,c)}function qo(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Go(e.unaryFilter.field);return xi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Go(e.unaryFilter.field);return xi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Go(e.unaryFilter.field);return xi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Go(e.unaryFilter.field);return xi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bn()}}(e):void 0!==e.fieldFilter?function(e){return xi.create(Go(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bn()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return _i.create(e.compositeFilter.filters.map((e=>qo(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Bn()}}(e.compositeFilter.op))}(e):Bn()}function Wo(e){return _o[e]}function Ko(e){return Co[e]}function Yo(e){return ko[e]}function Qo(e){return{fieldPath:e.canonicalString()}}function Go(e){return ar.fromServerFormat(e.fieldPath)}function Xo(e){return e instanceof xi?function(e){if("=="===e.op){if(ai(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NAN"}};if(oi(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ai(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NOT_NAN"}};if(oi(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(e.field),op:Ko(e.op),value:e.value}}}(e):e instanceof _i?function(e){const t=e.getFilters().map((e=>Xo(e)));return 1===t.length?t[0]:{compositeFilter:{op:Yo(e.op),filters:t}}}(e):Bn()}function Jo(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Zo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ea{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rr.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rr.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Br.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ta{constructor(e){this.ct=e}}function na(e){const t=Ho({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xi(t,t.limit,"L"):t}class ra{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At($r(e.integerValue));else if("doubleValue"in e){const n=$r(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),_r(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Fr(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Vr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?hi(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ci(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Bn()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At($r(o)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),lr.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}ra.vt=new ra;class ia{constructor(){this.un=new sa}addToCollectionParentIndex(e,t){return this.un.add(t),yr.resolve()}getCollectionParents(e,t){return yr.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return yr.resolve()}deleteFieldIndex(e,t){return yr.resolve()}deleteAllFieldIndexes(e){return yr.resolve()}createTargetIndexes(e,t){return yr.resolve()}getDocumentsMatchingTarget(e,t){return yr.resolve(null)}getIndexType(e,t){return yr.resolve(0)}getFieldIndexes(e,t){return yr.resolve([])}getNextCollectionGroupToUpdate(e){return yr.resolve(null)}getMinOffset(e,t){return yr.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,t){return yr.resolve(dr.min())}updateCollectionGroup(e,t,n){return yr.resolve()}updateIndexEntries(e,t){return yr.resolve()}}class sa{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Lr(sr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Lr(sr.comparator)).toArray()}}new Uint8Array(0);class oa{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new oa(e,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}oa.DEFAULT_COLLECTION_PERCENTILE=10,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oa.DEFAULT=new oa(41943040,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oa.DISABLED=new oa(-1,0,0);class aa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new aa(0)}static kn(){return new aa(-1)}}class la{constructor(){this.changes=new ss((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?yr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ca{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ua{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&$s(n.mutation,e,Or.empty(),nr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ms()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ms();const r=hs();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=cs();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=hs();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ms())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=as();const s=fs(),o=fs();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof qs)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),$s(o.mutation,t,o.mutation.getFieldMask(),nr.now())):s.set(t.key,Or.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new ca(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=fs();let r=new Nr(((e,t)=>e-t)),i=ms();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Or.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||ms()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=ds();l.forEach((e=>{if(!i.has(e)){const r=Us(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return yr.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return lr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wi(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):yr.resolve(hs());let o=-1,a=i;return s.next((t=>yr.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?yr.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ms()))).next((e=>({batchId:o,changes:us(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lr(t)).next((e=>{let t=cs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=cs();return this.indexManager.getCollectionParents(e,i).next((o=>yr.forEach(o,(o=>{const a=function(e,t){return new Vi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,pi.newInvalidDocument(r)))}));let n=cs();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&$s(s.mutation,r,Or.empty(),nr.now()),ts(t,r)&&(n=n.insert(e,r))})),n}))}}class ha{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return yr.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Po(e.createTime)}}(t)),yr.resolve()}getNamedQuery(e,t){return yr.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:na(e.bundledQuery),readTime:Po(e.readTime)}}(t)),yr.resolve()}}class da{constructor(){this.overlays=new Nr(lr.comparator),this.Ir=new Map}getOverlay(e,t){return yr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=hs();return yr.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),yr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),yr.resolve()}getOverlaysForCollection(e,t,n){const r=hs(),i=t.length+1,s=new lr(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return yr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Nr(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=hs(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=hs(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return yr.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Zs(t,n));let i=this.Ir.get(t);void 0===i&&(i=ms(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class fa{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(e){return yr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,yr.resolve()}}class pa{constructor(){this.Tr=new Lr(ga.Er),this.dr=new Lr(ga.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new ga(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new ga(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new lr(new sr([])),n=new ga(t,e),r=new ga(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new lr(new sr([])),n=new ga(t,e),r=new ga(t,e+1);let i=ms();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ga(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ga{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return lr.comparator(e.key,t.key)||er(e.wr,t.wr)}static Ar(e,t){return er(e.wr,t.wr)||lr.comparator(e.key,t.key)}}class ma{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Lr(ga.Er)}checkEmpty(e){return yr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Xs(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new ga(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return yr.resolve(s)}lookupMutationBatch(e,t){return yr.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return yr.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return yr.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return yr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ga(t,0),r=new ga(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),yr.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Lr(er);return t.forEach((e=>{const t=new ga(e,0),r=new ga(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),yr.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;lr.isDocumentKey(i)||(i=i.child(""));const s=new ga(new lr(i),0);let o=new Lr(er);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),s),yr.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Un(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return yr.forEach(t.mutations,(r=>{const i=new ga(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new ga(t,0),r=this.br.firstAfterOrEqual(n);return yr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,yr.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ya{constructor(e){this.Mr=e,this.docs=new Nr(lr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return yr.resolve(n?n.document.mutableCopy():pi.newInvalidDocument(t))}getEntries(e,t){let n=as();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():pi.newInvalidDocument(e))})),yr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=as();const s=t.path,o=new lr(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||fr(hr(o),n)<=0||(r.has(o.key)||ts(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return yr.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Bn()}Or(e,t){return yr.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new va(this)}getSize(e){return yr.resolve(this.size)}}class va extends la{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),yr.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class ba{constructor(e){this.persistence=e,this.Nr=new ss((e=>Ui(e)),Fi),this.lastRemoteSnapshotVersion=rr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new pa,this.targetCount=0,this.kr=aa.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),yr.resolve()}getLastRemoteSnapshotVersion(e){return yr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return yr.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),yr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),yr.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new aa(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,yr.resolve()}updateTargetData(e,t){return this.Kn(t),yr.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,yr.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),yr.waitFor(i).next((()=>r))}getTargetCount(e){return yr.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return yr.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),yr.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),yr.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),yr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return yr.resolve(n)}containsKey(e,t){return yr.resolve(this.Br.containsKey(t))}}class wa{constructor(e,t){this.qr={},this.overlays={},this.Qr=new wr(0),this.Kr=!1,this.Kr=!0,this.$r=new fa,this.referenceDelegate=e(this),this.Ur=new ba(this),this.indexManager=new ia,this.remoteDocumentCache=function(e){return new ya(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new ta(t),this.Gr=new ha(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new da,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new ma(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Ln("MemoryPersistence","Starting transaction:",e);const r=new xa(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return yr.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class xa extends gr{constructor(e){super(),this.currentSequenceNumber=e}}class _a{constructor(e){this.persistence=e,this.Jr=new pa,this.Yr=null}static Zr(e){return new _a(e)}get Xr(){if(this.Yr)return this.Yr;throw Bn()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),yr.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),yr.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),yr.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yr.forEach(this.Xr,(n=>{const r=lr.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,rr.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return yr.or([()=>yr.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Ca{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=ms(),r=ms();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ca(e,t.fromCache,n,r)}}class ka{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sa{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=De()?8:vr(Ne())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ka;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(Mn()<=qe.DEBUG&&Ln("QueryEngine","SDK will not create cache indexes for query:",es(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),yr.resolve()):(Mn()<=qe.DEBUG&&Ln("QueryEngine","Query:",es(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Mn()<=qe.DEBUG&&Ln("QueryEngine","The SDK decides to create cache indexes for query:",es(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(t))):yr.resolve())}Yi(e,t){if(qi(t))return yr.resolve(null);let n=Yi(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Xi(t,null,"F"),n=Yi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ms(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,Xi(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return qi(t)||r.isEqual(rr.min())?yr.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?yr.resolve(null):(Mn()<=qe.DEBUG&&Ln("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),es(t)),this.rs(e,s,t,ur(r,-1)).next((e=>e)))}))}ts(e,t){let n=new Lr(rs(e));return t.forEach(((t,r)=>{ts(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Mn()<=qe.DEBUG&&Ln("QueryEngine","Using full collection scan to execute query:",es(t)),this.Ji.getDocumentsMatchingQuery(e,t,dr.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ea{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Nr(er),this._s=new ss((e=>Ui(e)),Fi),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ua(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function Ta(e,t,n,r){return new Ea(e,t,n,r)}async function Ia(e,t){const n=Fn(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=ms();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Aa(e){const t=Fn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function Pa(e,t,n){let r=ms(),i=ms();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=as();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(rr.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ln("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function Na(e,t){const n=Fn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Da(e,t){const n=Fn(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,yr.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new ea(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function Ma(e,t,n){const r=Fn(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!br(e))throw e;Ln("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function La(e,t,n){const r=Fn(e);let i=rr.min(),s=ms();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Fn(e),i=r._s.get(n);return void 0!==i?yr.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Yi(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:rr.min(),n?s:ms()))).next((e=>(Ra(r,ns(t),e),{documents:e,Ts:s})))))}function Ra(e,t,n){let r=e.us.get(t)||rr.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class Oa{constructor(){this.activeTargetIds=vs()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ja{constructor(){this.so=new Oa,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Oa,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ba{_o(e){}shutdown(){}}class Ua{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ln("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ln("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fa=null;function $a(){return null===Fa?Fa=268435456+Math.round(2147483648*Math.random()):Fa++,"0x"+Fa.toString(16)}const Va={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class za{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ha="WebChannelConnection";class qa extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=$a(),o=this.xo(e,t.toUriEncodedString());Ln("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,o,a,n).then((t=>(Ln("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw On("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=Va[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=$a();return new Promise(((s,o)=>{const a=new bn;a.setWithCredentials(!0),a.listenOnce(xn.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case _n.NO_ERROR:const t=a.getResponseJson();Ln(Ha,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case _n.TIMEOUT:Ln(Ha,`RPC '${e}' ${i} timed out`),o(new Vn($n.DEADLINE_EXCEEDED,"Request time out"));break;case _n.HTTP_ERROR:const n=a.getStatus();if(Ln(Ha,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values($n).indexOf(t)>=0?t:$n.UNKNOWN}(t.status);o(new Vn(e,t.message))}else o(new Vn($n.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Vn($n.UNAVAILABLE,"Connection failed."));break;default:Bn()}}finally{Ln(Ha,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Ln(Ha,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=$a(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=En(),o=Sn(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Ln(Ha,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new za({Io:t=>{d?Ln(Ha,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Ln(Ha,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),Ln(Ha,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,wn.EventType.OPEN,(()=>{d||(Ln(Ha,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(u,wn.EventType.CLOSE,(()=>{d||(d=!0,Ln(Ha,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(u,wn.EventType.ERROR,(t=>{d||(d=!0,On(Ha,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new Vn($n.UNAVAILABLE,"The operation could not be completed")))})),p(u,wn.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Un(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Ln(Ha,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=to[e];if(void 0!==t)return io(t)}(t),i=o.message;void 0===n&&(n=$n.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.So(new Vn(n,i)),u.close()}else Ln(Ha,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(o,kn.STAT_EVENT,(t=>{t.stat===Cn.PROXY?Ln(Ha,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Cn.NOPROXY&&Ln(Ha,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function Wa(){return"undefined"!=typeof document?document:null}function Ka(e){return new So(e,!0)}class Ya{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Ln("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Qa{constructor(e,t,n,r,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ya(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===$n.RESOURCE_EXHAUSTED?(Rn(t.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===$n.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new Vn($n.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ln("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(Ln("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ga extends Qa{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bn()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Un(void 0===t||"string"==typeof t),Br.fromBase64String(t||"")):(Un(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Br.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?$n.UNKNOWN:io(e.code);return new Vn(t,e.message||"")}(o);n=new yo(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ro(e,r.document.name),s=Po(r.document.updateTime),o=r.document.createTime?Po(r.document.createTime):rr.min(),a=new di({mapValue:{fields:r.document.fields}}),l=pi.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new go(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ro(e,r.document),s=r.readTime?Po(r.readTime):rr.min(),o=pi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new go([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ro(e,r.document),s=r.removedTargetIds||[];n=new go([],s,i,null)}else{if(!("filter"in t))return Bn();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new eo(r,i),o=e.targetId;n=new mo(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return rr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?rr.min():t.readTime?Po(t.readTime):rr.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Bo(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=$i(r)?{documents:Vo(e,r)}:{query:zo(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Io(e,t.resumeToken);const r=Eo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(rr.min())>0){n.readTime=To(e,t.snapshotVersion.toTimestamp());const r=Eo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bn()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Bo(this.serializer),t.removeTarget=e,this.a_(t)}}class Xa extends Qa{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Un(!!e.streamToken),this.lastStreamToken=e.streamToken,Un(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Un(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Po(e.updateTime):Po(t);return n.isEqual(rr.min())&&(n=Po(t)),new Rs(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Po(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Bo(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>$o(this.serializer,e)))};this.a_(t)}}class Ja extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Vn($n.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Mo(e,Do(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===$n.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vn($n.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Lo(e,Do(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===$n.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vn($n.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Za{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Rn(t),this.D_=!1):Ln("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class el{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{cl(this)&&(Ln("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Fn(e);t.L_.add(4),await nl(t),t.q_.set("Unknown"),t.L_.delete(4),await tl(t)}(this))}))})),this.q_=new Za(n,r)}}async function tl(e){if(cl(e))for(const t of e.B_)await t(!0)}async function nl(e){for(const t of e.B_)await t(!1)}function rl(e,t){const n=Fn(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),ll(n)?al(n):Il(n).r_()&&sl(n,t))}function il(e,t){const n=Fn(e),r=Il(n);n.N_.delete(t),r.r_()&&ol(n,t),0===n.N_.size&&(r.r_()?r.o_():cl(n)&&n.q_.set("Unknown"))}function sl(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rr.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Il(e).A_(t)}function ol(e,t){e.Q_.xe(t),Il(e).R_(t)}function al(e){e.Q_=new bo({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Il(e).start(),e.q_.v_()}function ll(e){return cl(e)&&!Il(e).n_()&&e.N_.size>0}function cl(e){return 0===Fn(e).L_.size}function ul(e){e.Q_=void 0}async function hl(e){e.q_.set("Online")}async function dl(e){e.N_.forEach(((t,n)=>{sl(e,t)}))}async function fl(e,t){ul(e),ll(e)?(e.q_.M_(t),al(e)):e.q_.set("Unknown")}async function pl(e,t,n){if(e.q_.set("Online"),t instanceof yo&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Ln("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await gl(e,n)}else if(t instanceof go?e.Q_.Ke(t):t instanceof mo?e.Q_.He(t):e.Q_.We(t),!n.isEqual(rr.min()))try{const t=await Aa(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Br.EMPTY_BYTE_STRING,r.snapshotVersion)),ol(e,t);const i=new ea(r.target,t,n,r.sequenceNumber);sl(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ln("RemoteStore","Failed to raise snapshot:",t),await gl(e,t)}}async function gl(e,t,n){if(!br(t))throw t;e.L_.add(1),await nl(e),e.q_.set("Offline"),n||(n=()=>Aa(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ln("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await tl(e)}))}function ml(e,t){return t().catch((n=>gl(e,n,t)))}async function yl(e){const t=Fn(e),n=Al(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;vl(t);)try{const e=await Na(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,bl(t,e)}catch(e){await gl(t,e)}wl(t)&&xl(t)}function vl(e){return cl(e)&&e.O_.length<10}function bl(e,t){e.O_.push(t);const n=Al(e);n.r_()&&n.V_&&n.m_(t.mutations)}function wl(e){return cl(e)&&!Al(e).n_()&&e.O_.length>0}function xl(e){Al(e).start()}async function _l(e){Al(e).p_()}async function Cl(e){const t=Al(e);for(const n of e.O_)t.m_(n.mutations)}async function kl(e,t,n){const r=e.O_.shift(),i=Js.from(r,t,n);await ml(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await yl(e)}async function Sl(e,t){t&&Al(e).V_&&await async function(e,t){if(function(e){return ro(e)&&e!==$n.ABORTED}(t.code)){const n=e.O_.shift();Al(e).s_(),await ml(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await yl(e)}}(e,t),wl(e)&&xl(e)}async function El(e,t){const n=Fn(e);n.asyncQueue.verifyOperationInProgress(),Ln("RemoteStore","RemoteStore received new credentials");const r=cl(n);n.L_.add(3),await nl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await tl(n)}async function Tl(e,t){const n=Fn(e);t?(n.L_.delete(2),await tl(n)):t||(n.L_.add(2),await nl(n),n.q_.set("Unknown"))}function Il(e){return e.K_||(e.K_=function(e,t,n){const r=Fn(e);return r.w_(),new Ga(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:hl.bind(null,e),Ro:dl.bind(null,e),mo:fl.bind(null,e),d_:pl.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),ll(e)?al(e):e.q_.set("Unknown")):(await e.K_.stop(),ul(e))}))),e.K_}function Al(e){return e.U_||(e.U_=function(e,t,n){const r=Fn(e);return r.w_(),new Xa(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_l.bind(null,e),mo:Sl.bind(null,e),f_:Cl.bind(null,e),g_:kl.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await yl(e)):(await e.U_.stop(),e.O_.length>0&&(Ln("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class Pl{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Pl(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vn($n.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nl(e,t){if(Rn("AsyncQueue",`${t}: ${e}`),br(e))return new Vn($n.UNAVAILABLE,`${t}: ${e}`);throw e}class Dl{constructor(e){this.comparator=e?(t,n)=>e(t,n)||lr.comparator(t.key,n.key):(e,t)=>lr.comparator(e.key,t.key),this.keyedMap=cs(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new Dl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dl))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Dl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ml{constructor(){this.W_=new Nr(lr.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Bn():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ll{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Ll(e,t,Dl.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ji(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Rl{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Ol{constructor(){this.queries=jl(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Fn(e),r=n.queries;n.queries=jl(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new Vn($n.ABORTED,"Firestore shutting down"))}}function jl(){return new ss((e=>Zi(e)),Ji)}async function Bl(e,t){const n=Fn(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new Rl,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Nl(e,`Initialization of query '${es(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Vl(n)}async function Ul(e,t){const n=Fn(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fl(e,t){const n=Fn(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Vl(n)}function $l(e,t,n){const r=Fn(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function Vl(e){e.Y_.forEach((e=>{e.next()}))}var zl,Hl;(Hl=zl||(zl={})).ea="default",Hl.Cache="cache";class ql{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ll(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zl.Cache}}class Wl{constructor(e){this.key=e}}class Kl{constructor(e){this.key=e}}class Yl{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ms(),this.mutatedKeys=ms(),this.Aa=rs(e),this.Ra=new Dl(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Ml,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=ts(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Aa(u,a)>0||l&&this.Aa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bn()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==s.length||l?{snapshot:new Ll(this.query,e.Ra,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ml,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ms(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Kl(e))})),this.da.forEach((n=>{e.has(n)||t.push(new Wl(n))})),t}ba(e){this.Ta=e.Ts,this.da=ms();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ll.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ql{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Gl{constructor(e){this.key=e,this.va=!1}}class Xl{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ss((e=>Zi(e)),Ji),this.Ma=new Map,this.xa=new Set,this.Oa=new Nr(lr.comparator),this.Na=new Map,this.La=new pa,this.Ba={},this.ka=new Map,this.qa=aa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Jl(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=bc(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ec(r,t,n,!0),i}async function Zl(e,t){const n=bc(e);await ec(n,t,!0,!1)}async function ec(e,t,n,r){const i=await Da(e.localStore,Yi(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await tc(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&rl(e.remoteStore,i),a}async function tc(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await La(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return fc(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const s=await La(e.localStore,t,!0),o=new Yl(t,s.Ts),a=o.ma(s.documents),l=po.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);fc(e,n,c.wa);const u=new Ql(t,n,o);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function nc(e,t,n){const r=Fn(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!Ji(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ma(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&il(r.remoteStore,i.targetId),hc(r,i.targetId)})).catch(mr)):(hc(r,i.targetId),await Ma(r.localStore,i.targetId,!0))}async function rc(e,t){const n=Fn(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),il(n.remoteStore,r.targetId))}async function ic(e,t){const n=Fn(e);try{const e=await function(e,t){const n=Fn(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Br.EMPTY_BYTE_STRING,rr.min()).withLastLimboFreeSnapshotVersion(rr.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Ur.updateTargetData(e,c))}));let a=as(),l=ms();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Pa(e,s,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(rr.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return yr.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(Un(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Un(r.va):e.removedDocuments.size>0&&(Un(r.va),r.va=!1))})),await mc(n,e,t)}catch(e){await mr(e)}}function sc(e,t,n){const r=Fn(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Fn(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&Vl(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function oc(e,t,n){const r=Fn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new Nr(lr.comparator);e=e.insert(s,pi.newNoDocument(s,rr.min()));const n=ms().add(s),i=new fo(rr.min(),new Map,new Nr(er),e,n);await ic(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),gc(r)}else await Ma(r.localStore,t,!1).then((()=>hc(r,t,n))).catch(mr)}async function ac(e,t){const n=Fn(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Fn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=yr.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Un(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ms();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);uc(n,r,null),cc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mc(n,e)}catch(e){await mr(e)}}async function lc(e,t,n){const r=Fn(e);try{const e=await function(e,t){const n=Fn(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Un(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);uc(r,t,n),cc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mc(r,e)}catch(n){await mr(n)}}function cc(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function uc(e,t,n){const r=Fn(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function hc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||dc(e,t)}))}function dc(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(il(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),gc(e))}function fc(e,t,n){for(const r of n)r instanceof Wl?(e.La.addReference(r.key,t),pc(e,r)):r instanceof Kl?(Ln("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||dc(e,r.key)):Bn()}function pc(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Ln("SyncEngine","New document in limbo: "+n),e.xa.add(r),gc(e))}function gc(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new lr(sr.fromString(t)),r=e.qa.next();e.Na.set(r,new Gl(n)),e.Oa=e.Oa.insert(n,r),rl(e.remoteStore,new ea(Yi(Hi(n.path)),r,"TargetPurposeLimboResolution",wr.oe))}}async function mc(e,t,n){const r=Fn(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{o.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ca.Wi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.d_(i),await async function(e,t){const n=Fn(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>yr.forEach(t,(t=>yr.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>yr.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!br(e))throw e;Ln("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function yc(e,t){const n=Fn(e);if(!n.currentUser.isEqual(t)){Ln("SyncEngine","User change. New user:",t.toKey());const e=await Ia(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new Vn($n.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mc(n,e.hs)}}function vc(e,t){const n=Fn(e),r=n.Na.get(t);if(r&&r.va)return ms().add(r.key);{let e=ms();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function bc(e){const t=Fn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ic.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oc.bind(null,t),t.Ca.d_=Fl.bind(null,t.eventManager),t.Ca.$a=$l.bind(null,t.eventManager),t}function wc(e){const t=Fn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ac.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lc.bind(null,t),t}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ka(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Ta(this.persistence,new Sa,e.initialUser,this.serializer)}Ga(e){return new wa(_a.Zr,this.serializer)}Wa(e){return new ja}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class _c{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>sc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=yc.bind(null,this.syncEngine),await Tl(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ol}createDatastore(e){const t=Ka(e.databaseInfo.databaseId),n=function(e){return new qa(e)}(e.databaseInfo);return function(e,t,n,r){return new Ja(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new el(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>sc(this.syncEngine,e,0)),Ua.D()?new Ua:new Ba)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Xl(e,t,n,r,i,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Fn(e);Ln("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await nl(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}_c.provider={build:()=>new _c};class Cc{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class kc{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Pn.UNAUTHENTICATED,this.clientId=Zn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Ln("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ln("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Nl(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Sc(e,t){e.asyncQueue.verifyOperationInProgress(),Ln("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ia(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ec(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Tc(e);Ln("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>El(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>El(t.remoteStore,n))),e._onlineComponents=t}async function Tc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ln("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===$n.FAILED_PRECONDITION||e.code===$n.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;On("Error using user provided cache. Falling back to memory cache: "+n),await Sc(e,new xc)}}else Ln("FirestoreClient","Using default OfflineComponentProvider"),await Sc(e,new xc);return e._offlineComponents}async function Ic(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ln("FirestoreClient","Using user provided OnlineComponentProvider"),await Ec(e,e._uninitializedComponentsProvider._online)):(Ln("FirestoreClient","Using default OnlineComponentProvider"),await Ec(e,new _c))),e._onlineComponents}function Ac(e){return Ic(e).then((e=>e.syncEngine))}async function Pc(e){const t=await Ic(e),n=t.eventManager;return n.onListen=Jl.bind(null,t.syncEngine),n.onUnlisten=nc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Zl.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rc.bind(null,t.syncEngine),n}function Nc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zn;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Cc({next:a=>{s.Za(),t.enqueueAndForget((()=>Ul(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Vn($n.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Vn($n.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new ql(Hi(n.path),s,{includeMetadataChanges:!0,_a:!0});return Bl(e,o)}(await Pc(e),e.asyncQueue,t,n,r))),r.promise}function Dc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zn;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Cc({next:n=>{s.Za(),t.enqueueAndForget((()=>Ul(e,o))),n.fromCache&&"server"===r.source?i.reject(new Vn($n.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new ql(n,s,{includeMetadataChanges:!0,_a:!0});return Bl(e,o)}(await Pc(e),e.asyncQueue,t,n,r))),r.promise}function Mc(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Lc=new Map;function Rc(e,t,n){if(!n)throw new Vn($n.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Oc(e){if(!lr.isDocumentKey(e))throw new Vn($n.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jc(e){if(lr.isDocumentKey(e))throw new Vn($n.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Bc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Bn()}function Uc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vn($n.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bc(e);throw new Vn($n.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Fc{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Vn($n.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vn($n.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Vn($n.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mc(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Vn($n.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Vn($n.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Vn($n.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $c{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fc({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Vn($n.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vn($n.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qn;switch(e.type){case"firstParty":return new Qn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Vn($n.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Lc.get(e);t&&(Ln("ComponentProvider","Removing Datastore"),Lc.delete(e),t.terminate())}(this),Promise.resolve()}}class Vc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Vc(this.firestore,e,this._query)}}class zc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zc(this.firestore,e,this._key)}}class Hc extends Vc{constructor(e,t,n){super(e,t,Hi(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zc(this.firestore,null,new lr(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function qc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),Rc("collection","path",t),e instanceof $c){const n=sr.fromString(t,...r);return jc(n),new Hc(e,null,n)}{if(!(e instanceof zc||e instanceof Hc))throw new Vn($n.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(sr.fromString(t,...r));return jc(n),new Hc(e.firestore,null,n)}}function Wc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),1===arguments.length&&(t=Zn.newId()),Rc("doc","path",t),e instanceof $c){const n=sr.fromString(t,...r);return Oc(n),new zc(e,null,new lr(n))}{if(!(e instanceof zc||e instanceof Hc))throw new Vn($n.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(sr.fromString(t,...r));return Oc(n),new zc(e.firestore,e instanceof Hc?e.converter:null,new lr(n))}}class Kc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ya(this,"async_queue_retry"),this.Vu=()=>{const e=Wa();e&&Ln("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Wa();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Wa();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new zn;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(cx){if(!br(cx))throw cx;Ln("AsyncQueue","Operation failed with retryable error: "+cx)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Rn("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=Pl.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&Bn()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Yc extends $c{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Kc,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kc(e),this._firestoreClient=void 0,await e}}}function Qc(e){if(e._terminated)throw new Vn($n.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Gc(e),e._firestoreClient}function Gc(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Wr(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Mc(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new kc(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xc(Br.fromBase64String(e))}catch(e){throw new Vn($n.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Xc(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jc{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Vn($n.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zc{constructor(e){this._methodName=e}}class eu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vn($n.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vn($n.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return er(this._lat,e._lat)||er(this._long,e._long)}}class tu{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const nu=/^__.*__$/;class ru{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hs(e,this.data,t,this.fieldTransforms)}}class iu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function su(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bn()}}class ou{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ou(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _u(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(su(this.Cu)&&nu.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class au{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ka(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ou({Cu:e,methodName:t,qu:n,path:ar.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lu(e){const t=e._freezeSettings(),n=Ka(e._databaseId);return new au(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cu(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);vu("Data must be an object, but it was:",o,r);const a=mu(r,o);let l,c;if(s.merge)l=new Or(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=bu(t,r,n);if(!o.contains(i))throw new Vn($n.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Cu(e,i)||e.push(i)}l=new Or(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new ru(new di(a),l,c)}class uu extends Zc{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uu}}class hu extends Zc{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Ns(e.serializer,xs(e.serializer,this.$u));return new Ls(e.path,t)}isEqual(e){return e instanceof hu&&this.$u===e.$u}}function du(e,t,n,r){const i=e.Qu(1,t,n);vu("Data must be an object, but it was:",i,r);const s=[],o=di.empty();Ar(r,((e,r)=>{const a=xu(t,e,n);r=Ue(r);const l=i.Nu(a);if(r instanceof uu)s.push(a);else{const e=gu(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Or(s);return new iu(o,a,i.fieldTransforms)}function fu(e,t,n,r,i,s){const o=e.Qu(1,t,n),a=[bu(t,r,n)],l=[i];if(s.length%2!=0)throw new Vn($n.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(bu(t,s[d])),l.push(s[d+1]);const c=[],u=di.empty();for(let d=a.length-1;d>=0;--d)if(!Cu(c,a[d])){const e=a[d];let t=l[d];t=Ue(t);const n=o.Nu(e);if(t instanceof uu)c.push(e);else{const r=gu(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Or(c);return new iu(u,h,o.fieldTransforms)}function pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gu(n,e.Qu(r?4:3,t))}function gu(e,t){if(yu(e=Ue(e)))return vu("Unsupported field value:",t,e),mu(e,t);if(e instanceof Zc)return function(e,t){if(!su(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=gu(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ue(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=nr.fromDate(e);return{timestampValue:To(t.serializer,n)}}if(e instanceof nr){const n=new nr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:To(t.serializer,n)}}if(e instanceof eu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Xc)return{bytesValue:Io(t.serializer,e._byteString)};if(e instanceof zc){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:No(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof tu)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return bs(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${Bc(e)}`)}(e,t)}function mu(e,t){const n={};return Pr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ar(e,((e,r)=>{const i=gu(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof nr||e instanceof eu||e instanceof Xc||e instanceof zc||e instanceof Zc||e instanceof tu)}function vu(e,t,n){if(!yu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Bc(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function bu(e,t,n){if((t=Ue(t))instanceof Jc)return t._internalPath;if("string"==typeof t)return xu(e,t);throw _u("Field path arguments must be of type string or ",e,!1,void 0,n)}const wu=new RegExp("[~\\*/\\[\\]]");function xu(e,t,n){if(t.search(wu)>=0)throw _u(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jc(...t.split("."))._internalPath}catch(r){throw _u(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function _u(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Vn($n.INVALID_ARGUMENT,a+e+l)}function Cu(e,t){return e.some((e=>e.isEqual(t)))}class ku{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Su(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Eu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Su extends ku{data(){return super.data()}}function Eu(e,t){return"string"==typeof t?xu(e,t):t instanceof Jc?t._internalPath:t._delegate._internalPath}function Tu(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Vn($n.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iu{}class Au extends Iu{}function Pu(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Iu&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Mu)).length,n=e.filter((e=>e instanceof Nu)).length;if(t>1||t>0&&n>0)throw new Vn($n.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Nu extends Au{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Nu(e,t,n)}_apply(e){const t=this._parse(e);return Ou(e._query,t),new Vc(e.firestore,e.converter,Gi(e._query,t))}_parse(e){const t=lu(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Vn($n.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Ru(o,s);const t=[];for(const n of o)t.push(Lu(r,e,n));a={arrayValue:{values:t}}}else a=Lu(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Ru(o,s),a=pu(n,t,o,"in"===s||"not-in"===s);return xi.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Du(e,t,n){const r=t,i=Eu("where",e);return Nu._create(i,r,n)}class Mu extends Iu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mu(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:_i.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Ou(n,i),n=Gi(n,i)}(e._query,t),new Vc(e.firestore,e.converter,Gi(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Lu(e,t,n){if("string"==typeof(n=Ue(n))){if(""===n)throw new Vn($n.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wi(t)&&-1!==n.indexOf("/"))throw new Vn($n.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(sr.fromString(n));if(!lr.isDocumentKey(r))throw new Vn($n.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ri(e,new lr(r))}if(n instanceof zc)return ri(e,n._key);throw new Vn($n.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bc(n)}.`)}function Ru(e,t){if(!Array.isArray(e)||0===e.length)throw new Vn($n.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ou(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Vn($n.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Vn($n.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ju{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Bn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ar(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>$r(e.doubleValue)));return new tu(i)}convertGeoPoint(e){return new eu($r(e.latitude),$r(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Hr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qr(e));default:return null}}convertTimestamp(e){const t=Fr(e);return new nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=sr.fromString(e);Un(Zo(n));const r=new Kr(n.get(1),n.get(3)),i=new lr(n.popFirst(5));return r.isEqual(t)||Rn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Bu(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fu extends ku{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Eu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class $u extends Fu{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Vu{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Uu(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new $u(this._firestore,this._userDataWriter,n.key,n,new Uu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Vn($n.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new $u(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Uu(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new $u(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Uu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:zu(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bn()}}class Hu extends ju{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zc(this.firestore,null,t)}}function qu(e){e=Uc(e,Vc);const t=Uc(e.firestore,Yc),n=Qc(t),r=new Hu(t);return Tu(e._query),Dc(n,e._query).then((n=>new Vu(t,r,e,n)))}function Wu(e,t,n){e=Uc(e,zc);const r=Uc(e.firestore,Yc),i=lu(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Ue(t))||t instanceof Jc?fu(i,"updateDoc",e._key,t,n,a):du(i,"updateDoc",e._key,t),Ku(r,[s.toMutation(e._key,Os.exists(!0))])}function Ku(e,t){return function(e,t){const n=new zn;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=wc(e);try{const e=await function(e,t){const n=Fn(e),r=nr.now(),i=t.reduce(((e,t)=>e.add(t.key)),ms());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=as(),l=ms();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Vs(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new qs(e.key,t,fi(t.value.mapValue),Os.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:us(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Nr(er)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await mc(r,e.changes),await yl(r.remoteStore)}catch(e){const t=Nl(e,"Failed to persist write");n.reject(t)}}(await Ac(e),t,n))),n.promise}(Qc(e),t)}function Yu(e,t,n){const r=n.docs.get(t._key),i=new Hu(e);return new Fu(e,i,t._key,r,new Uu(n.hasPendingWrites,n.fromCache),t.converter)}function Qu(e){return new hu("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Nn=e}(en),Gt(new Fe("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Yc(new Kn(e.getProvider("auth-internal")),new Xn(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vn($n.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kr(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),rn(An,"4.7.3",e),rn(An,"4.7.3","esm2017")}();const Gu="firebasestorage.googleapis.com",Xu="storageBucket";class Ju extends Le{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(rh(e),`Firebase Storage: ${t} (${rh(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ju.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zu,eh,th,nh;function rh(e){return"storage/"+e}function ih(){return new Ju(Zu.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sh(){return new Ju(Zu.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oh(){return new Ju(Zu.CANCELED,"User canceled the upload/download.")}function ah(){return new Ju(Zu.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lh(e){return new Ju(Zu.INVALID_ARGUMENT,e)}function ch(){return new Ju(Zu.APP_DELETED,"The Firebase app was deleted.")}function uh(e,t){return new Ju(Zu.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function hh(e){throw new Ju(Zu.INTERNAL_ERROR,"Internal error: "+e)}(eh=Zu||(Zu={})).UNKNOWN="unknown",eh.OBJECT_NOT_FOUND="object-not-found",eh.BUCKET_NOT_FOUND="bucket-not-found",eh.PROJECT_NOT_FOUND="project-not-found",eh.QUOTA_EXCEEDED="quota-exceeded",eh.UNAUTHENTICATED="unauthenticated",eh.UNAUTHORIZED="unauthorized",eh.UNAUTHORIZED_APP="unauthorized-app",eh.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",eh.INVALID_CHECKSUM="invalid-checksum",eh.CANCELED="canceled",eh.INVALID_EVENT_NAME="invalid-event-name",eh.INVALID_URL="invalid-url",eh.INVALID_DEFAULT_BUCKET="invalid-default-bucket",eh.NO_DEFAULT_BUCKET="no-default-bucket",eh.CANNOT_SLICE_BLOB="cannot-slice-blob",eh.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",eh.NO_DOWNLOAD_URL="no-download-url",eh.INVALID_ARGUMENT="invalid-argument",eh.INVALID_ARGUMENT_COUNT="invalid-argument-count",eh.APP_DELETED="app-deleted",eh.INVALID_ROOT_OPERATION="invalid-root-operation",eh.INVALID_FORMAT="invalid-format",eh.INTERNAL_ERROR="internal-error",eh.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class dh{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=dh.makeFromUrl(e,t)}catch(cx){return new dh(e,"")}if(""===n.path)return n;throw r=e,new Ju(Zu.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===Gu?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new dh(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Ju(Zu.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class fh{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function ph(e){return"string"===typeof e||e instanceof String}function gh(e){return mh()&&e instanceof Blob}function mh(){return"undefined"!==typeof Blob}function yh(e,t,n,r){if(r<t)throw lh(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw lh(`Invalid value for '${e}'. Expected ${n} or less.`)}function vh(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function bh(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function wh(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}(nh=th||(th={}))[nh.NO_ERROR=0]="NO_ERROR",nh[nh.NETWORK_ERROR=1]="NETWORK_ERROR",nh[nh.ABORT=2]="ABORT";class xh{constructor(e,t,n,r,i,s,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new _h(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===th.NO_ERROR,i=n.getStatus();if(!t||wh(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===th.ABORT;return void e(!1,new _h(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new _h(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(cx){r(cx)}else if(null!==i){const e=ih();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?ch():oh())}else{r(sh())}};this.canceled_?t(0,new _h(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function g(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _h{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Ch(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function kh(){const e=Ch();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(mh())return new Blob(n);throw new Ju(Zu.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Sh(e){if("undefined"===typeof atob)throw t="base-64",new Ju(Zu.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Eh="raw",Th="base64",Ih="base64url",Ah="data_url";class Ph{constructor(e,t){this.data=e,this.contentType=t||null}}function Nh(e,t){switch(e){case Eh:return new Ph(Dh(t));case Th:case Ih:return new Ph(Mh(e,t));case Ah:return new Ph(function(e){const t=new Lh(e);return t.base64?Mh(Th,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(cx){throw uh(Ah,"Malformed data URL.")}return Dh(t)}(t.rest)}(t),new Lh(t).contentType)}throw ih()}function Dh(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Mh(e,t){switch(e){case Th:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw uh(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Ih:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw uh(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Sh(t)}catch(cx){if(cx.message.includes("polyfill"))throw cx;throw uh(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Lh{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw uh(Ah,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Rh{constructor(e,t){let n=0,r="";gh(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(gh(this.data_)){const s=this.data_,o=(r=e,i=t,(n=s).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===o?null:new Rh(o)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Rh(n,!0)}var n,r,i}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(mh()){const e=t.map((e=>e instanceof Rh?e.data_:e));return new Rh(kh.apply(null,e))}{const e=t.map((e=>ph(e)?Nh(Eh,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Rh(r,!0)}}uploadData(){return this.data_}}function Oh(e){let t;try{t=JSON.parse(e)}catch(cx){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function jh(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Bh(e,t){return t}class Uh{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Bh}}let Fh=null;function $h(){if(Fh)return Fh;const e=[];e.push(new Uh("bucket")),e.push(new Uh("generation")),e.push(new Uh("metageneration")),e.push(new Uh("name","fullPath",!0));const t=new Uh("name");t.xform=function(e,t){return function(e){return!ph(e)||e.length<2?e:jh(e)}(t)},e.push(t);const n=new Uh("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Uh("timeCreated")),e.push(new Uh("updated")),e.push(new Uh("md5Hash",null,!0)),e.push(new Uh("cacheControl",null,!0)),e.push(new Uh("contentDisposition",null,!0)),e.push(new Uh("contentEncoding",null,!0)),e.push(new Uh("contentLanguage",null,!0)),e.push(new Uh("contentType",null,!0)),e.push(new Uh("metadata","customMetadata",!0)),Fh=e,Fh}function Vh(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new dh(n,r);return t._makeStorageReference(i)}})}(r,e),r}function zh(e,t,n){const r=Oh(t);if(null===r)return null;return Vh(e,r,n)}function Hh(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class qh{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Wh(e){if(!e)throw ih()}function Kh(e,t){return function(n,r){const i=zh(e,r,t);return Wh(null!==i),i}}function Yh(e,t){return function(n,r){const i=zh(e,r,t);return Wh(null!==i),function(e,t,n,r){const i=Oh(t);if(null===i)return null;if(!ph(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return vh("/b/"+o(i)+"/o/"+o(s),n,r)+bh({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Qh(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ju(Zu.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ju(Zu.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Ju(Zu.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ju(Zu.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Gh(e){const t=Qh(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Ju(Zu.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Xh(e,t,n){const r=vh(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new qh(r,"GET",Kh(e,n),i);return s.errorHandler=Gh(t),s}function Jh(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Zh(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=Jh(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Hh(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=Rh.getBlob(c,r,u);if(null===h)throw ah();const d={name:l.fullPath},f=vh(s,e.host,e._protocol),p=e.maxUploadRetryTime,g=new qh(f,"POST",Kh(e,n),p);return g.urlParams=d,g.headers=o,g.body=h.uploadData(),g.errorHandler=Qh(t),g}class ed{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function td(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(cx){Wh(!1)}return Wh(!!n&&-1!==(t||["active"]).indexOf(n)),n}const nd=262144;function rd(e,t,n,r,i,s,o,a){const l=new ed(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Ju(Zu.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(h,d);if(null===g)throw ah();const m=t.maxUploadRetryTime,y=new qh(n,"POST",(function(e,n){const i=td(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?Kh(t,s)(e,n):null,new ed(o,a,"final"===i,c)}),m);return y.headers=p,y.body=g.uploadData(),y.progressCallback=a||null,y.errorHandler=Qh(e),y}const id="running",sd="paused",od="success",ad="canceled",ld="error";function cd(e){switch(e){case"running":case"pausing":case"canceling":return id;case"paused":return sd;case"success":return od;case"canceled":return ad;default:return ld}}class ud{constructor(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function hd(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}class dd{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=th.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=th.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=th.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw hh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hh("cannot .getStatus() before sending");try{return this.xhr_.status}catch(cx){return-1}}getResponse(){if(!this.sent_)throw hh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class fd extends dd{initXhr(){this.xhr_.responseType="text"}}function pd(){return new fd}class gd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=$h(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Zu.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(wh(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=sh()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Zu.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=Jh(t,r,i),a={name:o.fullPath},l=vh(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=Hh(o,n),h=e.maxUploadRetryTime,d=new qh(l,"POST",(function(e){let t;td(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(cx){Wh(!1)}return Wh(ph(t)),t}),h);return d.urlParams=a,d.headers=c,d.body=u,d.errorHandler=Qh(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,pd,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new qh(n,"POST",(function(e){const t=td(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(cx){Wh(!1)}n||Wh(!1);const i=Number(n);return Wh(!isNaN(i)),new ed(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Qh(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,pd,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=nd*this._chunkMultiplier,t=new ed(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=rd(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(cx){return this._error=cx,void this._transition("error")}const o=this._ref.storage._makeRequest(s,pd,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(nd*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Xh(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,pd,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=Zh(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,pd,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=oh(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=cd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new ud(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(cd(this._state)){case od:hd(this._resolve.bind(null,this.snapshot))();break;case ad:case ld:hd(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(cd(this._state)){case id:case sd:e.next&&hd(e.next.bind(e,this.snapshot))();break;case od:e.complete&&hd(e.complete.bind(e))();break;default:e.error&&hd(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class md{constructor(e,t){this._service=e,this._location=t instanceof dh?t:dh.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new md(e,t)}get root(){const e=new dh(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jh(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new dh(this._location.bucket,e);return new md(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Ju(Zu.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function yd(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=vh(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new qh(r,"GET",Yh(e,n),i);return s.errorHandler=Gh(t),s}(e.storage,e._location,$h());return e.storage.makeRequestWithTokens(t,pd).then((e=>{if(null===e)throw new Ju(Zu.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function vd(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new dh(e._location.bucket,n);return new md(e.storage,r)}function bd(e,t){if(e instanceof _d){const n=e;if(null==n._bucket)throw new Ju(Zu.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xu+"' property when initializing the app?");const r=new md(n,n._bucket);return null!=t?bd(r,t):r}return void 0!==t?vd(e,t):e}function wd(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof _d)return new md(e,t);throw lh("To use ref(service, url), the first argument must be a Storage instance.")}return bd(e,t)}function xd(e,t){const n=null===t||void 0===t?void 0:t[Xu];return null==n?null:dh.makeFromBucketSpec(n,e)}class _d{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Gu,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?dh.makeFromBucketSpec(r,this._host):xd(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=dh.makeFromBucketSpec(this._url,e):this._bucket=xd(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yh("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yh("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new md(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new fh(ch());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=bh(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new xh(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Cd="@firebase/storage",kd="0.13.2",Sd="storage";function Ed(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new gd(e,new Rh(t),n)}(e=Ue(e),t,n)}function Td(e){return yd(e=Ue(e))}function Id(e,t){return wd(e=Ue(e),t)}function Ad(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new _d(r,i,s,n,en)}Gt(new Fe(Sd,Ad,"PUBLIC").setMultipleInstances(!0)),rn(Cd,kd,""),rn(Cd,kd,"esm2017");const Pd=tn({apiKey:"AIzaSyDAX9kyVTzB-rc_qX7h_Mo76nDTSpFuaks",authDomain:"moeuigosa-encjrx.firebaseapp.com",databaseURL:"https://moeuigosa-encjrx.firebaseio.com",projectId:"moeuigosa-encjrx",storageBucket:"moeuigosa-encjrx.appspot.com",messagingSenderId:"940324999117",appId:"1:940324999117:web:93608ac90bd8587847fe84"}),Nd=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Xt("object"==typeof e?e:nn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Te("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Uc(e,$c))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&On("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Pn.MOCK_USER;else{t=Pe(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Vn($n.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Pn(s)}e._authCredentials=new Wn(new Hn(t,n))}}(r,...e)}return r}(Pd),Dd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn(),t=arguments.length>1?arguments[1]:void 0;e=Ue(e);const n=Xt(e,Sd).getImmediate({identifier:t}),r=Te("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Pe(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Pd);const Md=class{async addDocument(e,t,n){try{await function(e,t,n){e=Uc(e,zc);const r=Uc(e.firestore,Yc),i=Bu(e.converter,t,n);return Ku(r,[cu(lu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Os.none())])}(Wc(Nd,e,t),n),console.log(`Document added to ${e} with ID: ${t}`)}catch(r){throw console.error("Error adding document:",r),r}}async getDocument(e,t){try{const n=await function(e){e=Uc(e,zc);const t=Uc(e.firestore,Yc);return Nc(Qc(t),e._key).then((n=>Yu(t,e,n)))}(Wc(Nd,e,t));return n.exists()?n.data():(console.log("No such document!"),null)}catch(n){throw console.log("connected with data base at(FirebaseSearvice):",e,t),console.error("Error getting document:",n),n}}async getDocuments(e){try{const t=await qu(qc(Nd,e));return t||(console.log("No such document!"),null)}catch(t){throw console.error("Error getting document:",t),t}}async searchByFields(e,t){try{let n=qc(Nd,e);for(const[e,s]of Object.entries(t))n=Pu(n,Du(e,"==",s));const r=await qu(n),i=[];return r.forEach((e=>i.push({...e.data(),documentId:e.id}))),i}catch(n){throw console.error("Error searching by fields:",n),n}}async updateDocument(e,t,n){try{await Wu(Wc(Nd,e,t),n),console.log(`Document with ID: ${t} updated successfully in ${e}`)}catch(r){throw console.error("Error updating document:",r),r}}async deleteDocument(e,t){try{const r=Wc(Nd,e,t);return await(n=r,Ku(Uc(n.firestore,Yc),[new Qs(n._key,Os.none())])),console.log(`Document with ID ${t} has been deleted successfully.`),!0}catch(r){return console.error("Error deleting document:",r),!1}var n}async uploadFile(e,t){try{console.log("File object: ",e);const n=Id(Dd,`${t}/${e.name}`),r=Td((await Ed(n,e)).ref);return console.log("File uploaded successfully. URL: ",r),r}catch(n){throw console.error("Error uploading file:",n),n}}async getDownloadURL(e,t){try{const n=Id(Dd,`${e}/${t}`);return await Td(n)}catch(n){throw console.error("Error getting download URL:",n),n}}};class Ld{constructor(e,t,n,r,i,s,o,a,l,c,u,h,d){this.agent_username=t,this.usedCarId=e,this.seller_username=n,this.car_name=r,this.car_type=i,this.car_manufacturer=s,this.car_image=o,this.description=a,this.features=l,this.price=c,this.milage=u,this.manufacture_year=h,this.engine_cap=d,this.firebaseService=new Md}async createUsedCar(e,t,n,r,i,s,o,a,l,c,u,h,d){try{const f=new Md,p=await f.uploadFile(o,"car_images");p||console.log("Error uploading image");const g={agent_username:t,seller_username:n,car_name:r,car_type:i,car_manufacturer:s,car_image:p,description:a,features:l,price:Number(c),mileage:Number(u),manufacture_year:Number(h),engine_cap:Number(d)};return console.log("New Car Details(E):",e,t,n,r,i,s,o,a,l,c,u,h,d),await this.firebaseService.addDocument("UsedCar",e,g),console.log("Used car entry created successfully with ID:",e),console.log("Used car entry created successfully",g),{success:!0,message:"Used car entry created successfully"}}catch(f){return console.error("Error creating used car entry:",f),{success:!1,message:f.message}}}async viewUsedCar(e){try{const t=new Md,n=await t.getDocument("UsedCar",e);return console.log("Car data:",n),{usedCarId:e,body:n}}catch(t){return console.error("Error fetching car data:",t),null}}async updateUsedCar(e,t,n,r,i,s,o,a,l,c,u,h){try{const f=new Md;var d={seller_username:t,car_name:n,car_type:r,car_manufacturer:i,description:o,features:a,price:l,mileage:c,manufacture_year:u,engine_cap:h};if(null!=s){const e=await f.uploadFile(s,"car_images");e?d.car_image=e:console.log("Error uploading image")}return console.log(e),console.log(d),console.log(s),null!=s?(console.log(s.name),console.log(s.type)):console.log("Car image is not updated."),await this.firebaseService.updateDocument("UsedCar",this.usedCarId,d),console.log("Used car entry updated successfully"),!0}catch(f){return console.error("Error updating car entry:",f),{success:!1,message:f.message}}}async deleteUsedCar(e){try{return await this.firebaseService.deleteDocument("UsedCar",e),console.log("Used car entry deleted successfully"),!0}catch(t){return console.error("Error suspending car entry:",t),{success:!1,message:t.message}}}async searchUsedCar(e,t,n,r,i,s){try{let o=qc(Nd,"UsedCar"),a=n[0],l=n[1];console.log(e),console.log(t),console.log(a),console.log(l);const c=[];i&&c.push(Du("agent_username","==",i)),s&&c.push(Du("seller_username","==",s)),e&&c.push(Du("car_name","==",e)),t&&c.push(Du("car_type","==",t)),void 0!==a&&void 0!==l&&(c.push(Du("price",">=",Number(a))),c.push(Du("price","<=",Number(l)))),r&&c.push(Du("manufacture_year","==",Number(r)));const u=Pu(o,...c);console.log(u);const h=(await qu(u)).docs.map((e=>({id:e.id,...e.data()})));return h.length>0?(console.log(h),h):null}catch(o){return console.error("Error searching for cars:",o),{success:!1,message:o.message}}}static async increaseCount(e,t){try{if("view"!==t&&"shortlist"!==t)throw new Error("Invalid count type. Use 'view' or 'shortlist'");const n=(new Date).toISOString().slice(0,7),r=Wc(Nd,"UsedCar",e);return await Wu(r,{[t+"_count"]:Qu(1),[`${t}_history.${n}`]:Qu(1)}),console.log(`Successfully incremented ${t} for car ID: ${e}`),{success:!0,message:`${t} incremented successfully`}}catch(n){return console.error(`Error incrementing ${t} for used car entry:`,n),{success:!1,message:n.message}}}static async decreaseCount(e,t){try{if("view"!==t&&"shortlist"!==t)throw new Error("Invalid count type. Use 'view' or 'shortlist'");const n=(new Date).toISOString().slice(0,7),r=Wc(Nd,"UsedCar",e);return await Wu(r,{[t+"_count"]:Qu(-1),[`${t}_history.${n}`]:Qu(-1)}),console.log(`Successfully decremented ${t} for car ID: ${e}`),{success:!0,message:`${t} decremented successfully`}}catch(n){return console.error(`Error decrementing ${t} for used car entry:`,n),{success:!1,message:n.message}}}static async trackViewCount(e){try{const t=new Md,n=await t.getDocument("UsedCar",e);if(n&&void 0!==n.view_history)return n.view_history;throw new Error("View count not found for the provided used car ID")}catch(t){return console.error("Error tracking view count:",t),null}}static async trackShortlistCount(e){try{const t=new Md,n=await t.getDocument("UsedCar",e);if(n&&void 0!==n.shortlist_history)return n.shortlist_history;throw new Error("View count not found for the provided used car ID")}catch(t){return console.error("Error tracking view count:",t),null}}static async getUsedCarListById(e){try{const t=[];for(const n of e){const e=await Ld.firebaseService.getDocument("UsedCar",n);e&&t.push({id:n,...e})}return t.length>0?{success:!0,data:t}:{success:!1,message:"No used cars found for the provided IDs"}}catch(t){return console.error("Error retrieving used cars by ID list:",t),{success:!1,message:t.message}}}static async getUsedCarList(){try{const e=new Md,t=await e.getDocuments("UsedCar");return console.log(t),t}catch(e){throw console.error("Error:",e),e}}static async getUsedCarListByUsername(e,t){try{const n=new Md;if("seller"===e){const e=await n.searchByFields("UsedCar",{seller_username:t});return console.log(e),e}{const e=await n.searchByFields("UsedCar",{agent_username:t});return console.log(e),e}}catch(n){throw console.error("Error:",n),n}}}const Rd=Ld;const Od=class{constructor(e,t,n,r,i,s,o){this.username=e,this.fName=t,this.lName=n,this.password=r,this.phoneNum=i,this.email=s,this.userProfile=o,this.firebaseService=new Md}static async validateSeller(e){try{const t=new Md,n=await t.getDocument("UserAccount",e);return!(!n||"Seller"!==n.userProfile)||(console.warn(`User '${e}' is not a Seller or does not exist.`),!1)}catch(t){return console.error(`Error validating seller '${e}':`,t),!1}}async createUserAccount(e,t,n,r,i,s,o){try{const a={username:e,fName:t,lName:n,password:r,phoneNum:i,email:s,userProfile:o};console.log("Adding document with data:",a),await this.firebaseService.addDocument("UserAccount",e,a),console.log("User account created and saved to Firestore")}catch(a){console.error("Error creating user account:",a)}}async viewUserAccount(e){try{const t=await this.firebaseService.getDocument("UserAccount",e);if(t)return console.log("User data:",t),console.log("connected with data base at:",e),t;throw console.log("User Data Load fail at: ",t),console.log("did not connected with data base at:",e),new Error("User not found")}catch(t){throw console.error("Error fetching user data:",t),t}}async updateUserAccount(e,t,n,r,i,s,o){try{const a={username:e,fName:t,lName:n,password:r,email:s,phoneNum:i,userProfile:o};return await this.firebaseService.updateDocument("UserAccount",e,a),console.log("User account updated successfully"),!0}catch(a){return console.error("Error updating user data:",a),!1}}async suspendUserAccount(e){try{await this.firebaseService.updateDocument("UserAccount",e,{suspended:!0}),console.log("User account suspended successfully")}catch(t){console.error("Error suspending user account:",t)}}async searchUserAccount(e){try{let t=qc(Nd,"UserAccount");const n=[];e&&n.push(Du("username","==",e)),console.log(n);const r=Pu(t,...n),i=(await qu(r)).docs.map((e=>({id:e.id,...e.data()})));return console.log(i),i.length>0?i:null}catch(t){throw console.error("Error searching for user:",t),t}}async verifyUserAccount(e,t){try{const n=await this.firebaseService.getDocument("UserAccount",e);return console.log("User data:",n),console.log("Params:",e,t),n&&n.username===e?!0===n.suspended?(console.log("User account is suspended"),null):n.password===t?(console.log("ID/PW Match",n.userProfile),n.userProfile):(console.log("Incorrect password"),null):(console.log("User not found"),null)}catch(n){return console.error("Error logging in:",n),null}}static async getUserAccountList(){try{const e=new Md,t=await e.getDocuments("UserAccount");return console.log(t),t}catch(e){throw console.error("Error:",e),e}}};const jd=class{constructor(e,t,n){this.profileName=e,this.description=t,this.profileType=n,this.firebaseService=new Md}async createUserProfile(e,t,n){try{const r={profileName:e,description:t,profileType:n},i=new Md;return await i.addDocument("UserProfile",e,r),console.log("UserProfile saved successfully",e,r),!0}catch(r){return console.error("Error saving user profile:",r),!1}}async viewUserProfile(e){try{const t=await this.firebaseService.getDocument("UserProfile",e);return console.log("Success to display Profile: ",e),t}catch(t){throw console.error("Error getting user profile:",t),t}}async updateUserProfile(e,t,n){try{var r={profileName:e,description:t,profileType:n};const i=new Md;return await i.updateDocument("UserProfile",e,r),console.log("UserProfile updated successfully"),console.log("Success update user profile(E): ",e,t,n),!0}catch(i){return console.log("Failed update user profile(E): ",e,t,n),console.error("Error updating user profile:",i),!1}}async suspendUserProfile(e){try{return await this.firebaseService.updateDocument("UserProfile",e,{suspended:!0}),console.log("UserProfile suspended successfully",e),!0}catch(t){return console.error("Error suspending user profile:",t),!1}}async searchUserProfile(e){try{let t=qc(Nd,"UserProfile");const n=[];e&&n.push(Du("profileName","==",e)),console.log(n);const r=Pu(t,...n),i=(await qu(r)).docs.map((e=>({id:e.id,...e.data()})));return console.log(i),i.length>0?i:null}catch(t){throw console.error("Error searching for user:",t),t}}static async getUserProfiles(){try{const e=new Md,t=await e.getDocuments("UserProfile");return console.log(t),t}catch(e){throw console.error("Error:",e),e}}async verifyUserProfile(e,t){try{const n=await this.firebaseService.getDocument("UserProfile",e);return console.log("Profile data:",n),n&&n.profileName===e?!0===n.suspended?(console.log("User profile is suspended"),!1):n.profileType===t?(console.log("Profile Type Match",n.profileType,t),!0):(console.log("Profile Type Mismatch"),!1):(console.log("User not found"),!1)}catch(n){return console.error("Error logging in:",n),!1}}};class Bd{async leaveRateReview(e,t,n,r,i){try{const s={rate:Number(t),review:n,reviewerUsername:r,reviewerType:i,reviewTo:e};let o=Date.now().toString().concat(r);return await Bd.firebaseService.addDocument("RateReview",o,s),console.log("Rate and review saved successfully"),{success:!0,message:"Rate and review saved successfully"}}catch(s){return console.error("Error saving rate and review:",s),{success:!1,message:s.message}}}static async viewRateReview(e){try{return await Bd.firebaseService.getDocument("RateReview",e)}catch(t){return console.error("Error fetching reviews for agent:",t),{success:!1,message:t.message}}}static async getRateReviewList(e){try{const t=new Md,n=await t.searchByFields("RateReview",{reviewTo:e});return console.log(n),n}catch(t){throw console.error("Error:",t),t}}}Bd.firebaseService=new Md;const Ud=Bd;class Fd{constructor(e,t){this.username=e,this.usedCarId=t,this.firebaseService=new Md}static async saveToShortlist(e,t){try{const n=`${Date.now()}_${e}`,r={username:e,usedCarId:t.usedCarId,car_name:t.car_name,car_type:t.car_type,car_image:t.car_image,manufacture_year:t.manufacture_year,mileage:t.mileage,price:t.price,description:t.description};return console.log("Check save Shortlist at Entity",e,t.car_name),await Fd.firebaseService.addDocument("Shortlist",n,r),console.log("Used car added to shortlist successfully"),!0}catch(n){return console.error("Error saving used car to shortlist:",n),{success:!1,message:n.message}}}static async searchShortlist(e,t,n,r,i){try{let s=qc(Nd,"Shortlist"),o=r[0],a=r[1];console.log(o),console.log(a),console.log(e),console.log(t),console.log(n),console.log(i);const l=[];l.push(Du("username","==",e)),t&&l.push(Du("car_name","==",t)),n&&l.push(Du("car_type","==",n)),void 0!==o&&void 0!==a&&(l.push(Du("price",">=",Number(o))),l.push(Du("price","<=",Number(a)))),i&&l.push(Du("manufacture_year","==",Number(i)));const c=Pu(s,...l);console.log(c);const u=(await qu(c)).docs.map((e=>({id:e.id,...e.data()})));return u.length>0?u:null}catch(s){return console.error("Error searching in shortlist:",s),{success:!1,message:s.message}}}async deleteShortlist(e){try{const t=new Md;return await t.deleteDocument("Shortlist",e),console.log("Shortlist entry deleted successfully"),!0}catch(t){return console.error("Error delete shortlist entry:",t),{success:!1,message:t.message}}}static async getShortlistList(e){try{const t=new Md,n=await t.searchByFields("Shortlist",{username:e});return console.log("Fetched shortlist:",n),n}catch(t){throw console.error("Error:",t),t}}}Fd.firebaseService=new Md;const $d=Fd;class Vd{static async getUserAccountList(){try{return await Od.getUserAccountList()}catch(e){throw console.log("Error:",e),e}}static async getUserProfiles(){try{return await jd.getUserProfiles()}catch(e){throw console.log("Error:",e),e}}static async getUsedCarList(){try{return await Rd.getUsedCarList()}catch(e){throw console.log("Error:",e),e}}static async getRateReviewList(e){try{const t=await Ud.getRateReviewList(e);return console.log(t),t}catch(t){throw console.log("Error:",t),t}}static async getShortlistList(e){try{const t=await $d.getShortlistList(e);return console.log(t),t}catch(t){throw console.log("Error:",t),t}}static async getUsedCarListByUsername(e,t){try{const n=await Rd.getUsedCarListByUsername(e,t);return console.log(n),n}catch(n){throw console.log("Error:",n),n}}static async increaseCount(e,t){try{const n=await Rd.increaseCount(e,t);return console.log(n),n}catch(n){throw console.log("Error:",n),n}}static async decreaseCount(e,t){try{const n=await Rd.decreaseCount(e,t);return console.log(n),n}catch(n){throw console.log("Error:",n),n}}}class zd{constructor(){this.authenticateLogin=this.authenticateLogin.bind(this)}async authenticateLogin(e,t,n){try{const r=new Od(null,null,null,t,null,null,e),i=await r.verifyUserAccount(e,t);console.log("ID/PW Matched: ",e,t),console.log("User Profile: ",i);const s=new jd(i,null,n);return await s.verifyUserProfile(i,n)?(be.set("username",e),be.set("userProfile",s),console.log("Login successful"),!0):(console.log("Login failed"),!1)}catch(r){return console.error("Error logging in:",r),!1}}}class Hd{async logout(){try{return be.remove("username"),be.remove("userProfile"),console.log("Logout successful"),!0}catch(e){return console.error("Error logging out:",e),!1}}}var qd=n(64),Wd=n.n(qd),Kd=n(579);const Yd=function(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)([]);return(0,Kd.jsxs)("div",{className:"loginContainer",children:[(0,Kd.jsx)("h2",{className:"title",children:"CODE CRUSADERS"}),(0,Kd.jsx)("h3",{className:"subtitle",children:"USED CAR SELLING SERVICE"}),(0,Kd.jsxs)("form",{className:"form",onSubmit:async t=>{if(t.preventDefault(),""===e)Wd().fire({position:"center",title:"Invalid Input",icon:"error",text:"Please select user profile.",confirmButtonText:"OK",timer:1500});else if(""===n||""===s)Wd().fire({position:"center",title:"Invalid Input",icon:"error",text:"Please fill up username/password.",confirmButtonText:"OK",timer:1500});else{const t=new zd;await t.authenticateLogin(n,s,e)?Wd().fire({position:"center",title:"Login Successful",icon:"success",confirmButtonText:"OK",timer:1500}).then((()=>{be.set("username",n),be.set("userProfile",e),"UserAdmin"===e?window.open("/CSIT314-T05-CodeCrusaders/usermanagement","_self"):"UsedCarAgent"===e?window.open("/CSIT314-T05-CodeCrusaders/usedcarmanagement","_self"):"Buyer"===e?window.open("/CSIT314-T05-CodeCrusaders/buyerusedcar","_self"):"Seller"===e&&window.open("/CSIT314-T05-CodeCrusaders/sellerusedcar","_self")})):Wd().fire({position:"center",title:"Login Failed",icon:"error",html:"Invalid username/password. Please try again.<br><br><small>If you entered the correct username and password, your account may have been suspended. Please contact the administrator.</small>",confirmButtonText:"OK"})}},children:[(0,Kd.jsx)("label",{htmlFor:"loginAs",children:"Login As"}),(0,Kd.jsxs)("select",{id:"loginAs",value:e,onChange:e=>t(e.target.value),className:"input",children:[(0,Kd.jsx)("option",{value:"",children:"Select"}),(0,Kd.jsx)("option",{value:"UsedCarAgent",children:"Used Car Agent"}),(0,Kd.jsx)("option",{value:"Buyer",children:"Buyer"}),(0,Kd.jsx)("option",{value:"Seller",children:"Seller"}),(0,Kd.jsx)("option",{value:"UserAdmin",children:"User Admin"})]}),(0,Kd.jsx)("label",{htmlFor:"userId",children:"Username:"}),(0,Kd.jsx)("input",{type:"text",id:"username",value:n,onChange:e=>i(e.target.value),className:"input",placeholder:"Enter your user ID"}),(0,Kd.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,Kd.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>o(e.target.value),className:"input",placeholder:"Enter your password"}),(0,Kd.jsx)("button",{type:"submit",className:"button",children:"Login"})]})]})};const Qd=function(){const[e]=(0,r.useState)(be.get("username"));return"UserAdmin"!==be.get("userProfile")&&window.open("/CSIT314-T05-CodeCrusaders/","_self"),(0,Kd.jsxs)("div",{className:"umContainer",children:[(0,Kd.jsxs)("div",{className:"umHeader",children:[(0,Kd.jsxs)("div",{className:"umUserInfo",children:[(0,Kd.jsx)("img",{src:"https://placehold.co/40x40?text="+be.get("username"),alt:"Profile",className:"umProfilePicture"}),(0,Kd.jsx)("span",{className:"umUsername",children:e})]}),(0,Kd.jsx)("button",{onClick:async()=>{const e=new Hd;await e.logout()?Wd().fire({position:"center",title:"Logout Successful",icon:"success",confirmButtonText:"Back to login",timer:1500}).then((()=>{window.open("/CSIT314-T05-CodeCrusaders/","_self")})):Wd().fire({position:"center",title:"Logout Failed",icon:"error",confirmButtonText:"OK",timer:1500})},className:"umLogoutButton",children:"Logout"})]}),(0,Kd.jsxs)("div",{className:"umButtonContainer",children:[(0,Kd.jsx)("button",{onClick:()=>{console.log("User Account Management"),window.open("/CSIT314-T05-CodeCrusaders/useraccountmanagement","_self")},className:"umActionButton",children:"User Account Management"}),(0,Kd.jsx)("button",{onClick:()=>{console.log("User Profile Management"),window.open("/CSIT314-T05-CodeCrusaders/userprofilemanagement","_self")},className:"umActionButton",children:"User Profile Management"})]})]})};class Gd{async createUserAccount(e,t,n,r,i,s,o){try{const a=new Od(e,t,n,r,i,s,o);return await a.createUserAccount(e,t,n,r,i,s,o),!0}catch(a){return console.log("Error:",a),!1}}}class Xd{async viewUserAccount(e){try{const t=new Od,n=await t.viewUserAccount(e);return console.log("Fetched user account:",n),console.log("connected with data base at(c):",e),n}catch(t){return console.error("Error fetching user account:",t),null}}}class Jd{async updateUserAccount(e,t,n,r,i,s,o){try{const a=new Od(e,t,n,r,i,s,o);return await a.updateUserAccount(e,t,n,r,i,s,o),!0}catch(a){return!1}}}class Zd{async suspendUserAccount(e){try{const t=new Od(e);return await t.suspendUserAccount(e),console.log("Success to Suspend User(Controller)"),!0}catch(t){return console.log("failed to Suspend User(Controller)"),!1}}}class ef{async searchUserAccount(e){try{const t=new Od;return await t.searchUserAccount(e)}catch(t){return null}}}const tf=function(){const[e]=(0,r.useState)(be.get("username")),[t,n]=(0,r.useState)(""),[i,s]=(0,r.useState)([]),[o,a]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{const e=await Vd.getUserAccountList();if(null!==e){const t=e.docs.map((e=>({fName:e.data().fName,lName:e.data().lName,username:e.data().username,password:e.data().password,phone:e.data().phoneNum,email:e.data().email,profile:e.data().userProfile})));s(t)}})(),(async()=>{const e=await Vd.getUserProfiles();if(null!==e){const t=e.docs.filter((e=>!e.data().suspended)).map((e=>({profileName:e.data().profileName,profileType:e.data().profileType})));a(t)}})()}),[]),"UserAdmin"!==be.get("userProfile")&&window.open("/CSIT314-T05-CodeCrusaders/","_self");const l=e=>{Wd().fire({title:"Update User Account",html:`\n                <input type="text" id="fName" class="swal2-input" placeholder="First Name" value="${e.fName}">\n                <input type="text" id="lName" class="swal2-input" placeholder="Last Name" value="${e.lName}">\n                <input type="text" id="username" class="swal2-input" placeholder="Username" value="${e.username}" disabled>\n                <input type="password" id="password" class="swal2-input" placeholder="Password" value="${e.password}">\n                <input type="text" id="phoneNum" class="swal2-input" placeholder="Phone Number" value="${e.phoneNum||""}">\n                <input type="email" id="email" class="swal2-input" placeholder="Email" value="${e.email||""}">\n                <select id="userProfile" class="swal2-input">\n                    <option value="">Select User Profile</option>\n                </select>\n            `,confirmButtonText:"Update",focusConfirm:!1,didOpen:()=>{for(var t=document.getElementById("userProfile"),n=0;n<o.length;n++){var r=document.createElement("option"),i=o[n].profileName;r.value=i,console.log(e.userProfile,i),e.userProfile===i&&(r.selected=!0),r.innerHTML=i,t.appendChild(r)}},preConfirm:()=>{const e=document.getElementById("fName").value,t=document.getElementById("lName").value,n=document.getElementById("username").value,r=document.getElementById("password").value,i=document.getElementById("phoneNum").value,s=document.getElementById("email").value,o=document.getElementById("userProfile").value;return n&&e&&t&&i&&s&&o?{username:n,fName:e,lName:t,password:r,phoneNum:i,email:s,userProfile:o}:(Wd().showValidationMessage("Input must be filled. Please try again."),!1)}}).then((async e=>{if(e.isConfirmed){const{username:t,fName:n,lName:r,password:i,phoneNum:s,email:o,userProfile:a}=e.value,l=new Jd;await l.updateUserAccount(t,n,r,i,s,o,a)?Wd().fire("Updated!","Account details updated!.","success"):Wd().fire("Error!","Account detail update failed. Please try again.","error")}}))},c=async e=>{Wd().fire({title:"Are you sure?",text:"You are about to suspend this user account.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, suspend it!",cancelButtonText:"No, cancel."}).then((async t=>{if(t.isConfirmed){const t=new Zd;await t.suspendUserAccount(e)?Wd().fire("Suspended!","The user account has been suspended.","success"):Wd().fire("Failed!","Error occurred while suspending the user account! Please try again.","error")}}))};return(0,Kd.jsxs)("div",{className:"uamContainer",children:[(0,Kd.jsxs)("div",{className:"uamHeader",children:[(0,Kd.jsx)("button",{onClick:()=>{window.history.back()},className:"uamBack-button",children:"Back"}),(0,Kd.jsx)("div",{className:"uamProfile-picture",children:(0,Kd.jsx)("img",{src:"https://placehold.co/40x40?text="+be.get("username"),alt:"Profile"})}),(0,Kd.jsx)("span",{className:"uamUsername",children:e}),(0,Kd.jsx)("button",{onClick:async()=>{const e=new Hd;await e.logout()?Wd().fire({position:"center",title:"Logout Successful",icon:"success",confirmButtonText:"Back to login",timer:1500}).then((()=>{window.open("/CSIT314-T05-CodeCrusaders/","_self")})):Wd().fire({position:"center",title:"Logout Failed",icon:"error",confirmButtonText:"OK",timer:1500})},className:"uamLogout-button",children:"Logout"})]}),(0,Kd.jsxs)("div",{className:"uamSearch-bar",children:[(0,Kd.jsxs)("span",{children:[(0,Kd.jsx)("input",{id:"searchUsername",className:"uamSearch-input",placeholder:"Search by username"}),(0,Kd.jsx)("button",{onClick:async()=>{const e=document.getElementById("searchUsername"),t={username:e?e.value:""},n=new ef,r=await n.searchUserAccount(t.username);if(console.log(r),null===r)return console.log("Search results:",r),void Wd().fire({title:"No Results",text:"No user account found matching the search criteria.",icon:"info",confirmButtonText:"OK"});{const e=r.map((e=>({fName:e.fName,lName:e.lName,username:e.username,password:e.password,phone:e.phoneNum,email:e.email,profile:e.userProfile})));s(e)}},className:"uamSearch-button",children:"Search"})]}),(0,Kd.jsx)("span",{children:(0,Kd.jsx)("button",{onClick:()=>{let e,t,n,r,i,s,a;Wd().fire({title:"Create Account",html:'\n                <input type="text" id="fName" class="swal2-input" placeholder="First Name">\n                <input type="text" id="lName" class="swal2-input" placeholder="Last Name">\n                <input type="text" id="username" class="swal2-input" placeholder="Username">\n                <input type="password" id="password" class="swal2-input" placeholder="Password">\n                <input type="text" id="phoneNum" class="swal2-input" placeholder="Phone Number">\n                <input type="email" id="email" class="swal2-input" placeholder="Email">\n                <select id="userProfile" class="swal2-input">\n                    <option value="">Select User Profile</option>\n                </select>\n            ',confirmButtonText:"Create Account",focusConfirm:!1,didOpen:()=>{for(var l=document.getElementById("userProfile"),c=0;c<o.length;c++){var u=document.createElement("option");u.value=o[c].profileName,u.innerHTML=o[c].profileName,l.appendChild(u)}const h=Wd().getPopup();t=h.querySelector("#fName"),n=h.querySelector("#lName"),e=h.querySelector("#username"),r=h.querySelector("#password"),i=h.querySelector("#phoneNum"),s=h.querySelector("#email"),a=h.querySelector("#userProfile");const d=e=>{"Enter"===e.key&&Wd().clickConfirm()};t.onkeyup=d,n.onkeyup=d,e.onkeyup=d,r.onkeyup=d,i.onkeyup=d,s.onkeyup=d,a.onkeyup=d},preConfirm:()=>{const o=t.value,l=n.value,c=e.value,u=r.value,h=i.value,d=s.value,f=a.value;return c&&o&&l&&u&&h&&d&&f?{username:c,fName:o,lName:l,password:u,phoneNum:h,email:d,userProfile:f}:(Wd().showValidationMessage("Invalid input. Please try again."),!1)}}).then((async e=>{if(e.isConfirmed){const{username:t,fName:n,lName:r,password:i,phoneNum:s,email:o,userProfile:a}=e.value;console.log("New Account Details:",{fName:n,lName:r,username:t,password:i,phoneNum:s,email:o,userProfile:a});const l=new Gd;await l.createUserAccount(t,n,r,i,s,o,a)?Wd().fire("Account created!"):Wd().fire("Account creation failed. Please try again.")}}))},className:"uamCreate-button",children:"Create user account"})})]}),(0,Kd.jsxs)("div",{className:"uamUser-table",children:[(0,Kd.jsxs)("div",{className:"uamTable-header",children:[(0,Kd.jsx)("span",{children:"Name:"}),(0,Kd.jsx)("span",{children:"Username:"}),(0,Kd.jsx)("span",{children:"Profile:"}),(0,Kd.jsx)("span",{})]}),i.map((e=>(0,Kd.jsxs)("div",{className:"uamTable-row",children:[(0,Kd.jsx)("span",{children:`${e.fName} ${e.lName}`}),(0,Kd.jsx)("span",{children:e.username}),(0,Kd.jsx)("span",{children:e.profile}),(0,Kd.jsx)("button",{onClick:()=>(async e=>{console.log("Fetching user account for:",e);const t=new Xd,n=await t.viewUserAccount(e);console.log("User account data received:",n),n?(Wd().fire({title:"View User Account",html:`\n                    <div style="text-align: left;">\n                        <strong>First Name:</strong> ${n.fName}<br>\n                        <strong>Last Name:</strong> ${n.lName}<br>\n                        <strong>Username:</strong> ${n.username}<br>\n                        <strong>Phone:</strong> ${n.phoneNum||"N/A"}<br>\n                        <strong>Email:</strong> ${n.email||"N/A"}<br>\n                        <strong>User Profile:</strong> ${n.userProfile}<br>\n                    </div>\n                `,showCancelButton:!0,cancelButtonText:"Close",confirmButtonText:"Update Details",showDenyButton:!0,denyButtonText:"Suspend",focusConfirm:!1}).then((t=>{t.isConfirmed?l(n):t.isDenied&&c(e)})),console.log(n),console.log("display success in UI for: ",e)):(console.error("Failed to load user information:",e),Wd().fire({title:"Error",text:"Failed to load user information.",icon:"error",confirmButtonText:"Close"}))})(e.username),className:"uamInspect-button",children:"Inspect"})]},e.username)))]})]})};class nf{async createUserProfile(e,t,n){try{const r=new jd;return!!await r.createUserProfile(e,t,n)}catch(r){return console.log("Error:",r),!1}}}class rf{async viewUserProfile(e){try{const t=new jd;return await t.viewUserProfile(e)}catch(t){throw console.log("Error:",t),t}}}class sf{async updateUserProfile(e,t,n){try{const r=new jd(e,t,n);return await r.updateUserProfile(e,t,n)?(console.log("Success update user profile: ",e,t,n),!0):(console.log("Failed update user profile: ",e,t,n),!1)}catch(r){return r}}}class of{async suspendUserProfile(e){try{const t=new jd(e,null,null);await t.suspendUserProfile(e);return console.log("Success to Suspend User Profile(Controller)",e),!0}catch(t){return!1}}}class af{async searchUserProfile(e){try{const t=new jd;return await t.searchUserProfile(e)}catch(t){throw t}}}const lf=function(){const[e]=(0,r.useState)(be.get("username")),[t,n]=(0,r.useState)(""),[i,s]=(0,r.useState)([]),o=async()=>{const e=await Vd.getUserProfiles();if(null!==e){const t=e.docs.map((e=>{return{profileName:e.data().profileName,description:(t=e.data().description,t.length>=50?t.substring(0,50)+"...":t),profileType:e.data().profileType};var t}));s(t)}};(0,r.useEffect)((()=>{o()}),[]),"UserAdmin"!==be.get("userProfile")&&window.open("/CSIT314-T05-CodeCrusaders/","_self");const a=e=>{Wd().fire({title:"Update User Profile",html:`\n                <input type="text" id="profileName" class="swal2-input" placeholder="Profile Name" value="${e.profileName}" disabled>\n                <input type="text" id="description" class="swal2-input" placeholder="Description" value="${e.description}">\n                <select id="profileType" class="swal2-select">\n                    <option value="">Select Profile Type</option>\n                    <option value="Buyer" ${"Buyer"===e.profileType?"selected":""}>Buyer</option>\n                    <option value="Seller" ${"Seller"===e.profileType?"selected":""}>Seller</option>\n                    <option value="UsedCarAgent" ${"UsedCarAgent"===e.profileType?"selected":""}>Used Car Agent</option>\n                    <option value="UserAdmin" ${"UserAdmin"===e.profileType?"selected":""}>User Admin</option>\n                </select>\n            `,confirmButtonText:"Update",focusConfirm:!1,preConfirm:()=>{const e=document.getElementById("description").value,t=document.getElementById("profileName").value,n=document.getElementById("profileType").value;return console.log("after input update value: ",t,e,n),t&&e&&n?{profileName:t,description:e,profileType:n}:(Wd().showValidationMessage("Input must be filled. Please try again."),!1)}}).then((async e=>{if(e.isConfirmed){const{profileName:t,description:n,profileType:r}=e.value,i=new sf,s=await i.updateUserProfile(t,n,r);console.log("Updated Profile Details:",{profileName:t,description:n,profileType:r}),s?Wd().fire("Updated!","Details updated!.","success"):Wd().fire("Failed","Profile detail update failed. Please try again.","error"),o()}}))},l=async e=>{Wd().fire({title:"Are you sure?",text:"You are about to suspend this user profile.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, suspend it!",cancelButtonText:"No, cancel."}).then((async t=>{if(t.isConfirmed){const t=new of,n=await t.suspendUserProfile(e);console.log("User suspended:",e),n?Wd().fire("Suspended!","The user profile has been suspended.","success"):Wd().fire("Failed!","Error occurred while suspending the user profile! Please try again.","error")}}))};return(0,Kd.jsxs)("div",{className:"upmContainer",children:[(0,Kd.jsxs)("div",{className:"upmHeader",children:[(0,Kd.jsx)("button",{onClick:()=>{window.history.back()},className:"upmBack-button",children:"Back"}),(0,Kd.jsx)("div",{className:"upmProfile-picture",children:(0,Kd.jsx)("img",{src:"https://placehold.co/40x40?text="+be.get("username"),alt:"Profile"})}),(0,Kd.jsx)("span",{className:"upmUsername",children:e}),(0,Kd.jsx)("button",{onClick:async()=>{const e=new Hd;await e.logout()?Wd().fire({position:"center",title:"Logout Successful",icon:"success",confirmButtonText:"Back to login",timer:1500}).then((()=>{window.open("/CSIT314-T05-CodeCrusaders/","_self")})):Wd().fire({position:"center",title:"Logout Failed",icon:"error",confirmButtonText:"OK",timer:1500})},className:"upmLogout-button",children:"Logout"})]}),(0,Kd.jsxs)("div",{className:"upmSearch-bar",children:[(0,Kd.jsxs)("span",{children:[(0,Kd.jsx)("input",{id:"searchProfileName",className:"upmSearch-input",placeholder:"Search by profile name"}),(0,Kd.jsx)("button",{onClick:async()=>{const e=document.getElementById("searchProfileName"),t={profileName:e?e.value:""},n=new af,r=await n.searchUserProfile(t.profileName);if(console.log(r),null===r)console.log("Search results:",r),Wd().fire({title:"No Results",text:"No user profile found matching the search criteria.",icon:"info",confirmButtonText:"OK"});else{const e=r.map((e=>({profileName:e.profileName,description:e.description,profileType:e.profileType})));s(e)}},className:"upmSearch-button",children:"Search"})]}),(0,Kd.jsx)("span",{children:(0,Kd.jsx)("button",{onClick:()=>{let e,t,n;Wd().fire({title:"Create Profile",html:'\n                <input type="text" id="profileName" class="swal2-input" placeholder="Profile Name">\n                <input type="text" id="description" class="swal2-input" placeholder="Description">\n                <select id="profileType" class="swal2-select">\n                    <option value="">Select Profile Type</option>\n                    <option value="UserAdmin">User Admin</option>\n                    <option value="UsedCarAgent">Used Car Agent</option>\n                    <option value="Buyer">Buyer</option>\n                    <option value="Seller">Seller</option>\n                </select>\n            ',confirmButtonText:"Create Profile",focusConfirm:!1,didOpen:()=>{const r=Wd().getPopup();e=r.querySelector("#profileName"),t=r.querySelector("#description"),n=r.querySelector("#profileType");const i=e=>{"Enter"===e.key&&Wd().clickConfirm()};e.onkeyup=i,t.onkeyup=i,n.onkeyup=i},preConfirm:()=>{const r=e.value,i=t.value,s=n.value;return r&&i&&s?{profileName:r,description:i,profileType:s}:(Wd().showValidationMessage("Invalid input. Please try again."),!1)}}).then((async e=>{if(e.isConfirmed){const{profileName:t,description:n,profileType:r}=e.value,i=new nf;await i.createUserProfile(t,n,r)?(Wd().fire("Profile created!"),o()):Wd().fire("Profile creation failed. Please try again.")}}))},className:"upmCreate-button",children:"Create user profile"})})]}),(0,Kd.jsxs)("div",{className:"upmUser-table",children:[(0,Kd.jsxs)("div",{className:"upmTable-header",children:[(0,Kd.jsx)("span",{children:"Profile Name"}),(0,Kd.jsx)("span",{children:"Description"}),(0,Kd.jsx)("span",{children:"Type"}),(0,Kd.jsx)("span",{})]}),i.map((e=>(0,Kd.jsxs)("div",{className:"upmTable-row",children:[(0,Kd.jsx)("span",{children:e.profileName}),(0,Kd.jsx)("span",{children:e.description}),(0,Kd.jsx)("span",{children:e.profileType}),(0,Kd.jsx)("button",{onClick:()=>(async e=>{console.log("Fetching user account for:",e);const t=new rf,n=await t.viewUserProfile(e);console.log("User profile data received:",n),n?(Wd().fire({title:"View User Profile",html:`\n                    <div style="text-align: left;">\n                        <strong>Profile Name:</strong> ${n.profileName}<br>\n                        <strong>Description:</strong> ${n.description}<br>\n                        <strong>Type:</strong> ${n.profileType}<br>\n                    </div>\n                `,showCancelButton:!0,cancelButtonText:"close",confirmButtonText:"Update Details",showDenyButton:!0,denyButtonText:"Suspend",focusConfirm:!1}).then((t=>{t.isConfirmed?a(n):t.isDenied&&l(e)})),console.log(n),console.log("display success in UI for: ",e)):(console.error("Failed to load profile information:",e),Wd().fire({title:"Error",text:"Failed to load profile information.",icon:"error",confirmButtonText:"Close"}))})(e.profileName),className:"upmInspect-button",children:"Inspect"})]},e.username)))]})]})};const cf=function(){const[e]=(0,r.useState)(be.get("username"));return"UsedCarAgent"!==be.get("userProfile")&&window.open("/CSIT314-T05-CodeCrusaders/","_self"),(0,Kd.jsxs)("div",{className:"ucamContainer",children:[(0,Kd.jsxs)("div",{className:"ucamHeader",children:[(0,Kd.jsxs)("div",{className:"ucamUserInfo",children:[(0,Kd.jsx)("img",{src:"https://placehold.co/40x40?text="+be.get("username"),alt:"Profile",className:"ucamProfilePicture"}),(0,Kd.jsx)("span",{className:"ucamUsername",children:e})]}),(0,Kd.jsx)("button",{onClick:async()=>{const e=new Hd;await e.logout()?Wd().fire({position:"center",title:"Logout Successful",icon:"success",confirmButtonText:"Back to login",timer:1500}).then((()=>{window.open("/CSIT314-T05-CodeCrusaders/","_self")})):Wd().fire({position:"center",title:"Logout Failed",icon:"error",confirmButtonText:"OK",timer:1500})},className:"ucamLogoutButton",children:"Logout"})]}),(0,Kd.jsxs)("div",{className:"ucamButtonContainer",children:[(0,Kd.jsx)("button",{onClick:()=>{console.log("Used Car Management"),window.open("/CSIT314-T05-CodeCrusaders/ucausedcarlisting","_self")},className:"ucamActionButton",children:"Used Car Listing"}),(0,Kd.jsx)("button",{onClick:()=>{console.log("Feedback"),window.open("/CSIT314-T05-CodeCrusaders/ucarateandreview","_self")},className:"ucamActionButton",children:"View my Rate and Review"})]})]})};function uf(e){return e+.5|0}const hf=(e,t,n)=>Math.max(Math.min(e,n),t);function df(e){return hf(uf(2.55*e),0,255)}function ff(e){return hf(uf(255*e),0,255)}function pf(e){return hf(uf(e/2.55)/100,0,1)}function gf(e){return hf(uf(100*e),0,100)}const mf={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yf=[..."0123456789ABCDEF"],vf=e=>yf[15&e],bf=e=>yf[(240&e)>>4]+yf[15&e],wf=e=>(240&e)>>4===(15&e);function xf(e){var t=(e=>wf(e.r)&&wf(e.g)&&wf(e.b)&&wf(e.a))(e)?vf:bf;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const _f=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Cf(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function kf(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Sf(e,t,n){const r=Cf(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Ef(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=(i+s)/2;let a,l,c;return i!==s&&(c=i-s,l=o>.5?c/(2-i-s):c/(i+s),a=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),a=60*a+.5),[0|a,l||0,o]}function Tf(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(ff)}function If(e,t,n){return Tf(Cf,e,t,n)}function Af(e){return(e%360+360)%360}function Pf(e){const t=_f.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?df(+t[5]):ff(+t[5]));const i=Af(+t[2]),s=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Tf(Sf,e,t,n)}(i,s,o):"hsv"===t[1]?function(e,t,n){return Tf(kf,e,t,n)}(i,s,o):If(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}const Nf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Df={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Mf;function Lf(e){Mf||(Mf=function(){const e={},t=Object.keys(Df),n=Object.keys(Nf);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Nf[s]);s=parseInt(Df[o],16),e[a]=[s>>16&255,s>>8&255,255&s]}return e}(),Mf.transparent=[0,0,0,0]);const t=Mf[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Rf=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Of=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,jf=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Bf(e,t,n){if(e){let r=Ef(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=If(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Uf(e,t){return e?Object.assign(t||{},e):e}function Ff(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ff(e[3]))):(t=Uf(e,{r:0,g:0,b:0,a:1})).a=ff(t.a),t}function $f(e){return"r"===e.charAt(0)?function(e){const t=Rf.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?df(e):hf(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?df(n):hf(n,0,255)),r=255&(t[4]?df(r):hf(r,0,255)),i=255&(t[6]?df(i):hf(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):Pf(e)}class Vf{constructor(e){if(e instanceof Vf)return e;const t=typeof e;let n;"object"===t?n=Ff(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*mf[e[1]],g:255&17*mf[e[2]],b:255&17*mf[e[3]],a:5===n?17*mf[e[4]]:255}:7!==n&&9!==n||(t={r:mf[e[1]]<<4|mf[e[2]],g:mf[e[3]]<<4|mf[e[4]],b:mf[e[5]]<<4|mf[e[6]],a:9===n?mf[e[7]]<<4|mf[e[8]]:255})),t}(e)||Lf(e)||$f(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Uf(this._rgb);return e&&(e.a=pf(e.a)),e}set rgb(e){this._rgb=Ff(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${pf(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?xf(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Ef(e),n=t[0],r=gf(t[1]),i=gf(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${pf(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,o=2*s-1,a=n.a-r.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=jf(pf(e.r)),i=jf(pf(e.g)),s=jf(pf(e.b));return{r:ff(Of(r+n*(jf(pf(t.r))-r))),g:ff(Of(i+n*(jf(pf(t.g))-i))),b:ff(Of(s+n*(jf(pf(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Vf(this.rgb)}alpha(e){return this._rgb.a=ff(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=uf(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Bf(this._rgb,2,e),this}darken(e){return Bf(this._rgb,2,-e),this}saturate(e){return Bf(this._rgb,1,e),this}desaturate(e){return Bf(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Ef(e);n[0]=Af(n[0]+t),n=If(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function zf(){}const Hf=(()=>{let e=0;return()=>e++})();function qf(e){return null===e||"undefined"===typeof e}function Wf(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Kf(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Yf(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Qf(e,t){return Yf(e)?e:t}function Gf(e,t){return"undefined"===typeof e?t:e}const Xf=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Jf(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Zf(e,t,n,r){let i,s,o;if(Wf(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(Kf(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function ep(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function tp(e){if(Wf(e))return e.map(tp);if(Kf(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=tp(e[n[i]]);return t}return e}function np(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function rp(e,t,n,r){if(!np(e))return;const i=t[e],s=n[e];Kf(i)&&Kf(s)?ip(i,s,r):t[e]=tp(s)}function ip(e,t,n){const r=Wf(t)?t:[t],i=r.length;if(!Kf(e))return e;const s=(n=n||{}).merger||rp;let o;for(let a=0;a<i;++a){if(o=r[a],!Kf(o))continue;const t=Object.keys(o);for(let r=0,i=t.length;r<i;++r)s(t[r],e,o,n)}return e}function sp(e,t){return ip(e,t,{merger:op})}function op(e,t,n){if(!np(e))return;const r=t[e],i=n[e];Kf(r)&&Kf(i)?sp(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=tp(i))}const ap={"":e=>e,x:e=>e.x,y:e=>e.y};function lp(e,t){const n=ap[t]||(ap[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function cp(e){return e.charAt(0).toUpperCase()+e.slice(1)}const up=e=>"undefined"!==typeof e,hp=e=>"function"===typeof e,dp=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const fp=Math.PI,pp=2*fp,gp=pp+fp,mp=Number.POSITIVE_INFINITY,yp=fp/180,vp=fp/2,bp=fp/4,wp=2*fp/3,xp=Math.log10,_p=Math.sign;function Cp(e,t,n){return Math.abs(e-t)<n}function kp(e){const t=Math.round(e);e=Cp(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(xp(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Sp(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ep(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Tp(e){return e*(fp/180)}function Ip(e){return e*(180/fp)}function Ap(e){if(!Yf(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Pp(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*fp&&(s+=pp),{angle:s,distance:i}}function Np(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Dp(e,t){return(e-t+gp)%pp-fp}function Mp(e){return(e%pp+pp)%pp}function Lp(e,t,n,r){const i=Mp(e),s=Mp(t),o=Mp(n),a=Mp(s-i),l=Mp(o-i),c=Mp(i-s),u=Mp(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Rp(e,t,n){return Math.max(t,Math.min(n,e))}function Op(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function jp(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Bp=(e,t,n,r)=>jp(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Up=(e,t,n)=>jp(e,n,(r=>e[r][t]>=n));const Fp=["push","pop","shift","splice","unshift"];function $p(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Fp.forEach((t=>{delete e[t]})),delete e._chartjs)}function Vp(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const zp="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Hp(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];n=s,r||(r=!0,zp.call(window,(()=>{r=!1,e.apply(t,n)})))}}const qp=e=>"start"===e?"left":"end"===e?"right":"center",Wp=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Kp(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(i=Rp(Math.min(Bp(a,l,c).lo,n?r:Bp(t,l,o.getPixelForValue(c)).lo),0,r-1)),s=d?Rp(Math.max(Bp(a,o.axis,u,!0).hi+1,n?0:Bp(t,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function Yp(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Qp=e=>0===e||1===e,Gp=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*pp/n),Xp=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*pp/n)+1,Jp={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*vp),easeOutSine:e=>Math.sin(e*vp),easeInOutSine:e=>-.5*(Math.cos(fp*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Qp(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Qp(e)?e:Gp(e,.075,.3),easeOutElastic:e=>Qp(e)?e:Xp(e,.075,.3),easeInOutElastic(e){const t=.1125;return Qp(e)?e:e<.5?.5*Gp(2*e,t,.45):.5+.5*Xp(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Jp.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Jp.easeInBounce(2*e):.5*Jp.easeOutBounce(2*e-1)+.5};function Zp(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function eg(e){return Zp(e)?e:new Vf(e)}function tg(e){return Zp(e)?e:new Vf(e).saturate(.5).darken(.1).hexString()}const ng=["x","y","borderWidth","radius","tension"],rg=["color","borderColor","backgroundColor"];const ig=new Map;function sg(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=ig.get(n);return r||(r=new Intl.NumberFormat(e,t),ig.set(n,r)),r}(t,n).format(e)}const og={values:e=>Wf(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=xp(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),sg(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(xp(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?og.numeric.call(this,e,t,n):""}};var ag={formatters:og};const lg=Object.create(null),cg=Object.create(null);function ug(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function hg(e,t,n){return"string"===typeof t?ip(ug(e,t),n):ip(ug(e,""),t)}class dg{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>tg(t.backgroundColor),this.hoverBorderColor=(e,t)=>tg(t.borderColor),this.hoverColor=(e,t)=>tg(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return hg(this,e,t)}get(e){return ug(this,e)}describe(e,t){return hg(cg,e,t)}override(e,t){return hg(lg,e,t)}route(e,t,n,r){const i=ug(this,e),s=ug(this,n),o="_"+t;Object.defineProperties(i,{[o]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=s[r];return Kf(e)?Object.assign({},t,e):Gf(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var fg=new dg({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:rg},numbers:{type:"number",properties:ng}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ag.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function pg(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function gg(e,t,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||Wf(h)){if(Wf(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||Wf(d)||(o=pg(e,i,s,o,d))}else o=pg(e,i,s,o,h);e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return o}function mg(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function yg(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function vg(e,t,n,r){bg(e,t,n,r,null)}function bg(e,t,n,r,i){let s,o,a,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*yp;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,g,0,0,pp):e.arc(n,r,g,0,pp),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=wp,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=wp,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+bp)*l,h=Math.cos(m+bp)*(i?i/2-c:l),a=Math.sin(m+bp)*l,d=Math.sin(m+bp)*(i?i/2-c:l),e.arc(n-h,r-a,c,m-fp,m-vp),e.arc(n+d,r-o,c,m-vp,m),e.arc(n+h,r+a,c,m,m+vp),e.arc(n-d,r+o,c,m+vp,m+fp),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}m+=bp;case"rectRot":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+d,r-o),e.lineTo(n+h,r+a),e.lineTo(n-d,r+o),e.closePath();break;case"crossRot":m+=bp;case"cross":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"star":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o),m+=bp,h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function wg(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function xg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function _g(e){e.restore()}function Cg(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function kg(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Sg(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function Eg(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Tg(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Wf(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),qf(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Eg(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),qf(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),Sg(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function Ig(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*fp,fp,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,fp,vp,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,vp,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-vp,!0),e.lineTo(n+o.topLeft,r)}const Ag=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Pg=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ng(e,t){const n=(""+e).match(Ag);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function Dg(e,t){const n={},r=Kf(t),i=r?Object.keys(t):t,s=Kf(e)?r?n=>Gf(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of i)n[o]=+s(o)||0;return n}function Mg(e){return Dg(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Lg(e){return Dg(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Rg(e){const t=Mg(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Og(e,t){e=e||{},t=t||fg.font;let n=Gf(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=Gf(e.style,t.style);r&&!(""+r).match(Pg)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Gf(e.family,t.family),lineHeight:Ng(Gf(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Gf(e.weight,t.weight),string:""};return i.string=function(e){return!e||qf(e.size)||qf(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function jg(e,t,n,r){let i,s,o,a=!0;for(i=0,s=e.length;i<s;++i)if(o=e[i],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),a=!1),void 0!==n&&Wf(o)&&(o=o[n%o.length],a=!1),void 0!==o))return r&&!a&&(r.cacheable=!1),o}function Bg(e,t){return Object.assign(Object.create(e),t)}function Ug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Gg("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>Ug([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>Hg(n,r,(()=>function(e,t,n,r){let i;for(const s of t)if(i=Gg(Vg(s,e),n),"undefined"!==typeof i)return zg(e,i)?Yg(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Xg(e).includes(t),ownKeys:e=>Xg(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function Fg(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:$g(e,r),setContext:t=>Fg(e,t,n,r),override:i=>Fg(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Hg(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];hp(a)&&o.isScriptable(t)&&(a=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);a.delete(e),zg(e,l)&&(l=Yg(i._scopes,i,e,l));return l}(t,a,e,n));Wf(a)&&a.length&&(a=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(Kf(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Yg(r,i,e,l);t.push(Fg(n,s,o&&o[e],a))}}return t}(t,a,e,o.isIndexable));zg(t,a)&&(a=Fg(a,i,s&&s[t],o));return a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function $g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:hp(n)?n:()=>n,isIndexable:hp(r)?r:()=>r}}const Vg=(e,t)=>e?e+cp(t):t,zg=(e,t)=>Kf(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Hg(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function qg(e,t,n){return hp(e)?e(t,n):e}const Wg=(e,t)=>!0===e?t:"string"===typeof e?lp(t,e):void 0;function Kg(e,t,n,r,i){for(const s of t){const t=Wg(n,s);if(t){e.add(t);const s=qg(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function Yg(e,t,n,r){const i=t._rootScopes,s=qg(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=Qg(a,o,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=Qg(a,o,s,l,r),null!==l))&&Ug(Array.from(a),[""],i,s,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(Wf(i)&&Kf(n))return n;return i||{}}(t,n,r))))}function Qg(e,t,n,r,i){for(;n;)n=Kg(e,t,n,r,i);return n}function Gg(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Xg(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Jg(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=t[c],o[a]={r:i.parse(lp(u,s),c)};return o}const Zg=Number.EPSILON||1e-14,em=(e,t)=>t<e.length&&!e[t].skip&&e[t],tm=e=>"x"===e?"y":"x";function nm(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=Np(s,i),l=Np(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function rm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=tm(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=em(e,0);for(o=0;o<r;++o)if(a=l,l=c,c=em(e,o+1),l){if(c){const e=c[t]-l[t];i[o]=0!==e?(c[n]-l[n])/e:0}s[o]=a?c?_p(i[o-1])!==_p(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}!function(e,t,n){const r=e.length;let i,s,o,a,l,c=em(e,0);for(let u=0;u<r-1;++u)l=c,c=em(e,u+1),l&&c&&(Cp(t[u],0,Zg)?n[u]=n[u+1]=0:(i=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=s*o*t[u])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=tm(n),i=e.length;let s,o,a,l=em(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=em(e,c+1),!a)continue;const i=a[n],u=a[r];o&&(s=(i-o[n])/3,a[`cp1${n}`]=i-s,a[`cp1${r}`]=u-s*t[c]),l&&(s=(l[n]-i)/3,a[`cp2${n}`]=i+s,a[`cp2${r}`]=u+s*t[c])}}(e,s,t)}function im(e,t,n){return Math.max(Math.min(e,n),t)}function sm(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)rm(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=nm(n,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,r,i,s,o,a=wg(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&wg(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=im(i.cp1x,t.left,t.right),i.cp1y=im(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=im(i.cp2x,t.left,t.right),i.cp2y=im(i.cp2y,t.top,t.bottom)))}(e,n)}function om(){return"undefined"!==typeof window&&"undefined"!==typeof document}function am(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function lm(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const cm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const um=["top","right","bottom","left"];function hm(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=um[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function dm(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=cm(n),s="border-box"===i.boxSizing,o=hm(i,"padding"),a=hm(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o,a,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))o=i,a=s;else{const e=t.getBoundingClientRect();o=r.clientX-e.left,a=r.clientY-e.top,l=!0}return{x:o,y:a,box:l}}(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=t;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const fm=e=>Math.round(10*e)/10;function pm(e,t,n,r){const i=cm(e),s=hm(i,"margin"),o=lm(i.maxWidth,e,"clientWidth")||mp,a=lm(i.maxHeight,e,"clientHeight")||mp,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=e&&am(e);if(s){const e=s.getBoundingClientRect(),o=cm(s),a=hm(o,"border","width"),l=hm(o,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,r=lm(o.maxWidth,s,"clientWidth"),i=lm(o.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||mp,maxHeight:i||mp}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=hm(i,"border","width"),t=hm(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=fm(Math.min(c,o,l.maxWidth)),u=fm(Math.min(u,a,l.maxHeight)),c&&!u&&(u=fm(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=fm(Math.floor(u*r))),{width:c,height:u}}function gm(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const mm=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};om()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(cx){}return e}();function ym(e,t){const n=function(e,t){return cm(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function vm(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function bm(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function wm(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=vm(e,i,n),a=vm(i,s,n),l=vm(s,t,n),c=vm(o,a,n),u=vm(a,l,n);return vm(c,u,n)}function xm(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function _m(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Cm(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function km(e){return"angle"===e?{between:Lp,compare:Dp,normalize:Mp}:{between:Op,compare:(e,t)=>e-t,normalize:e=>e}}function Sm(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function Em(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=km(r),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=km(r),l=t.length;let c,u,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(t[h%l][r]),i,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let g,m,y,v=!1,b=null;const w=()=>v||l(i,y,g)&&0!==a(i,y),x=()=>!v||0===a(s,g)||l(s,y,g);for(let _=u,C=u;_<=h;++_)m=t[_%o],m.skip||(g=c(m[r]),g!==y&&(v=l(g,i,s),null===b&&w()&&(b=0===a(g,i)?_:C),null!==b&&x()&&(p.push(Sm({start:b,end:_,loop:d,count:o,style:f})),b=null),C=_,y=g));return null!==b&&p.push(Sm({start:b,end:h,loop:d,count:o,style:f})),p}function Tm(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Em(r[i],e.points,t);s.length&&n.push(...s)}return n}function Im(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=Am(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=s,h=t[0].start,d=h;function f(e,t,r,i){const s=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,h=t%l)}}for(const p of t){h=a?h:p.start;let e,t=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];e=Am(r.setContext(Bg(i,{type:"segment",p0:t,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Pm(e,u)&&f(h,d-1,p.loop,u),t=s,u=e}h<d-1&&f(h,d-1,p.loop,u)}return c}(e,t,n,r):t}function Am(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Pm(e,t){if(!t)return!1;const n=[],r=function(e,t){return Zp(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class Nm{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=zp.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,o=i.length-1,a=!1;for(;o>=0;--o)s=i[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Dm=new Nm;const Mm="transparent",Lm={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=eg(e||Mm),i=r.valid&&eg(t||Mm);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Rm{constructor(e,t,n,r){const i=t[n];r=jg([e.to,r,i,e.from]);const s=jg([e.from,i,r]);this._active=!0,this._fn=e.fn||Lm[e.type||typeof s],this._easing=Jp[e.easing]||Jp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=jg([e.to,t,r,e.from]),this._from=jg([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,o=this._to;let a;if(this._active=i!==o&&(s||t<n),!this._active)return this._target[r]=o,void this._notify(!0);t<0?this._target[r]=i:(a=t/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class Om{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Kf(e))return;const t=Object.keys(fg.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!Kf(i))return;const s={};for(const e of t)s[e]=i[e];(Wf(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(i[l]=u=new Rm(h,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Dm.add(this._chart,n),!0):void 0}}function jm(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function Bm(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Um(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let o,a,l,c;if(null===t)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=e.values[l],Yf(c)&&(s||0===t||_p(t)===_p(c))&&(t+=c)}return u||r.all?t:0}function Fm(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function $m(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Vm(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function zm(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,o,r),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[l]:n,[c]:s}=e;d=(e._stacks||(e._stacks={}))[c]=$m(i,u,n),d[a]=s,d._top=Vm(d,o,!0,r.type),d._bottom=Vm(d,o,!1,r.type);(d._visualValues||(d._visualValues={}))[a]=s}}function Hm(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function qm(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const Wm=e=>"reset"===e||"none"===e,Km=(e,t)=>t?e:Object.assign({},e);class Ym{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Fm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qm(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=Gf(n.xAxisID,Hm(e,"x")),s=t.yAxisID=Gf(n.yAxisID,Hm(e,"y")),o=t.rAxisID=Gf(n.rAxisID,Hm(e,"r")),a=t.indexAxis,l=t.iAxisID=r(a,i,s,o),c=t.vAxisID=r(a,s,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$p(this._data,this),e._stacked&&qm(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Kf(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:e[u]};return a}(t,e)}else if(n!==t){if(n){$p(n,this);const e=this._cachedMeta;qm(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Fp.forEach((e=>{const t="_onData"+cp(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const o=n.apply(this,i);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...i)})),o}})})))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=Fm(t.vScale,t),t.stack!==n.stack&&(r=!0,qm(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(zm(this,t._parsed),t._stacked=Fm(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,o=i.axis;let a,l,c,u=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Wf(r[e])?this.parseArrayData(n,r,e,t):Kf(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],u&&(i()&&(u=!1),h=l);n._sorted=u}s&&zm(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,o=i.axis,a=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[o]:c||i.parse(l[f],f),[a]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=t[c],o[a]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=t[h],l[c]={x:i.parse(lp(d,o),h),y:s.parse(lp(d,a),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return Um({keys:Bm(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const o=r&&n._stacks[t.axis];r&&o&&(r.values=o,s=Um(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Bm(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=r[h];const t=d[o.axis];return!Yf(d[e.axis])||c>t||u<t}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,e,d,a),!i));++h);if(i)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,e,d,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],Yf(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return Kf(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(Gf(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=jm(e,n),i=jm(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||r.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,o,a),c=o;c<o+a;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return Bg(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return Bg(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,o=i[s],a=this.enableOptionSharing&&up(n);if(o)return Km(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(fg.elements[e]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,t)),u);return f.$shared&&(f.$shared=a,i[s]=Object.freeze(Km(f,a))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s=`animation-${t}`,o=i[s];if(o)return o;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(s,this.getContext(e,n,t))}const l=new Om(r,a&&a.animations);return a&&a._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Wm(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){Wm(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!Wm(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=s;o--)e[o]=e[o-t]};for(a(i),o=e;o<s;++o)i[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&qm(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Qm(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=Vp(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,i,s,o,a=t._length;const l=()=>{32767!==s&&-32768!==s&&(up(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(r=0,i=n.length;r<i;++r)s=t.getPixelForValue(n[r]),l();for(o=void 0,r=0,i=t.ticks.length;r<i;++r)s=t.getPixelForTick(r),l();return a}function Gm(e,t,n,r){return Wf(e)?function(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Xm(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=t[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(Gm(d,h,s,c));return l}function Jm(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Zm(e,t,n,r){let i=t.borderSkipped;const s={};if(!i)return void(e.borderSkipped=s);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[ey(u,o,a,l)]=!0,i=c)),s[ey(i,o,a,l)]=!0,e.borderSkipped=s}function ey(e,t,n,r){var i,s,o;return r?(o=n,e=ty(e=(i=e)===(s=t)?o:i===o?s:i,n,t)):e=ty(e,t,n),e}function ty(e,t,n){return"start"===e?t:"end"===e?n:e}function ny(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}class ry extends Ym{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,o=e=>+n[e];if(Kf(n[e])){const{key:e="value"}=this._parsing;o=t=>+lp(n[t],e)}for(i=e,s=e+t;i<s;++i)r._parsed[i]=o(i)}}_getRotation(){return Tp(this.options.rotation-90)}_getCircumference(){return Tp(this.options.circumference)}_getRotationExtents(){let e=pp,t=-pp;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(e,t,n){let r=1,i=1,s=0,o=0;if(t<pp){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(e,t,r)=>Lp(e,a,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>Lp(e,a,l,!0)?-1:Math.min(t,t*n,r,r*n),g=f(0,c,h),m=f(vp,u,d),y=p(fp,c,h),v=p(fp+vp,u,d);r=(g-y)/2,i=(m-v)/2,s=-(g+y)/2,o=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}(d,h,a),y=(n.width-s)/f,v=(n.height-s)/p,b=Math.max(Math.min(y,v)/2,0),w=Xf(this.options.radius,b),x=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,r.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/pp)}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=i&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,i);for(g=t;g<t+n;++g){const t=this._circumference(g,i),n=e[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":r)),m+=t,this.updateElement(n,g,s,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?pp*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=sg(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,s,o,a;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),e=s.data,o=s.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)a=o.resolveDataElementOptions(r),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Gf(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class iy extends Ym{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=sg(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return Jg.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),s=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*fp;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,r,f);for(h=t;h<t+n;h++){const t=e[h];let n=d,p=d+this._computeAngle(h,r,f),g=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,i&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,t.active?"active":r)};this.updateElement(t,h,m,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Tp(this.resolveDataElementOptions(e,t).angle||n):0}}var sy=Object.freeze({__proto__:null,BarController:class extends Ym{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return Xm(e,t,n,r)}parseArrayData(e,t,n,r){return Xm(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===i.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=t[h],f={},f[i.axis]=i.parse(lp(p,l),h),u.push(Gm(lp(p,c),f,s,h));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),s=i._custom,o=Jm(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,r);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=i||qf(t[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(t._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||Jm(t._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,e[d].active?"active":r));const m=g.options||e[d].options;Zm(g,m,p,s),ny(g,m,c.ratio),this.updateElement(e[d],d,g,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(t),a=o&&o[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===a)),r=t&&t[e.vScale.axis];if(qf(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===i||-1===s.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,s;for(i=0,s=t.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=e.barThickness;return{min:o||Qm(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:s}}=this,o=i||0,a=this.getParsed(e),l=a._custom,c=Jm(l);let u,h,d=a[t.axis],f=0,p=n?this.applyStack(t,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&_p(d)!==_p(l.barEnd)&&(f=0),f+=d);const g=qf(i)||c?f:i;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<s){h=function(e,t,n){return 0!==e?_p(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,o)*s,d===o&&(m-=h/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const e=_p(h)*t.getLineWidthForValue(o)/2;m+=e,h-=e}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,s=Gf(r.maxBarThickness,1/0);let o,a;if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?t.end-t.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const i=n.barThickness;let s,o;return qf(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}(e,t,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(s,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}},BubbleController:class extends Ym{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let s=0;s<i.length;s++)i[s]._custom=this.resolveDataElementOptions(s+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=Gf(e[2],this.resolveDataElementOptions(s+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=Gf(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),o=r.getLabelForValue(s.x),a=i.getLabelForValue(s.y),l=s._custom;return{label:n[e]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,r),c=s.axis,u=o.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!i&&this.getParsed(h),d={},f=d[c]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=i?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,t.active?"active":r),i&&(d.options.radius=0)),this.updateElement(t,h,d,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=Gf(n&&n._custom,i),r}},DoughnutController:ry,LineController:class extends Ym{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=Kp(t,r,s);this._drawStart=o,this._drawCount=a,Yp(t)&&(o=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,o,a,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=Sp(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,y=t+n,v=e.length;let b=t>0&&this.getParsed(t-1);for(let w=0;w<v;++w){const n=e[w],f=m?n:{};if(w<t||w>=y){f.skip=!0;continue}const v=this.getParsed(w),x=qf(v[d]),_=f[h]=s.getPixelForValue(v[h],w),C=f[d]=i||x?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,v,a):v[d],w);f.skip=isNaN(_)||isNaN(C)||x,f.stop=w>0&&Math.abs(v[h]-b[h])>g,p&&(f.parsed=v,f.raw=l.data[w]),u&&(f.options=c||this.resolveDataElementOptions(w,n.active?"active":r)),m||this.updateElement(n,w,f,r),b=v}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}},PieController:class extends ry{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:iy,RadarController:class extends Ym{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return Jg.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":r),a=i.getPointPositionForValue(o,this.getParsed(o).r),l=s?i.xCenter:a.x,c=s?i.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,r)}}},ScatterController:class extends Ym{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),o=r.getLabelForValue(s.x),a=i.getLabelForValue(s.y);return{label:n[e]||"",value:"("+o+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:s}=Kp(t,n,r);if(this._drawStart=i,this._drawCount=s,Yp(t)&&(i=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:s}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(c),h=this.includeOptions(r,u),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=Sp(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||"none"===r;let v=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=y?t:{},p=qf(n[f]),w=c[d]=s.getPixelForValue(n[d],b),x=c[f]=i||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);c.skip=isNaN(w)||isNaN(x)||p,c.stop=b>0&&Math.abs(n[d]-v[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,t.active?"active":r)),y||this.updateElement(t,b,c,r),v=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,s)/2}}});function oy(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ay{static override(e){Object.assign(ay.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return oy()}parse(){return oy()}format(){return oy()}add(){return oy()}diff(){return oy()}startOf(){return oy()}endOf(){return oy()}}var ly=ay;function cy(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&o&&s.length){const e=a._reversePixels?Up:Bp;if(!r)return e(s,t,n);if(i._sharedOptions){const r=s[0],i="function"===typeof r.getRange&&r.getRange(t);if(i){const r=e(s,t,n-i),o=e(s,t,n+i);return{lo:r.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function uy(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:e,data:n}=s[a],{lo:l,hi:c}=cy(s[a],t,o,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function hy(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return uy(e,n,t,(function(n,o,a){(i||wg(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function dy(e,t,n,r,i,s){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return uy(e,n,t,(function(n,c,u){const h=n.inRange(t.x,t.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(d))&&!h)return;const f=a(t,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function fy(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?dy(e,t,n,r,i,s):function(e,t,n,r){let i=[];return uy(e,n,t,(function(e,n,s){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Pp(e,{x:t.x,y:t.y});Lp(l,o,a)&&i.push({element:e,datasetIndex:n,index:s})})),i}(e,t,n,i):[]}function py(e,t,n,r,i){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return uy(e,n,t,((e,r,l)=>{e[o]&&e[o](t[n],i)&&(s.push({element:e,datasetIndex:r,index:l}),a=a||e.inRange(t.x,t.y,i))})),r&&!a?[]:s}var gy={evaluateInteractionItems:uy,modes:{index(e,t,n,r){const i=dm(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?hy(e,i,s,r,o):fy(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=dm(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?hy(e,i,s,r,o):fy(e,i,s,!1,r,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,r)=>hy(e,dm(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=dm(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return fy(e,i,s,n.intersect,r,o)},x:(e,t,n,r)=>py(e,dm(t,e),"x",n.intersect,r),y:(e,t,n,r)=>py(e,dm(t,e),"y",n.intersect,r)}};const my=["left","top","right","bottom"];function yy(e,t){return e.filter((e=>e.pos===t))}function vy(e,t){return e.filter((e=>-1===my.indexOf(e.pos)&&e.box.axis===t))}function by(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function wy(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!my.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*r:o&&t.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:o&&t.availableHeight)}return n}function xy(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function _y(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Cy(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Kf(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&_y(o,s.getPadding());const a=Math.max(0,t.outerWidth-xy(o,e,"left","right")),l=Math.max(0,t.outerHeight-xy(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function ky(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function Sy(e,t,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,ky(a.horizontal,t));const{same:o,other:h}=Cy(t,n,a,r);c|=o&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Sy(i,t,n,r)||u}function Ey(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Ty(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const e=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const r=t.w*c,s=l.size||e.height;up(l.start)&&(o=l.start),e.fullSize?Ey(e,i.left,o,n.outerWidth-i.right-i.left,s):Ey(e,t.left+l.placed,o,r,s),l.start=o,l.placed+=r,o=e.bottom}else{const r=t.h*c,o=l.size||e.width;up(l.start)&&(s=l.start),e.fullSize?Ey(e,s,i.top,o,n.outerHeight-i.bottom-i.top):Ey(e,s,t.top+l.placed,o,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=o}var Iy={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Rg(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=function(e){const t=function(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:o,stackWeight:a=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}(e),n=by(t.filter((e=>e.box.fullSize)),!0),r=by(yy(t,"left"),!0),i=by(yy(t,"right")),s=by(yy(t,"top"),!0),o=by(yy(t,"bottom")),a=vy(t,"x"),l=vy(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:yy(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;Zf(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);_y(d,Rg(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),p=wy(l.concat(c),h);Sy(a.fullSize,f,h,p),Sy(l,f,h,p),Sy(c,f,h,p)&&Sy(l,f,h,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),Ty(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Ty(a.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Zf(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Ay{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Py extends Ay{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ny="$chartjs",Dy={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},My=e=>null===e||""===e;const Ly=!!mm&&{passive:!0};function Ry(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Ly)}function Oy(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function jy(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Oy(n.addedNodes,r),t=t&&!Oy(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function By(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Oy(n.removedNodes,r),t=t&&!Oy(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const Uy=new Map;let Fy=0;function $y(){const e=window.devicePixelRatio;e!==Fy&&(Fy=e,Uy.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Vy(e,t,n){const r=e.canvas,i=r&&am(r);if(!i)return;const s=Hp(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)}));return o.observe(i),function(e,t){Uy.size||window.addEventListener("resize",$y),Uy.set(e,t)}(e,s),o}function zy(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Uy.delete(e),Uy.size||window.removeEventListener("resize",$y)}(e)}function Hy(e,t,n){const r=e.canvas,i=Hp((t=>{null!==e.ctx&&n(function(e,t){const n=Dy[e.type]||e.type,{x:r,y:i}=dm(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,Ly)}(r,t,i),i}class qy extends Ay{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Ny]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",My(i)){const t=ym(e,"width");void 0!==t&&(e.width=t)}if(My(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=ym(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Ny])return!1;const n=t[Ny].initial;["height","width"].forEach((e=>{const r=n[e];qf(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[Ny],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:jy,detach:By,resize:Vy}[t]||Hy;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:zy,detach:zy,resize:zy}[t]||Ry)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return pm(e,t,n,r)}isAttached(e){const t=e&&am(e);return!(!t||!t.isConnected)}}class Wy{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Sp(this.x)&&Sp(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function Ky(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return function(e,t,n,r){let i,s=0,o=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===o&&(t.push(e[i]),s++,o=n[s*r])}(t,c,s,o/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let o=0,a=s.length-1;o<a;o++){const e=s[o];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(o>0){let e,n;const r=o>1?Math.round((l-a)/(o-1)):null;for(Yy(t,c,u,qf(r)?0:a-r,a),e=0,n=o-1;e<n;e++)Yy(t,c,u,s[e],s[e+1]);return Yy(t,c,u,l,qf(r)?t.length:l+r),c}return Yy(t,c,u),c}function Yy(e,t,n,r,i){const s=Gf(r,0),o=Math.min(Gf(i,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}const Qy=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Gy=(e,t)=>Math.min(t||e,e);function Xy(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function Jy(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-a||c>o+a)))return c}function Zy(e){return e.drawTicks?e.tickLength:0}function ev(e,t){if(!e.display)return 0;const n=Og(e.font,t),r=Rg(e.padding);return(Wf(e.text)?e.text.length:1)*n.lineHeight+r.height}function tv(e,t,n){let r=qp(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class nv extends Wy{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=Qf(e,Number.POSITIVE_INFINITY),t=Qf(t,Number.NEGATIVE_INFINITY),n=Qf(n,Number.POSITIVE_INFINITY),r=Qf(r,Number.NEGATIVE_INFINITY),{min:Qf(e,n),max:Qf(t,r),minDefined:Yf(e),maxDefined:Yf(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Qf(n,Qf(r,n)),max:Qf(r,Qf(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jf(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=Xf(t,(i-r)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Xy(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=Ky(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jf(this.options.afterUpdate,[this])}beforeSetDimensions(){Jf(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jf(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Jf(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jf(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=Jf(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Jf(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jf(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Gy(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,o,a,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Rp(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(e.offset?.5:1)),o=this.maxHeight-Zy(e.grid)-t.padding-ev(e.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Ip(Math.min(Math.asin(Rp((c.highest.height+6)/s,-1,1)),Math.asin(Rp(o/a,-1,1))-Math.asin(Rp(h/a,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Jf(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jf(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=ev(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=Zy(i)+s):(e.height=this.maxHeight,e.width=Zy(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Tp(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*i.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=r*e.width,h=n*t.height):(u=n*e.height,h=r*t.width):"start"===i?h=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jf(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)qf(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Xy(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],o=[],a=Math.floor(t/Gy(t,n));let l,c,u,h,d,f,p,g,m,y,v,b=0,w=0;for(l=0;l<t;l+=a){if(h=e[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},g=d.lineHeight,m=y=0,qf(h)||Wf(h)){if(Wf(h))for(c=0,u=h.length;c<u;++c)v=h[c],qf(v)||Wf(v)||(m=pg(r,p.data,p.gc,m,v),y+=g)}else m=pg(r,p.data,p.gc,m,h),y=g;s.push(m),o.push(y),b=Math.max(m,b),w=Math.max(y,w)}!function(e,t){Zf(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const x=s.indexOf(b),_=o.indexOf(w),C=e=>({width:s[e]||0,height:o[e]||0});return{first:C(0),last:C(t-1),widest:C(x),highest:C(_),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Rp(this._alignToPixels?mg(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Bg(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Bg(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Tp(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,o=i?i.widest.width+s:0,a=i?i.highest.height+s:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:o}=r,a=i.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=Zy(i),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(e){return mg(n,e,f)};let m,y,v,b,w,x,_,C,k,S,E,T;if("top"===s)m=g(this.bottom),x=this.bottom-u,C=m-p,S=g(e.top)+p,T=e.bottom;else if("bottom"===s)m=g(this.top),S=e.top,T=g(e.bottom)-p,x=m+p,C=this.top+u;else if("left"===s)m=g(this.right),w=this.right-u,_=m-p,k=g(e.left)+p,E=e.right;else if("right"===s)m=g(this.left),k=e.left,E=g(e.right)-p,w=m+p,_=this.left+u;else if("x"===t){if("center"===s)m=g((e.top+e.bottom)/2+.5);else if(Kf(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}S=e.top,T=e.bottom,x=m+p,C=x+u}else if("y"===t){if("center"===s)m=g((e.left+e.right)/2);else if(Kf(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}w=m-p,_=w-u,k=e.left,E=e.right}const I=Gf(r.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/I));for(y=0;y<c;y+=A){const e=this.getContext(y),t=i.setContext(e),r=o.setContext(e),s=t.lineWidth,c=t.color,u=r.dash||[],d=r.dashOffset,f=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;v=Jy(this,y,a),void 0!==v&&(b=mg(n,v,s),l?w=_=k=E=b:x=C=S=T=b,h.push({tx1:w,ty1:x,tx2:_,ty2:C,x1:k,y1:S,x2:E,y2:T,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=i,h=Zy(n.grid),d=h+c,f=u?-c:d,p=-Tp(this.labelRotation),g=[];let m,y,v,b,w,x,_,C,k,S,E,T,I="middle";if("top"===r)x=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)x=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,w=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,w=e.x}else if("x"===t){if("center"===r)x=(e.top+e.bottom)/2+d;else if(Kf(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)+d}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)w=(e.left+e.right)/2-d;else if(Kf(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===a?I="top":"end"===a&&(I="bottom"));const A=this._getLabelSizes();for(m=0,y=o.length;m<y;++m){v=o[m],b=v.label;const e=i.setContext(this.getContext(m));C=this.getPixelForTick(m)+i.labelOffset,k=this._resolveTickFontOptions(m),S=k.lineHeight,E=Wf(b)?b.length:1;const t=E/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let h,d=_;if(s?(w=C,"inner"===_&&(d=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),T="top"===r?"near"===l||0!==p?-E*S+S/2:"center"===l?-A.highest.height/2-t*S+S:-A.highest.height+S/2:"near"===l||0!==p?S/2:"center"===l?A.highest.height/2-t*S:A.highest.height-E*S,u&&(T*=-1),0===p||e.showLabelBackdrop||(w+=S/2*Math.sin(p))):(x=C,T=(1-E)*S/2),e.showLabelBackdrop){const t=Rg(e.backdropPadding),n=A.heights[m],r=A.widths[m];let i=T-t.top,s=0-t.left;switch(I){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":m===y-1?s-=r:m>0&&(s-=r/2)}h={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:b,font:k,textOffset:T,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:I,translation:[w,x],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Tp(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,o=this._getLabelSizes().widest.width;let a,l;return"left"===t?r?(l=this.right+i,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const o=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=mg(e,this.left,s)-s/2,c=mg(e,this.right,o)+o/2,u=h=a):(u=mg(e,this.top,s)-s/2,h=mg(e,this.bottom,o)+o/2,l=c=a),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&xg(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;Tg(t,i.label,0,i.textOffset,n,e)}n&&_g(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Og(n.font),s=Rg(n.padding),o=n.align;let a=i.lineHeight/2;"bottom"===t||"center"===t||Kf(t)?(a+=s.bottom,Wf(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=o-i,m=a-s;if(e.isHorizontal()){if(d=Wp(r,s,a),Kf(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+g-t}else f="center"===n?(c.bottom+c.top)/2+g-t:Qy(e,n,t);h=a-s}else{if(Kf(n)){const e=Object.keys(n)[0],r=n[e];d=u[e].getPixelForValue(r)-m+t}else d="center"===n?(c.left+c.right)/2-m+t:Qy(e,n,t);f=Wp(r,o,i),p="left"===n?-vp:vp}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,t,o);Tg(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:tv(o,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Gf(e.grid&&e.grid.z,-1),r=Gf(e.border&&e.border.z,0);return this._isVisible()&&this.draw===nv.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return Og(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class rv{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=ip(Object.create(null),[n?fg.get(n):{},fg.get(t),e.defaults]);fg.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");fg.route(s,i,l,a)}))}(t,e.defaultRoutes);e.descriptors&&fg.describe(t,e.descriptors)}(e,s,n),this.override&&fg.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in fg[r]&&(delete fg[r][n],this.override&&delete lg[n])}}class iv{constructor(){this.controllers=new rv(Ym,"datasets",!0),this.elements=new rv(Wy,"elements"),this.plugins=new rv(Object,"plugins"),this.scales=new rv(nv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):Zf(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=cp(e);Jf(n["before"+r],[],n),t[e](n),Jf(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var sv=new iv;class ov{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===Jf(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){qf(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=Gf(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(sv.plugins.items);for(let s=0;s<r.length;s++)n.push(sv.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const o=[],a=e.getContext();for(const l of i){const t=l.id,i=av(n[t],r);null!==i&&o.push({plugin:l,options:lv(e.config,{plugin:l,local:s[t]},i,a)})}return o}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function av(e,t){return t||!1!==e?!0===e?{}:e:null}function lv(e,t,n,r){let{plugin:i,local:s}=t;const o=e.pluginScopeKeys(i),a=e.getOptionScopes(n,o);return s&&i.defaults&&a.push(i.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cv(e,t){const n=fg.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function uv(e){if("x"===e||"y"===e||"r"===e)return e}function hv(e){if(uv(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&uv(e[0].toLowerCase());if(t)return t}var i;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function dv(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function fv(e,t){const n=lg[e.type]||{scales:{}},r=t.scales||{},i=cv(e.type,t),s=Object.create(null);return Object.keys(r).forEach((t=>{const o=r[t];if(!Kf(o))return console.error(`Invalid scale configuration for scale: ${t}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=hv(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return dv(e,"x",n[0])||dv(e,"y",n[0])}return{}}(t,e),fg.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,i),c=n.scales||{};s[t]=sp(Object.create(null),[{axis:a},o,c[a],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,o=n.indexAxis||cv(i,t),a=(lg[i]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),sp(s[i],[{axis:t},r[i],a[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];sp(t,[fg.scales[t.type],fg.scale])})),s}function pv(e){const t=e.options||(e.options={});t.plugins=Gf(t.plugins,{}),t.scales=fv(e,t)}function gv(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const mv=new Map,yv=new Set;function vv(e,t){let n=mv.get(e);return n||(n=t(),mv.set(e,n),yv.add(n)),n}const bv=(e,t,n)=>{const r=lp(t,n);void 0!==r&&e.add(r)};class wv{constructor(e){this._config=function(e){return(e=e||{}).data=gv(e.data),pv(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),pv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vv(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return vv(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return vv(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return vv(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),o=s.get(t);if(o)return o;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>bv(a,e,t)))),t.forEach((e=>bv(a,r,e))),t.forEach((e=>bv(a,lg[i]||{},e))),t.forEach((e=>bv(a,fg,e))),t.forEach((e=>bv(a,cg,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),yv.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,lg[t]||{},fg.datasets[t]||{},{type:t},fg,cg]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:o}=xv(this._resolverCache,e,r);let a=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=$g(e);for(const i of t){const t=n(i),s=r(i),o=(s||t)&&e[i];if(t&&(hp(o)||_v(o))||s&&Wf(o))return!0}return!1}(s,t)){i.$shared=!1;a=Fg(s,n=hp(n)?n():n,this.createResolver(e,n,o))}for(const l of t)i[l]=a[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=xv(this._resolverCache,e,n);return Kf(t)?Fg(i,t,void 0,r):i}}function xv(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:Ug(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,s)}return s}const _v=e=>Kf(e)&&Object.getOwnPropertyNames(e).some((t=>hp(e[t])));const Cv=["top","bottom","left","right","chartArea"];function kv(e,t){return"top"===e||"bottom"===e||-1===Cv.indexOf(e)&&"x"===t}function Sv(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Ev(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Jf(n&&n.onComplete,[e],t)}function Tv(e){const t=e.chart,n=t.options.animation;Jf(n&&n.onProgress,[e],t)}function Iv(e){return om()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Av={},Pv=e=>{const t=Iv(e);return Object.values(Av).filter((e=>e.canvas===t)).pop()};function Nv(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}function Dv(e,t,n){return e.options.clip?e[n]:t[n]}class Mv{static defaults=(()=>fg)();static instances=(()=>Av)();static overrides=(()=>lg)();static registry=(()=>sv)();static version="4.4.6";static getChart=(()=>Pv)();static register(){sv.add(...arguments),Lv()}static unregister(){sv.remove(...arguments),Lv()}constructor(e,t){const n=this.config=new wv(t),r=Iv(e),i=Pv(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!om()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Py:qy}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=Hf(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ov,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],Av[this.id]=this,o&&a?(Dm.listen(this,"complete",Ev),Dm.listen(this,"progress",Tv),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return qf(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sv}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yg(this.canvas,this.ctx),this}stop(){return Dm.stop(this),this}resize(e,t){Dm.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,gm(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),Jf(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){Zf(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=hv(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),Zf(i,(t=>{const i=t.options,s=i.id,o=hv(s,i),a=Gf(i.type,t.dtype);void 0!==i.position&&kv(i.position,o)===kv(t.dposition)||(i.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(sv.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),Zf(r,((e,t)=>{e||delete n[t]})),Zf(n,(e=>{Iy.configure(this,e,e.options),Iy.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Sv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||cv(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=sv.getController(s),{datasetElementType:r,dataElementType:o}=fg.datasets[s];Object.assign(t,{dataElementType:sv.getElement(o),datasetElementType:r&&sv.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){Zf(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||Zf(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Sv("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Zf(this.scales,(e=>{Iy.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);dp(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){Nv(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!dp(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Iy.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Zf(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,hp(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Dm.has(this)?this.attached&&!Dm.running(this)&&Dm.start(this):(this.draw(),Ev({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Dv(n,t,"left"),right:Dv(n,t,"right"),top:Dv(r,t,"top"),bottom:Dv(r,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&xg(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&_g(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return wg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=gy.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Bg(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);up(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Dm.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),yg(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Av[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Zf(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){Zf(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Zf(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,o,a;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){s=e[o];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!ep(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=i(t,e),o=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,o=this._getActiveElements(e,r,n,s),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,Jf(i.onHover,[e,o,this],this),a&&Jf(i.onClick,[e,o,this],this));const c=!ep(o,r);return(c||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function Lv(){return Zf(Mv.instances,(e=>e._plugins.invalidate()))}function Rv(e,t,n,r){const i=Dg(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,o=Math.min(s,r*t/2),a=e=>{const t=(n-Math.min(s,e))*r/2;return Rp(e,0,Math.min(s,t))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Rp(i.innerStart,0,o),innerEnd:Rp(i.innerEnd,0,o)}}function Ov(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function jv(e,t,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const e=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const g=(p-Math.max(.001,p*h-n/fp)/h)/2,m=l+g+f,y=i-g-f,{outerStart:v,outerEnd:b,innerStart:w,innerEnd:x}=Rv(t,d,h,y-m),_=h-v,C=h-b,k=m+v/_,S=y-b/C,E=d+w,T=d+x,I=m+w/E,A=y-x/T;if(e.beginPath(),s){const t=(k+S)/2;if(e.arc(o,a,h,k,t),e.arc(o,a,h,t,S),b>0){const t=Ov(C,S,o,a);e.arc(t.x,t.y,b,S,y+vp)}const n=Ov(T,y,o,a);if(e.lineTo(n.x,n.y),x>0){const t=Ov(T,A,o,a);e.arc(t.x,t.y,x,y+vp,A+Math.PI)}const r=(y-x/d+(m+w/d))/2;if(e.arc(o,a,d,y-x/d,r,!0),e.arc(o,a,d,r,m+w/d,!0),w>0){const t=Ov(E,I,o,a);e.arc(t.x,t.y,w,I+Math.PI,m-vp)}const i=Ov(_,m,o,a);if(e.lineTo(i.x,i.y),v>0){const t=Ov(_,k,o,a);e.arc(t.x,t.y,v,m-vp,k)}}else{e.moveTo(o,a);const t=Math.cos(k)*h+o,n=Math.sin(k)*h+a;e.lineTo(t,n);const r=Math.cos(S)*h+o,i=Math.sin(S)*h+a;e.lineTo(r,i)}e.closePath()}function Bv(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(s){jv(e,t,n,r,p,i);for(let t=0;t<s;++t)e.stroke();isNaN(a)||(p=o+(a%pp||pp))}f&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),l>i?(c=i/l,e.arc(s,o,l,n+c,r-c,!0)):e.arc(s,o,i,n+vp,r-vp),e.closePath(),e.clip()}(e,t,p),s||(jv(e,t,n,r,p,i),e.stroke())}function Uv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Gf(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Gf(n.borderDash,t.borderDash)),e.lineDashOffset=Gf(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Gf(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Gf(n.borderWidth,t.borderWidth),e.strokeStyle=Gf(n.borderColor,t.borderColor)}function Fv(e,t,n){e.lineTo(n.x,n.y)}function $v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function Vv(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=$v(i,n,r),u=function(e){return e.stepped?Cg:e.tension||"monotone"===e.cubicInterpolationMode?kg:Fv}(s);let h,d,f,{move:p=!0,reverse:g}=r||{};for(h=0;h<=c;++h)d=i[(a+(g?c-h:h))%o],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,g,s.stepped),f=d);return l&&(d=i[(a+(g?c:0))%o],u(e,f,d,g,s.stepped)),!!l}function zv(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=$v(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,g,m=0,y=0;const v=e=>(o+(c?a-e:e))%s,b=()=>{f!==p&&(e.lineTo(m,p),e.lineTo(m,f),e.lineTo(m,g))};for(l&&(h=i[v(0)],e.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=i[v(u)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<f?f=n:n>p&&(p=n),m=(y*m+t)/++y):(b(),e.lineTo(t,n),d=r,y=0,f=p=n),g=n}b()}function Hv(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?zv:Vv}const qv="function"===typeof Path2D;function Wv(e,t,n,r){qv&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Uv(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,o=Hv(t);for(const a of i)Uv(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class Kv extends Wy{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;sm(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return Im(e,!0===r?[{start:o,end:a,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let o,a=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%i,end:(o-1)%i,loop:r}),t=a=n.stop?o:null):(a=o,l.skip&&(t=o)),l=n}return null!==a&&s.push({start:t%i,end:a%i,loop:r}),s}(n,o,a<o?a+i:a,!!e._fullLoop&&0===o&&a===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=Tm(this,{property:t,start:r,end:r});if(!s.length)return;const o=[],a=function(e){return e.stepped?bm:e.tension||"monotone"===e.cubicInterpolationMode?wm:vm}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=i[c],d=i[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((r-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],o.push(f)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return Hv(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=Hv(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const o of r)s&=i(e,this,o,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Wv(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Yv(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}function Qv(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,a=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Gv(e,t,n,r){return e?0:Rp(t,n,r)}function Xv(e){const t=Qv(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=Mg(r);return{t:Gv(i.top,s.top,0,n),r:Gv(i.right,s.right,0,t),b:Gv(i.bottom,s.bottom,0,n),l:Gv(i.left,s.left,0,t)}}(e,n/2,r/2),s=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Lg(i),o=Math.min(t,n),a=e.borderSkipped,l=r||Kf(i);return{topLeft:Gv(!l||a.top||a.left,s.topLeft,0,o),topRight:Gv(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Gv(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Gv(!l||a.bottom||a.right,s.bottomRight,0,o)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Jv(e,t,n,r){const i=null===t,s=null===n,o=e&&!(i&&s)&&Qv(e,r);return o&&(i||Op(t,o.left,o.right))&&(s||Op(n,o.top,o.bottom))}function Zv(e,t){e.rect(t.x,t.y,t.w,t.h)}function eb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}var tb=Object.freeze({__proto__:null,ArcElement:class extends Wy{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=Pp(r,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=Gf(u,a-o),f=Lp(i,o,a)&&o!==a,p=d>=pp||f,g=Op(s,l+h,c+h);return p&&g}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(r+i)/2,u=(s+o+l+a)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>pp?Math.floor(n/pp):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*r,Math.sin(o)*r);const a=r*(1-Math.sin(Math.min(fp,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){jv(e,t,n,r,l,i);for(let t=0;t<s;++t)e.fill();isNaN(a)||(l=o+(a%pp||pp))}jv(e,t,n,r,l,i),e.fill()}(e,this,a,i,s),Bv(e,this,a,i,s),e.restore()}},BarElement:class extends Wy{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=Xv(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Ig:Zv;var a;e.save(),s.w===i.w&&s.h===i.h||(e.beginPath(),o(e,eb(s,t,i)),e.clip(),o(e,eb(i,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,eb(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return Jv(this,e,t,n)}inXRange(e,t){return Jv(this,e,null,t)}inYRange(e,t){return Jv(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},LineElement:Kv,PointElement:class extends Wy{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Yv(this,e,"x",t)}inYRange(e,t){return Yv(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!wg(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,vg(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}});const nb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],rb=nb.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function ib(e){return nb[e%nb.length]}function sb(e){return rb[e%rb.length]}function ob(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof ry?t=function(e,t){return e.backgroundColor=e.data.map((()=>ib(t++))),t}(n,t):i instanceof iy?t=function(e,t){return e.backgroundColor=e.data.map((()=>sb(t++))),t}(n,t):i&&(t=function(e,t){return e.borderColor=ib(t),e.backgroundColor=sb(t),++t}(n,t))}}function ab(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var lb={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=ab(r)||(a=i)&&(a.borderColor||a.backgroundColor)||s&&ab(s)||"rgba(0,0,0,0.1)"!==fg.borderColor||"rgba(0,0,0,0.1)"!==fg.backgroundColor;var a;if(!n.forceOverride&&o)return;const l=ob(e);r.forEach(l)}};function cb(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function ub(e){e.data.datasets.forEach((e=>{cb(e)}))}var hb={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void ub(e);const r=e.width;e.data.datasets.forEach(((t,i)=>{const{_data:s,indexAxis:o}=t,a=e.getDatasetMeta(i),l=s||t.data;if("y"===jg([o,e.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const c=e.scales[a.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:u,count:h}=function(e,t){const n=t.length;let r,i=0;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=Rp(Bp(t,s.axis,o).lo,0,n-1)),r=c?Rp(Bp(t,s.axis,a).hi+1,i,n)-i:n-i,{start:i,count:r}}(a,l);if(h<=(n.threshold||4*r))return void cb(t);let d;switch(qf(s)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":d=function(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const c=t+n-1;let u,h,d,f,p,g=t;for(o[l++]=e[g],u=0;u<s-2;u++){let r,i=0,s=0;const c=Math.floor((u+1)*a)+1+t,m=Math.min(Math.floor((u+2)*a)+1,n)+t,y=m-c;for(r=c;r<m;r++)i+=e[r].x,s+=e[r].y;i/=y,s/=y;const v=Math.floor(u*a)+1+t,b=Math.min(Math.floor((u+1)*a)+1,n)+t,{x:w,y:x}=e[g];for(d=f=-1,r=v;r<b;r++)f=.5*Math.abs((w-i)*(e[r].y-x)-(w-e[r].x)*(s-x)),f>d&&(d=f,h=e[r],p=r);o[l++]=h,g=p}return o[l++]=e[c],o}(l,u,h,r,n);break;case"min-max":d=function(e,t,n,r){let i,s,o,a,l,c,u,h,d,f,p=0,g=0;const m=[],y=t+n-1,v=e[t].x,b=e[y].x-v;for(i=t;i<t+n;++i){s=e[i],o=(s.x-v)/b*r,a=s.y;const t=0|o;if(t===l)a<d?(d=a,c=i):a>f&&(f=a,u=i),p=(g*p+s.x)/++g;else{const n=i-1;if(!qf(c)&&!qf(u)){const t=Math.min(c,u),r=Math.max(c,u);t!==h&&t!==n&&m.push({...e[t],x:p}),r!==h&&r!==n&&m.push({...e[r],x:p})}i>0&&n!==h&&m.push(e[n]),m.push(s),l=t,g=0,d=f=a,c=u=h=i}}return m}(l,u,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}t._decimated=d}))},destroy(e){ub(e)}};function db(e,t,n,r){if(r)return;let i=t[e],s=n[e];return"angle"===e&&(i=Mp(i),s=Mp(s)),{property:e,start:i,end:s}}function fb(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function pb(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function gb(e,t){let n=[],r=!1;return Wf(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach((e=>{let{start:t,end:o}=e;o=fb(t,o,i);const a=i[t],l=i[o];null!==r?(s.push({x:a.x,y:r}),s.push({x:l.x,y:r})):null!==n&&(s.push({x:n,y:a.y}),s.push({x:n,y:l.y}))})),s}(e,t),n.length?new Kv({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function mb(e){return e&&!1!==e.fill}function yb(e,t,n){let r=e[t].fill;const i=[t];let s;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!Yf(r))return r;if(s=e[r],!s)return!1;if(s.visible)return r;i.push(r),r=s.fill}return!1}function vb(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=Gf(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(Kf(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return Yf(i)&&Math.floor(i)===i?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function bb(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=wb(s,t,"x");if(!(!l||o&&a))if(o)r.unshift(l);else if(e.push(l),!a)break}e.push(...r)}function wb(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const e=s[c],t=o[e.start][n],r=o[e.end][n];if(Op(i,t,r)){a=i===t,l=i===r;break}}return{first:a,last:l,point:r}}class xb{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:i,radius:s}=this;return t=t||{start:0,end:pp},e.arc(r,i,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function _b(e){const{chart:t,fill:n,line:r}=e;if(Yf(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const e=r[i];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);a.push(gb({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const e=s[l];for(let t=e.start;t<=e.end;t++)bb(i,o[t],a)}return new Kv({points:i,options:{}})}(e);if("shape"===n)return!0;const i=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:Kf(e)?e.value:t.getBaseValue(),r}(n,t,s),a=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,s);return new xb({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:Kf(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(Yf(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return i instanceof xb?i:gb(i,r)}function Cb(e,t,n){const r=_b(t),{line:i,scale:s,axis:o}=t,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};r&&i.points.length&&(xg(e,n),function(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&s!==i&&(kb(e,r,o.top),Sb(e,{line:n,target:r,color:i,scale:a,property:l}),e.restore(),e.save(),kb(e,r,o.bottom));Sb(e,{line:n,target:r,color:s,scale:a,property:l}),e.restore()}(e,{line:i,target:r,above:u,below:h,area:n,scale:s,axis:o}),_g(e))}function kb(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:r,end:l}=a,c=i[r],u=i[fb(r,l,i)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Sb(e,t){const{line:n,target:r,property:i,color:s,scale:o}=t,a=function(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:e,end:r}=a;r=fb(e,r,i);const l=db(n,i[e],i[r],a.loop);if(!t.segments){o.push({source:a,target:l,start:i[e],end:i[r]});continue}const c=Tm(t,l);for(const t of c){const e=db(n,s[t.start],s[t.end],t.loop),r=Em(a,i,e);for(const i of r)o.push({source:i,target:t,start:{[n]:pb(l,e,"start",Math.max)},end:{[n]:pb(l,e,"end",Math.min)}})}}return o}(n,r,i);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:t=s}={}}=l,a=!0!==r;e.save(),e.fillStyle=t,Eb(e,o,a&&db(i,u,h)),e.beginPath();const d=!!n.pathSegment(e,l);let f;if(a){d?e.closePath():Tb(e,r,h,i);const t=!!r.pathSegment(e,c,{move:d,reverse:!0});f=d&&t,f||Tb(e,r,u,i)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function Eb(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(e.beginPath(),e.rect(o,r,a-o,i-r),e.clip())}function Tb(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var Ib={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Kv&&(l={visible:e.isDatasetVisible(o),index:o,fill:vb(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],l&&!1!==l.fill&&(l.fill=yb(i,o,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const t=i[o].$filler;t&&(t.line.updateControlPoints(s,t.axis),r&&t.fill&&Cb(e.ctx,t,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const t=r[i].$filler;mb(t)&&Cb(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;mb(r)&&"beforeDatasetDraw"===n.drawTime&&Cb(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ab=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class Pb extends Wy{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Jf(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Og(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=Ab(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,r,o,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+o;let u=e;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+o})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(i).width}(r,e,t,n),o=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=Nb(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,i,e,r);s>0&&d+m+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=xm(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=Wp(n,this.left+r,this.right-this.lineWidths[i]);for(const a of t)i!==a.row&&(i=a.row,o=Wp(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+e+r,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+r}else{let i=0,o=Wp(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const a of t)a.col!==i&&(i=a.col,o=Wp(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),a.top=o,a.left+=this.left+r,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;xg(e,this),this._draw(),_g(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,o=fg.color,a=xm(e.rtl,this.left,this.width),l=Og(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=Ab(s,u),m=this.isHorizontal(),y=this._computeTitleHeight();d=m?{x:Wp(i,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:Wp(i,this.top+y+c,this.bottom-t[0].height),line:0},_m(this.ctx,e.textDirection);const v=g+c;this.legendItems.forEach(((b,w)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const x=r.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),C=f+h+x;let k=d.x,S=d.y;a.setWidth(this.width),m?w>0&&k+C+c>this.right&&(S=d.y+=v,d.line++,k=d.x=Wp(i,this.left+c,this.right-n[d.line])):w>0&&S+v>this.bottom&&(k=d.x=k+t[d.line].width+c,d.line++,S=d.y=Wp(i,this.top+y+c,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=Gf(n.lineWidth,1);if(r.fillStyle=Gf(n.fillStyle,o),r.lineCap=Gf(n.lineCap,"butt"),r.lineDashOffset=Gf(n.lineDashOffset,0),r.lineJoin=Gf(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=Gf(n.strokeStyle,o),r.setLineDash(Gf(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=a.xPlus(e,f/2);bg(r,o,l,t+h,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),o=a.leftForLtr(e,f),l=Lg(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?Ig(r,{x:o,y:s,w:f,h:p,radius:l}):r.rect(o,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(a.x(k),S,b),k=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,k+f+h,m?k+C:this.right,e.rtl),function(e,t,n){Tg(r,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(k),S,b),m)d.x+=C+c;else if("string"!==typeof b.text){const e=l.lineHeight;d.y+=Nb(b,e)+c}else d.y+=v})),Cm(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Og(t.font),r=Rg(t.padding);if(!t.display)return;const i=xm(e.rtl,this.left,this.width),s=this.ctx,o=t.position,a=n.size/2,l=r.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=Wp(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Wp(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=Wp(o,u,u+h);s.textAlign=i.textAlign(qp(o)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Tg(s,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=Og(e.font),n=Rg(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(Op(e,this.left,this.right)&&Op(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Op(e,r.left,r.left+r.width)&&Op(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,o=(i=n,null!==(r=s)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);s&&!o&&Jf(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!o&&Jf(t.onHover,[e,n,this],this)}else n&&Jf(t.onClick,[e,n,this],this);var r,i}}function Nb(e,t){return t*(e.text?e.text.length:0)}var Db={id:"legend",_element:Pb,start(e,t,n){const r=e.legend=new Pb({ctx:e.ctx,options:n,chart:e});Iy.configure(e,r,n),Iy.addBox(e,r)},stop(e){Iy.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Iy.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Rg(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Mb extends Wy{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Wf(n.text)?n.text.length:1;this._padding=Rg(n.padding);const i=r*Og(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=Wp(o,n,i),c=t+e,a=i-n):("left"===s.position?(l=n+e,c=Wp(o,r,t),u=-.5*fp):(l=i-e,c=Wp(o,t,r),u=.5*fp),a=r-t),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Og(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(r);Tg(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:a,textAlign:qp(t.align),textBaseline:"middle",translation:[i,s]})}}var Lb={id:"title",_element:Mb,start(e,t,n){!function(e,t){const n=new Mb({ctx:e.ctx,options:t,chart:e});Iy.configure(e,n,t),Iy.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Iy.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Iy.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rb=new WeakMap;var Ob={id:"subtitle",start(e,t,n){const r=new Mb({ctx:e.ctx,options:n,chart:e});Iy.configure(e,r,n),Iy.addBox(e,r),Rb.set(e,r)},stop(e){Iy.removeBox(e,Rb.get(e)),Rb.delete(e)},beforeUpdate(e,t,n){const r=Rb.get(e);Iy.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jb={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++s}}if(0===s||0===r.size)return!1;return{x:[...r].reduce(((e,t)=>e+t))/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Np(t,r.getCenterPoint());e<a&&(a=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,o=e.y}return{x:s,y:o}}};function Bb(e,t){return t&&(Wf(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ub(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Fb(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function $b(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Og(t.bodyFont),c=Og(t.titleFont),u=Og(t.footerFont),h=s.length,d=i.length,f=r.length,p=Rg(t.padding);let g=p.height,m=0,y=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(y+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y){g+=f*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let v=0;const b=function(e){m=Math.max(m,n.measureText(e).width+v)};return n.save(),n.font=c.string,Zf(e.title,b),n.font=l.string,Zf(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?o+2+t.boxPadding:0,Zf(r,(e=>{Zf(e.before,b),Zf(e.lines,b),Zf(e.after,b)})),v=0,n.font=u.string,Zf(e.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function Vb(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return"center"===r?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),function(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;return"left"===e&&i+s+o>t.width||"right"===e&&i-s-o<0||void 0}(c,e,t,n)&&(c="center"),c}function zb(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Vb(e,t,n,r),yAlign:r}}function Hb(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Lg(o);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,a);const g=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+i:"right"===a&&(p+=Math.max(h,f)+i),{x:Rp(p,0,r.width-t.width),y:Rp(g,0,r.height-t.height)}}function qb(e,t,n){const r=Rg(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function Wb(e){return Bb([],Ub(e))}function Kb(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Yb={beforeTitle:zf,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:zf,beforeBody:zf,beforeLabel:zf,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return qf(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:zf,afterBody:zf,beforeFooter:zf,footer:zf,afterFooter:zf};function Qb(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?Yb[t].call(n,r):i}class Gb extends Wy{static positioners=(()=>jb)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new Om(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Bg(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=Qb(n,"beforeTitle",this,e),i=Qb(n,"title",this,e),s=Qb(n,"afterTitle",this,e);let o=[];return o=Bb(o,Ub(r)),o=Bb(o,Ub(i)),o=Bb(o,Ub(s)),o}getBeforeBody(e,t){return Wb(Qb(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return Zf(e,(e=>{const t={before:[],lines:[],after:[]},i=Kb(n,e);Bb(t.before,Ub(Qb(i,"beforeLabel",this,e))),Bb(t.lines,Qb(i,"label",this,e)),Bb(t.after,Ub(Qb(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return Wb(Qb(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=Qb(n,"beforeFooter",this,e),i=Qb(n,"footer",this,e),s=Qb(n,"afterFooter",this,e);let o=[];return o=Bb(o,Ub(r)),o=Bb(o,Ub(i)),o=Bb(o,Ub(s)),o}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let o,a,l=[];for(o=0,a=t.length;o<a;++o)l.push(Fb(this.chart,t[o]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),Zf(l,(t=>{const n=Kb(e.callbacks,t);r.push(Qb(n,"labelColor",this,t)),i.push(Qb(n,"labelPointStyle",this,t)),s.push(Qb(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=jb[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=$b(this,n),o=Object.assign({},e,t),a=zb(this.chart,n,o),l=Hb(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Lg(o),{x:h,y:d}=e,{width:f,height:p}=t;let g,m,y,v,b,w;return"center"===i?(b=d+p/2,"left"===r?(g=h,m=g-s,v=b+s,w=b-s):(g=h+f,m=g+s,v=b-s,w=b+s),y=g):(m="left"===r?h+Math.max(a,c)+s:"right"===r?h+f-Math.max(l,u)-s:this.caretX,"top"===i?(v=d,b=v-s,g=m-s,y=m+s):(v=d+p,b=v+s,g=m+s,y=m-s),w=v),{x1:g,x2:m,x3:y,y1:v,y2:b,y3:w}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,o,a;if(i){const l=xm(n.rtl,this.x,this.width);for(e.x=qb(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Og(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,a+1===i&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=i,c=Og(i.bodyFont),u=qb(this,"left",i),h=r.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=t.y+d;if(i.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+a/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,vg(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,vg(e,t,n,c)}else{e.lineWidth=Kf(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),o=Lg(s.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ig(e,{x:t,y:f,w:l,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Ig(e,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,a),e.strokeRect(t,f,l,a),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Og(n.bodyFont);let h=u.lineHeight,d=0;const f=xm(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+i},g=f.textAlign(s);let m,y,v,b,w,x,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=qb(this,g,n),t.fillStyle=n.bodyColor,Zf(this.beforeBody,p),d=o&&"right"!==g?"center"===s?l/2+c:l+2+c:0,b=0,x=r.length;b<x;++b){for(m=r[b],y=this.labelTextColors[b],t.fillStyle=y,Zf(m.before,p),v=m.lines,o&&v.length&&(this._drawColorBox(t,e,b,f,n),h=Math.max(u.lineHeight,a)),w=0,_=v.length;w<_;++w)p(v[w]),h=u.lineHeight;Zf(m.after,p)}d=0,h=u.lineHeight,Zf(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,o;if(i){const a=xm(n.rtl,this.x,this.width);for(e.x=qb(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",s=Og(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],a.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:o,y:a}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Lg(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+u,a),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(o+l-h,a),t.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+l,a+c-f),t.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(o+d,a+c),t.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(o,a+u),t.quadraticCurveTo(o,a,o+u,a),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=jb[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=$b(this,e),o=Object.assign({},n,this._size),a=zb(t,e,o),l=Hb(e,o,a,t);r._to===l.x&&i._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Rg(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),_m(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),Cm(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!ep(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),o=this._positionChanged(s,e),a=t||!ep(s,i)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=jb[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}var Xb={id:"tooltip",_element:Gb,positioners:jb,afterInit(e,t,n){n&&(e.tooltip=new Gb({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Jb=Object.freeze({__proto__:null,Colors:lb,Decimation:hb,Filler:Ib,Legend:Db,SubTitle:Ob,Title:Lb,Tooltip:Xb});function Zb(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function ew(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class tw extends nv{static id="category";static defaults=(()=>({ticks:{callback:ew}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qf(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Rp(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Zb(n,e,Gf(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return ew.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function nw(e,t){const n=[],{bounds:r,step:i,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=i||1,f=c-1,{min:p,max:g}=t,m=!qf(s),y=!qf(o),v=!qf(l),b=(g-p)/(u+1);let w,x,_,C,k=kp((g-p)/f/d)*d;if(k<1e-14&&!m&&!y)return[{value:p},{value:g}];C=Math.ceil(g/k)-Math.floor(p/k),C>f&&(k=kp(C*k/f/d)*d),qf(a)||(w=Math.pow(10,a),k=Math.ceil(k*w)/w),"ticks"===r?(x=Math.floor(p/k)*k,_=Math.ceil(g/k)*k):(x=p,_=g),m&&y&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-s)/i,k/1e3)?(C=Math.round(Math.min((o-s)/k,c)),k=(o-s)/C,x=s,_=o):v?(x=m?s:x,_=y?o:_,C=l-1,k=(_-x)/C):(C=(_-x)/k,C=Cp(C,Math.round(C),k/1e3)?Math.round(C):Math.ceil(C));const S=Math.max(Ap(k),Ap(x));w=Math.pow(10,qf(a)?S:a),x=Math.round(x*w)/w,_=Math.round(_*w)/w;let E=0;for(m&&(h&&x!==s?(n.push({value:s}),x<s&&E++,Cp(Math.round((x+E*k)*w)/w,s,rw(s,b,e))&&E++):x<s&&E++);E<C;++E){const e=Math.round((x+E*k)*w)/w;if(y&&e>o)break;n.push({value:e})}return y&&h&&_!==o?n.length&&Cp(n[n.length-1].value,o,rw(o,b,e))?n[n.length-1].value=o:n.push({value:o}):y&&_!==o||n.push({value:_}),n}function rw(e,t,n){let{horizontal:r,minRotation:i}=n;const s=Tp(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}class iw extends nv{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qf(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,o=e=>i=n?i:e;if(e){const e=_p(r),t=_p(i);e<0&&t<0?o(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);o(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=nw({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Ep(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return sg(e,this.chart.options.locale,this.options.ticks.format)}}class sw extends iw{static id="linear";static defaults=(()=>({ticks:{callback:ag.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Yf(e)?e:0,this.max=Yf(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Tp(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const ow=e=>Math.floor(xp(e)),aw=(e,t)=>Math.pow(10,ow(e)+t);function lw(e){return 1===e/Math.pow(10,ow(e))}function cw(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function uw(e,t){let{min:n,max:r}=t;n=Qf(e.min,n);const i=[],s=ow(n);let o=function(e,t){let n=ow(t-e);for(;cw(e,t,n)>10;)n++;for(;cw(e,t,n)<10;)n--;return Math.min(n,ow(e))}(n,r),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=Qf(e.min,Math.round((c+h+d*Math.pow(10,o))*a)/a);for(;f<r;)i.push({value:f,major:lw(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((c+h+d*Math.pow(10,o))*a)/a;const p=Qf(e.max,f);return i.push({value:p,major:lw(p),significand:d}),i}class hw extends nv{static id="logarithmic";static defaults=(()=>({ticks:{callback:ag.formatters.logarithmic,major:{enabled:!0}}}))();constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=iw.prototype.parse.apply(this,[e,t]);if(0!==n)return Yf(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Yf(e)?Math.max(0,e):null,this.max=Yf(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Yf(this._userMin)&&(this.min=e===aw(this.min,0)?aw(this.min,-1):aw(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,s=e=>r=t?r:e;n===r&&(n<=0?(i(1),s(10)):(i(aw(n,-1)),s(aw(r,1)))),n<=0&&i(aw(r,-1)),r<=0&&s(aw(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=uw({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Ep(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":sg(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=xp(e),this._valueRange=xp(this.max)-xp(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(xp(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function dw(e){const t=e.ticks;if(t.display&&e.display){const e=Rg(t.backdropPadding);return Gf(t.font&&t.font.size,fg.font.size)+e.height}return 0}function fw(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function pw(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?fp/s:0;for(let h=0;h<s;h++){const s=o.setContext(e.getPointLabelContext(h));i[h]=s.padding;const d=e.getPointPosition(h,e.drawingArea+i[h],a),f=Og(s.font),p=(l=e.ctx,c=f,u=Wf(u=e._pointLabels[h])?u:[u],{w:gg(l,c.string,u),h:u.length*c.lineHeight});r[h]=p;const g=Mp(e.getIndexAngle(h)+a),m=Math.round(Ip(g));gw(n,t,g,fw(m,d.x,p.w,0,180),fw(m,d.y,p.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:dw(s)/2,additionalAngle:o?fp/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const i=mw(e,u,l);r.push(i),"auto"===a&&(i.visible=yw(i,c),i.visible&&(c=i))}return r}(e,r,i)}function gw(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function mw(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,r+i+o,s),c=Math.round(Ip(Mp(l.angle+vp))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,a.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function yw(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(wg({x:n,y:r},t)||wg({x:n,y:s},t)||wg({x:i,y:r},t)||wg({x:i,y:s},t))}function vw(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!qf(a)){const n=Lg(t.borderRadius),l=Rg(t.backdropPadding);e.fillStyle=a;const c=r-l.left,u=i-l.top,h=s-r+l.width,d=o-i+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),Ig(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function bw(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,pp);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=e.getPointPosition(s,t),i.lineTo(n.x,n.y)}}class ww extends iw{static id="radialLinear";static defaults=(()=>({display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ag.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}))();static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Rg(dw(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Yf(e)&&!isNaN(e)?e:0,this.max=Yf(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/dw(this.options))}generateTickLabels(e){iw.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=Jf(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?pw(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Mp(e*(pp/(this._pointLabels.length||1))+Tp(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(qf(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(qf(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return Bg(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-vp+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),bw(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,s=this._pointLabels.length;let o,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const s=r.setContext(e.getPointLabelContext(i));vw(n,s,t);const o=Og(s.font),{x:a,y:l,textAlign:c}=t;Tg(n,e._pointLabels[i],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){a=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),bw(e,n,o,r),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}})),n.display){for(e.save(),o=s-1;o>=0;o--){const r=n.setContext(this.getPointLabelContext(o)),{color:i,lineWidth:s}=r;s&&i&&(e.lineWidth=s,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,a=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const a=n.setContext(this.getContext(o)),l=Og(a.font);if(i=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){e.font=l.string,s=e.measureText(r.label).width,e.fillStyle=a.backdropColor;const t=Rg(a.backdropPadding);e.fillRect(-s/2-t.left,-i-l.size/2-t.top,s+t.width,l.size+t.height)}Tg(e,r.label,0,-i,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),e.restore()}drawTitle(){}}const xw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_w=Object.keys(xw);function Cw(e,t){return e-t}function kw(e,t){if(qf(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return"function"===typeof r&&(o=r(o)),Yf(o)||(o="string"===typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&(o="week"!==i||!Sp(s)&&!0!==s?n.startOf(o,i):n.startOf(o,"isoWeek",s)),+o)}function Sw(e,t,n,r){const i=_w.length;for(let s=_w.indexOf(e);s<i-1;++s){const e=xw[_w[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return _w[s]}return _w[i-1]}function Ew(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=jp(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function Tw(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class Iw extends nv{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new ly(e.adapters.date);r.init(t),sp(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:kw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function a(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),o||isNaN(e.max)||(i=Math.max(i,e.max))}s&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),r=Yf(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=Yf(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?Sw(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=_w.length-1;s>=_w.indexOf(n);s--){const n=_w[s];if(xw[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return _w[n?_w.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=_w.indexOf(e)+1,n=_w.length;t<n;++t)if(xw[_w[t]].common)return _w[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),Tw(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=Rp(r,0,s),i=Rp(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||Sw(i.minUnit,t,n,this._getLabelCapacity(t)),o=Gf(r.ticks.stepSize,1),a="week"===s&&i.isoWeekday,l=Sp(a)||!0===a,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",a)),d=+e.startOf(d,l?"day":s),e.diff(n,t,s)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,o,s),h++)Ew(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||Ew(c,u,f),Object.keys(c).sort(Cw).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return Jf(s,[e,t,n],this);const o=i.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,r||(d?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Tp(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*s,h:n*s+o*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Tw(this,[e],this._majorUnit),r),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(kw(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Vp(e.sort(Cw))}}function Aw(e,t,n){let r,i,s,o,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=Bp(e,"pos",t)),({pos:r,time:s}=e[a]),({pos:i,time:o}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=Bp(e,"time",t)),({time:r,pos:s}=e[a]),({time:i,pos:o}=e[l]));const c=i-r;return c?s+(o-s)*(t-r)/c:s}class Pw extends Iw{static id="timeseries";static defaults=(()=>Iw.defaults)();constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Aw(t,this.min),this._tableRange=Aw(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;++s)l=e[s],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,o=r.length;s<o;++s)c=r[s+1],a=r[s-1],l=r[s],Math.round((c+a)/2)!==l&&i.push({time:l,pos:s/(o-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Aw(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Aw(this._table,n*this._tableRange+this._minPos,!0)}}const Nw=[sy,tb,Jb,Object.freeze({__proto__:null,CategoryScale:tw,LinearScale:sw,LogarithmicScale:hw,RadialLinearScale:ww,TimeScale:Iw,TimeSeriesScale:Pw})];Mv.register(...Nw);const Dw=Mv;class Mw{async createUsedCar(e,t,n,r,i,s,o,a,l,c,u,h,d){try{if(!await Od.validateSeller(n))return!1;console.log("New Car Details(C):",e,t,n,r,i,s,o,a,l,c,u,h,d);const f=new Rd;return await f.createUsedCar(e,t,n,r,i,s,o,a,l,c,u,h,d),console.log("Used car Creatd successfully"),console.log("New Car Details(C22):",e,t,n,r,i,s,o,a,l,c,u,h,d),!0}catch(f){return console.error("Error creating used car:",f),{success:!1,message:f.message}}}}class Lw{async viewUsedCar(e){try{const t=new Rd,n=await t.viewUsedCar(e);return console.log("Car Data(C):",n),n}catch(t){return console.error("Error viewing used car:",t),t}}}class Rw{async updateUsedCar(e,t,n,r,i,s,o,a,l,c,u,h){try{if(!await Od.validateSeller(t))return!1;const d=new Rd(e,t,n,r,i,s,o,a,l,c,u,h);return await d.updateUsedCar(e,t,n,r,i,s,o,a,l,c,u,h),console.log("Used car updated successfully"),!0}catch(d){return console.error("Error updating used car:",d),!1}}}class Ow{async deleteUsedCar(e){try{const t=new Rd;return!!await t.deleteUsedCar(e)&&(console.log(e),!0)}catch(t){return console.error("Error suspending used car:",t),{success:!1,message:t.message}}}}class jw{async searchUsedCar(e,t,n,r,i){try{const s=new Rd;return await s.searchUsedCar(e,t,n,r,i,null)}catch(s){return console.error("Error searching for used cars:",s),{success:!1,message:s.message}}}}class Bw{async trackViewCount(e){try{return await Rd.trackViewCount(e)}catch(t){return console.error("Controller Error tracking view count:",t),!1}}}class Uw{async trackShortlistCount(e){try{return await Rd.trackShortlistCount(e)}catch(t){return console.error("Controller Error tracking shortlist count:",t),!1}}}const Fw=function(){const[e]=(0,r.useState)(be.get("username")),[t,n]=(0,r.useState)([]),i=async()=>{const t=await Vd.getUsedCarListByUsername("agent",e);if(null!==t){const e=t.map((e=>{return{usedCarId:e.documentId,car_name:e.car_name,description:(t=e.description,t.length>=50?t.substring(0,10)+"...":t),manufacture_year:e.manufacture_year,mileage:e.mileage,price:e.price,car_image:e.car_image||"https://placehold.co/100x100?text=Car+Image",view_count:e.view_count||0,shortlist_count:e.shortlist_count||0};var t}));n(e)}};(0,r.useEffect)((()=>{i()}),[]),"UsedCarAgent"!==be.get("userProfile")&&window.open("/CSIT314-T05-CodeCrusaders/","_self");const s=e=>{console.log(e.body.description),Wd().fire({title:"Update Used Car Detail",width:1200,html:`\n                <div class="wrapper" style="grid-template-columns: 1fr 1fr 1fr 1fr;">\n                    <div class="item" style="grid-column: span 1">\n                        <label>Current Image</label>\n                        <img src=${e.body.car_image} alt="Car" class="uclCar-image" />\n                    </div>\n                    <div class="item" style="grid-column: span 2">\n                        <label>Car Image</label>\n                        <input type="file" id="car_image" class="swal2-input" accept="image/*">\n                    </div>\n                    <div class="item" style="grid-column: span 1">\n                        <label>Seller Username</label>\n                        <input type="text" id="seller_username" class="swal2-input" value=${e.body.seller_username}>\n                    </div>\n                </div>\n                <div class="wrapper">\n                    <div class="item">\n                        <label>Car Manufacturer</label>\n                        <input type="text" id="car_manufacturer" class="swal2-input" value=${e.body.car_manufacturer}>\n                    </div>\n                    <div class="item">\n                        <label>Car Name</label>\n                        <input type="text" id="car_name_input" class="swal2-input" value="${e.body.car_name}">\n                    </div>\n                    <div class="item">\n                        <label>Car Type</label>\n                        <select id="car_type" class="swal2-select">\n                            <option value="Sedan" ${"Sedan"===e.body.car_type?"selected":""}>Sedan</option>\n                            <option value="SUV" ${"SUV"===e.body.car_type?"selected":""}>SUV</option>\n                            <option value="Hatchback" ${"Hatchback"===e.body.car_type?"selected":""}>Hatchback</option>\n                            <option value="Wagon" ${"Wagon"===e.body.car_type?"selected":""}>Wagon</option>\n                            <option value="Coupe" ${"Coupe"===e.body.car_type?"selected":""}>Coupe</option>\n                            <option value="Van" ${"Van"===e.body.car_type?"selected":""}>Van</option>\n                            <option value="MiniVan" ${"MiniVan"===e.body.car_type?"selected":""}>MiniVan</option>\n                            <option value="Pickup Truck" ${"Pickup Truck"===e.body.car_type?"selected":""}>Pickup Truck</option>\n                            <option value="Convertible" ${"Convertible"===e.body.car_type?"selected":""}>Convertible</option>\n                            <option value="Sports Car" ${"Sports Car"===e.body.car_type?"selected":""}>Sports Car</option>\n                        </select>\n                    </div>\n                    <div class="item">\n                        <label>Price ($)</label>\n                        <input type="number" id="price" class="swal2-input" value=${e.body.price} min="0">\n                    </div>\n                    <div class="item">\n                        <label>Manufacture Year</label>\n                        <input type="number" id="manufacture_year" class="swal2-input" value=${e.body.manufacture_year} min="0">\n                    </div>\n                    <div class="item">\n                        <label>Mileage (km)</label>\n                        <input type="number" id="mileage" class="swal2-input" value=${e.body.mileage} min="0">\n                    </div>\n                    <div class="item">\n                        <label>Engine Capacity (cc)</label>\n                        <input type="number" id="engine_cap" class="swal2-input" value=${e.body.engine_cap} min="0">\n                    </div>\n                    <div class="item">\n                        <label>Features</label>\n                        <input type="text" id="features" class="swal2-input" value="${e.body.features}">\n                    </div>\n                    <div class="item" style="grid-column: span 2">\n                        <label>Description</label>\n                        <input type="text" id="description" class="swal2-input" value="${e.body.description}">\n                    </div>\n                </div>\n            `,confirmButtonText:"Update",focusConfirm:!1,preConfirm:()=>{const e=document.getElementById("seller_username").value,t=document.getElementById("car_name_input").value,n=document.getElementById("car_type").value,r=document.getElementById("car_manufacturer").value,i=document.getElementById("car_image").files[0],s=document.getElementById("description").value,o=document.getElementById("features").value,a=document.getElementById("price").value,l=document.getElementById("mileage").value,c=document.getElementById("manufacture_year").value,u=document.getElementById("engine_cap").value;return console.log(e),console.log(t),console.log(n),console.log(r),console.log(i),console.log(s),console.log(o),console.log(a),console.log(l),console.log(c),console.log(u),e&&t&&n&&r&&s&&o&&a&&l&&c&&u?l<0||a<0||c<0||u<0?(Wd().showValidationMessage("Number fields cannot be negative"),!1):{seller_username:e,car_name:t,car_type:n,car_manufacturer:r,car_image:i,description:s,features:o,price:a,mileage:l,manufacture_year:c,engine_cap:u}:(Wd().showValidationMessage("Please fill in all fields"),!1)}}).then((async t=>{if(t.isConfirmed){const{seller_username:n,car_name:r,car_type:s,car_manufacturer:o,car_image:a,description:l,features:c,price:u,mileage:h,manufacture_year:d,engine_cap:f}=t.value,p=new Rw;await p.updateUsedCar(e.usedCarId,n,r,s,o,a,l,c,u,h,d,f)?(console.log("Updated Used Car Details:",{seller_username:n,car_name:r,car_type:s,car_manufacturer:o,car_image:a,description:l,features:c,price:u,mileage:h,manufacture_year:d,engine_cap:f}),Wd().fire("Updated!","Used car detail has successfully updated.","success"),i()):Wd().fire({position:"center",title:"Failed!",icon:"error",html:"Failed to update used car details.<br><br><small>Please check that you have entered a correct seller username. Else, it might be a server error. Please try a while later!</small>",confirmButtonText:"OK"})}}))},o=async(e,t)=>{Wd().fire({title:"Are you sure?",text:"You are about to Delete this used car.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete it!",cancelButtonText:"No, cancel"}).then((async n=>{if(n.isConfirmed){const n=new Ow;await n.deleteUsedCar(e)?Wd().fire("Deleted!","Used car has been successfully deleted.","success"):Wd().fire("Failed!","Error occurred while deleting used car from the database. Please try again.","error"),console.log("Car Deleted:",t),Wd().fire("Deleted!","The product has been Deleted.","success"),i()}}))};return(0,Kd.jsxs)("div",{className:"uclContainer",children:[(0,Kd.jsxs)("div",{className:"uclHeader",children:[(0,Kd.jsx)("button",{onClick:()=>{window.history.back()},className:"uclBack-button",children:"Back"}),(0,Kd.jsx)("div",{className:"uclProfile-picture",children:(0,Kd.jsx)("img",{src:"https://placehold.co/40x40?text="+be.get("username"),alt:"Profile"})}),(0,Kd.jsx)("span",{className:"uclUsername",children:e}),(0,Kd.jsx)("button",{onClick:async()=>{const e=new Hd;await e.logout()?Wd().fire({position:"center",title:"Logout Successful",icon:"success",confirmButtonText:"Back to login",timer:1500}).then((()=>{window.open("/CSIT314-T05-CodeCrusaders/","_self")})):Wd().fire({position:"center",title:"Logout Failed",icon:"error",confirmButtonText:"OK",timer:1500})},className:"uclLogout-button",children:"Logout"})]}),(0,Kd.jsxs)("div",{className:"uclSearch-bar",children:[(0,Kd.jsxs)("span",{children:[(0,Kd.jsx)("input",{id:"car_name",className:"swal2-input custom-select",placeholder:"Car Name(Hyundai)"}),(0,Kd.jsxs)("select",{id:"vehicleType",className:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select Vehicle Type"}),(0,Kd.jsx)("option",{value:"Sedan",children:"Sedan"}),(0,Kd.jsx)("option",{value:"SUV",children:"SUV"}),(0,Kd.jsx)("option",{value:"Hatchback",children:"Hatchback"}),(0,Kd.jsx)("option",{value:"Wagon",children:"Wagon"}),(0,Kd.jsx)("option",{value:"Coupe",children:"Coupe"}),(0,Kd.jsx)("option",{value:"Van",children:"Van"}),(0,Kd.jsx)("option",{value:"MiniVan",children:"MiniVan"}),(0,Kd.jsx)("option",{value:"Pickup Truck",children:"Pickup Truck"}),(0,Kd.jsx)("option",{value:"Convertible",children:"Convertible"}),(0,Kd.jsx)("option",{value:"Sports Car",children:"Sports Car"})]}),(0,Kd.jsxs)("select",{id:"priceRange",className:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select price range"}),(0,Kd.jsx)("option",{value:"0-10000",children:"$0 - $10,000"}),(0,Kd.jsx)("option",{value:"10001-20000",children:"$10,001 - $20,000"}),(0,Kd.jsx)("option",{value:"20001-30000",children:"$20,001 - $30,000"}),(0,Kd.jsx)("option",{value:"30001-40000",children:"$30,001 - $40,000"}),(0,Kd.jsx)("option",{value:"40001-50000",children:"$40,001 - $50,000"}),(0,Kd.jsx)("option",{value:"50001-60000",children:"$50,001 - $60,000"}),(0,Kd.jsx)("option",{value:"60001-70000",children:"$60,001 - $70,000"}),(0,Kd.jsx)("option",{value:"70001-80000",children:"$70,001 - $80,000"}),(0,Kd.jsx)("option",{value:"80001-90000",children:"$80,001 - $90,000"}),(0,Kd.jsx)("option",{value:"90001-100000",children:"$90,001 - $100,000"}),(0,Kd.jsx)("option",{value:"100001-110000",children:"$100,001 - $110,000"}),(0,Kd.jsx)("option",{value:"110001-120000",children:"$110,001 - $120,000"}),(0,Kd.jsx)("option",{value:"120001-130000",children:"$120,001 - $130,000"}),(0,Kd.jsx)("option",{value:"130001-140000",children:"$130,001 - $140,000"}),(0,Kd.jsx)("option",{value:"140001-150000",children:"$140,001 - $150,000"}),(0,Kd.jsx)("option",{value:"150001-160000",children:"$150,001 - $160,000"}),(0,Kd.jsx)("option",{value:"160001-170000",children:"$160,001 - $170,000"}),(0,Kd.jsx)("option",{value:"170001-180000",children:"$170,001 - $180,000"}),(0,Kd.jsx)("option",{value:"180001-190000",children:"$180,001 - $190,000"}),(0,Kd.jsx)("option",{value:"190001-200000",children:"$190,001 - $200,000"}),(0,Kd.jsx)("option",{value:"210001-220000",children:"$210,001 - $220,000"}),(0,Kd.jsx)("option",{value:"220001-230000",children:"$220,001 - $230,000"}),(0,Kd.jsx)("option",{value:"230001-240000",children:"$230,001 - $240,000"}),(0,Kd.jsx)("option",{value:"240001-250000",children:"$240,001 - $250,000"}),(0,Kd.jsx)("option",{value:"250001-260000",children:"$250,001 - $260,000"}),(0,Kd.jsx)("option",{value:"260001-270000",children:"$260,001 - $270,000"}),(0,Kd.jsx)("option",{value:"270001-280000",children:"$270,001 - $280,000"}),(0,Kd.jsx)("option",{value:"280001-290000",children:"$280,001 - $290,000"})]}),(0,Kd.jsxs)("select",{id:"manufactureYear",className:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select manufacture year"}),(0,Kd.jsx)("option",{value:"2024",children:"2024"}),(0,Kd.jsx)("option",{value:"2023",children:"2023"}),(0,Kd.jsx)("option",{value:"2022",children:"2022"}),(0,Kd.jsx)("option",{value:"2021",children:"2021"}),(0,Kd.jsx)("option",{value:"2020",children:"2020"}),(0,Kd.jsx)("option",{value:"2019",children:"2019"}),(0,Kd.jsx)("option",{value:"2018",children:"2018"}),(0,Kd.jsx)("option",{value:"2017",children:"2017"}),(0,Kd.jsx)("option",{value:"2016",children:"2016"}),(0,Kd.jsx)("option",{value:"2015",children:"2015"}),(0,Kd.jsx)("option",{value:"2014",children:"2014"}),(0,Kd.jsx)("option",{value:"2013",children:"2013"}),(0,Kd.jsx)("option",{value:"2012",children:"2012"}),(0,Kd.jsx)("option",{value:"2011",children:"2011"}),(0,Kd.jsx)("option",{value:"2010",children:"2010"})]}),(0,Kd.jsx)("button",{onClick:async()=>{const e=document.getElementById("car_name"),t=document.getElementById("vehicleType"),r=document.getElementById("priceRange"),i=document.getElementById("manufactureYear");let s=r.value.toString().split("-");const o={car_name:e?e.value:"",car_type:t.value,priceRange:s,manufactureYear:i.value},a=new jw,l=await a.searchUsedCar(o.car_name,o.car_type,o.priceRange,o.manufactureYear,be.get("username"));if(null!==l){console.log(l);const e=l.map((e=>({usedCarId:e.id,car_name:e.car_name,manufacture_year:e.manufacture_year,description:e.description,mileage:e.mileage,price:e.price,car_image:e.car_image,view_count:e.view_count||0,shortlist_count:e.shortlist_count||0})));n(e)}else Wd().fire({title:"No Results",text:"No used cars found matching the search criteria.",icon:"info",confirmButtonText:"OK"})},className:"bucSearch-button",children:"Search"}),(0,Kd.jsx)("button",{onClick:async()=>{document.getElementById("car_name").value="",document.getElementById("vehicleType").value="",document.getElementById("priceRange").value="",document.getElementById("manufactureYear").value="",i()},className:"bucSearch-button",children:"Clear"})]}),(0,Kd.jsx)("span",{children:(0,Kd.jsx)("button",{onClick:()=>{let e,t,n,r,s,o,a,l,c,u,h;Wd().fire({title:"Create Used Car",width:1200,html:' \n                <div class="wrapper">\n                    <div class="item">\n                        <label>Car Image</label>\n                        <input type="file" id="car_image" class="swal2-input" accept="image/*" placeholder="Car Image">\n                    </div>\n                    <div class="item">\n                        <label>Seller Username</label>\n                        <input type="text" id="seller_username" class="swal2-input" placeholder="Ex) sellerid">\n                    </div>\n                    <div class="item">\n                        <label>Car Manufacturer</label>\n                        <input type="text" id="car_manufacturer" class="swal2-input" placeholder="Ex) Hyundai">\n                    </div>\n                    <div class="item">\n                        <label>Car Name</label>\n                        <input type="text" id="car_name" class="swal2-input" placeholder="Ex) Ioniq 5">\n                    </div>\n                    <div class="item">\n                        <label>Car Type</label>\n                        <select id="car_type" class="swal2-select">\n                            <option value="" disabled selected>Select Car Type</option>\n                            <option value="Sedan">Sedan</option>\n                            <option value="SUV">SUV</option>\n                            <option value="Hatchback">Hatchback</option>\n                            <option value="Wagon">Wagon</option>\n                            <option value="Coupe">Coupe</option>\n                            <option value="Van">Van</option>\n                            <option value="MiniVan">MiniVan</option>\n                            <option value="Pickup Truck">Pickup Truck</option>\n                            <option value="Convertible">Convertible</option>\n                            <option value="Sports Car">Sports Car</option>\n                        </select>\n                    </div>\n                    <div class="item">\n                        <label>Price ($)</label>\n                        <input type="number" id="price" class="swal2-input" placeholder="Ex) 150000" min="0">\n                    </div>\n                    <div class="item">\n                        <label>Manufacture Year</label>\n                        <input type="number" id="manufacture_year" class="swal2-input" placeholder="Ex) 2021" min="0">\n                    </div>\n                    <div class="item">\n                        <label>Mileage (km)</label>\n                        <input type="number" id="mileage" class="swal2-input" placeholder="Ex) 100000" min="0">\n                    </div>\n                    <div class="item">\n                        <label>Engine Capacity (CC)</label>\n                        <input type="number" id="engine_cap" class="swal2-input" placeholder="Ex) 1500" min="0">\n                    </div>\n                    <div class="item">\n                        <label>Features</label>\n                        <input type="text" id="features" class="swal2-input" placeholder="Enter features...">\n                    </div>\n                    <div class="item" style="grid-column: span 2">\n                        <label>Description</label>\n                        <input type="text" id="description" class="swal2-input" placeholder="Enter description...">\n                    </div>\n                </div>\n            ',confirmButtonText:"Create Used Car",focusConfirm:!1,didOpen:()=>{const i=Wd().getPopup();e=i.querySelector("#seller_username"),t=i.querySelector("#car_name"),n=i.querySelector("#car_type"),r=i.querySelector("#car_manufacturer"),s=i.querySelector("#car_image"),o=i.querySelector("#description"),a=i.querySelector("#features"),l=i.querySelector("#price"),c=i.querySelector("#mileage"),u=i.querySelector("#manufacture_year"),h=i.querySelector("#engine_cap"),console.log({seller_username_input:e,car_name_input:t,car_type_input:n,car_manufacturer_input:r,car_image_input:s,description_input:o,features_input:a,price_input:l,mileage_input:c,manufacture_year_input:u,engine_cap_input:h});const d=e=>{"Enter"===e.key&&Wd().clickConfirm()};e&&(e.onkeyup=d),t&&(t.onkeyup=d),n&&(n.onkeyup=d),r&&(r.onkeyup=d),s&&(s.onkeyup=d),o&&(o.onkeyup=d),a&&(a.onkeyup=d),c&&(c.onkeyup=d),l&&(l.onkeyup=d),u&&(u.onkeyup=d),h&&(h.onkeyup=d)},preConfirm:()=>{const i=Date.now().toString(),d=e.value,f=t.value,p=n.value,g=r.value,m=s.files[0],y=o.value,v=a.value,b=c.value,w=l.value,x=u.value,_=h.value;return d&&f&&p&&g&&m&&y&&v&&w&&b&&x&&_?b<0||w<0||x<0||_<0?(Wd().showValidationMessage("Number fields cannot be negative"),!1):{usedCarId:i,seller_username:d,car_name:f,car_type:p,car_manufacturer:g,car_image:m,description:y,features:v,price:w,mileage:b,manufacture_year:x,engine_cap:_}:(Wd().showValidationMessage("Please fill in all fields"),!1)}}).then((async e=>{if(e.isConfirmed){const{usedCarId:t,seller_username:n,car_name:r,car_type:s,car_manufacturer:o,car_image:a,description:l,features:c,price:u,mileage:h,manufacture_year:d,engine_cap:f}=e.value;console.log("New Car Details:",{usedCarId:t,seller_username:n,car_name:r,car_type:s,car_manufacturer:o,car_image:a,description:l,features:c,price:u,mileage:h,manufacture_year:d,engine_cap:f});const p=new Mw;await p.createUsedCar(t,be.get("username"),n,r,s,o,a,l,c,u,h,d,f)?(Wd().fire("Created!","Used car has successfully registered.","success"),i()):Wd().fire({position:"center",title:"Failed!",icon:"error",html:"Failed to create a used car.<br><br><small>Please check that you have entered a correct seller username. Else, it might be a server error. Please try a while later!</small>",confirmButtonText:"OK"})}}))},className:"uclCreate-button",children:"Create Used Car"})})]}),(0,Kd.jsxs)("div",{className:"uclUser-table",children:[(0,Kd.jsxs)("div",{className:"uclTable-header",children:[(0,Kd.jsx)("span",{children:"Car Picture"}),(0,Kd.jsx)("span",{children:"Car Name"}),(0,Kd.jsx)("span",{children:"Description"}),(0,Kd.jsx)("span",{children:"Manufactured"}),(0,Kd.jsx)("span",{children:"Mileage"}),(0,Kd.jsx)("span",{children:"Price"}),(0,Kd.jsx)("span",{})]}),t.map((e=>(0,Kd.jsxs)("div",{className:"uclTable-row",children:[(0,Kd.jsx)("img",{src:e.car_image,alt:"Car",className:"uclCar-image"}),(0,Kd.jsx)("span",{children:e.car_name}),(0,Kd.jsx)("span",{children:e.description}),(0,Kd.jsx)("span",{children:e.manufacture_year}),(0,Kd.jsx)("span",{children:e.mileage.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),(0,Kd.jsxs)("span",{children:["$",e.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),(0,Kd.jsx)("button",{onClick:()=>(async e=>{console.log("Fetching used Car for:",e);const t=new Lw,n=await t.viewUsedCar(e);console.log("Used Car data received:",n),console.log(e),n?(Wd().fire({title:"View Used Car",width:800,html:`\n                    <div style="text-align: left; display: flex;">\n                        <span>\n                            <img src=${n.body.car_image} alt="Car" class="uclCar-image" style="width: 250px; max-width: none; max-height: none; border-radius: 10px;"/><br>\n                        </span>\n                        <span style="margin-left: 20px;">\n                            <div class="uclCar-contents">\n                                <strong>Car Name:</strong> ${n.body.car_name}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Type:</strong> ${n.body.car_type}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Price:</strong> $${n.body.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Manufacturer:</strong> ${n.body.car_manufacturer}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Manufacture Year:</strong> ${n.body.manufacture_year}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Engine cap:</strong> ${n.body.engine_cap.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Mileage:</strong> ${n.body.mileage.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}km\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Features:</strong> ${n.body.features}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Description:</strong> ${n.body.description}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Seller Username:</strong> ${n.body.seller_username}\n                            </div>\n                        </span>\n                    </div>\n                `,showCancelButton:!0,cancelButtonText:"close",confirmButtonText:"Update Details",showDenyButton:!0,denyButtonText:"Delete",focusConfirm:!1}).then((t=>{t.isConfirmed?s(n):t.isDenied&&o(e,n.body.car_name)})),console.log(n),console.log("display success in UI for: ",e)):(console.error("Failed to load car information:",e),Wd().fire({title:"Error",text:"Failed to load car information.",icon:"error",confirmButtonText:"Close"}))})(e.usedCarId),className:"uclInspect-button",children:"View"}),(0,Kd.jsx)("span",{children:(0,Kd.jsxs)("div",{className:"counter-display",children:[(0,Kd.jsxs)("span",{onClick:()=>(async e=>{Wd().fire({title:"View Count History",width:800,html:'\n                <canvas id="viewCountChart" width="400" height="200"></canvas>\n                <h3 id="viewCountChartLoading">Loading Chart...</h3>\n                <h3 id="viewCountErrorText" style="display: none;">View Count History Data Not Found!</h3>\n            ',confirmButtonText:"Close",focusConfirm:!1,didOpen:async()=>{const t=new Bw,n=await t.trackViewCount(e);if(void 0===n||null===n)document.getElementById("viewCountChart").style.display="none",document.getElementById("viewCountChartLoading").style.display="none",document.getElementById("viewCountErrorText").style.display="block";else{const e={};Object.keys(n).sort().forEach((t=>{e[t]=n[t]}));const t={};Object.keys(e).forEach(((n,r)=>{t[n]=0===r?e[n]:e[n]+t[Object.keys(t)[r-1]]}));const r=document.getElementById("viewCountChart");new Dw(r,{data:{labels:Object.keys(e),datasets:[{type:"line",label:"Monthly View Count",data:Object.values(e),fill:!1,borderColor:"rgb(230, 212, 110)",tension:.1},{type:"line",label:"Cumulative View Count",data:Object.values(t),fill:!0,showLine:!1,backgroundColor:"rgba(110, 136, 229, 0.6)",tension:.1}]}}),document.getElementById("viewCountChartLoading").style.display="none"}}})})(e.usedCarId),title:"Click to track view count",children:[(0,Kd.jsx)("img",{src:"viewIcon.png",alt:"Inspect",className:"uclInspect-png-image"}),e.view_count]}),"  ",(0,Kd.jsxs)("span",{onClick:()=>(async e=>{Wd().fire({title:"Shortlist Count History",width:800,html:'\n                <canvas id="shortlistCountChart" width="400" height="200"></canvas>\n                <h3 id="shortlistCountChartLoading">Loading Chart...</h3>\n                <h3 id="shortlistCountErrorText" style="display: none;">Shortlist Count History Data Not Found!</h3>\n            ',confirmButtonText:"Close",focusConfirm:!1,didOpen:async()=>{const t=new Uw,n=await t.trackShortlistCount(e);if(void 0===n||null===n)document.getElementById("shortlistCountChart").style.display="none",document.getElementById("shortlistCountChartLoading").style.display="none",document.getElementById("shortlistCountErrorText").style.display="block";else{const e={};Object.keys(n).sort().forEach((t=>{e[t]=n[t]}));const t={};Object.keys(e).forEach(((n,r)=>{t[n]=0===r?e[n]:e[n]+t[Object.keys(t)[r-1]]}));const r=document.getElementById("shortlistCountChart");new Dw(r,{data:{labels:Object.keys(e),datasets:[{type:"line",label:"Monthly View Count",data:Object.values(e),fill:!1,borderColor:"rgb(230, 212, 110)",tension:.1},{type:"line",label:"Cumulative View Count",data:Object.values(t),fill:!0,showLine:!1,backgroundColor:"rgba(110, 136, 229, 0.6)",tension:.1}]}}),document.getElementById("shortlistCountChartLoading").style.display="none"}}})})(e.usedCarId),title:"Click to track shortlist count",children:[(0,Kd.jsx)("img",{src:"saveShortlistIcon.png",alt:"Shortlist",className:"uclShortlist-png-image"}),e.shortlist_count]}),"  "]})})]},e.usedCarId)))]})]})};class $w{async viewRateReview(e){try{return await Ud.viewRateReview(e)}catch(t){return console.error("Error fetching reviews for agent:",t),{success:!1,message:t.message}}}}const Vw=function(){const[e]=(0,r.useState)(be.get("username")),[t,n]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{const t=await Vd.getRateReviewList(e);if(console.log(t),null!==t){const e=t.map((e=>{return{rateReviewId:e.documentId,rate:e.rate,review:(t=e.review,t.length>=150?t.substring(0,150)+"...":t),reviewer_username:e.reviewerUsername};var t}));n(e)}})()}),[]),(0,Kd.jsxs)("div",{className:"rarContainer",children:[(0,Kd.jsxs)("div",{className:"rarHeader",children:[(0,Kd.jsx)("button",{onClick:()=>{window.history.back()},className:"rarBack-button",children:"Back"}),(0,Kd.jsx)("div",{className:"rarProfile-picture",children:(0,Kd.jsx)("img",{src:"https://placehold.co/40x40?text="+be.get("username"),alt:"Profile"})}),(0,Kd.jsx)("span",{className:"rarUsername",children:e}),(0,Kd.jsx)("button",{onClick:async()=>{const e=new Hd;await e.logout()?Wd().fire({position:"center",title:"Logout Successful",icon:"success",confirmButtonText:"Back to login",timer:1500}).then((()=>{window.open("/CSIT314-T05-CodeCrusaders/","_self")})):Wd().fire({position:"center",title:"Logout Failed",icon:"error",confirmButtonText:"OK",timer:1500})},className:"rarLogout-button",children:"Logout"})]}),(0,Kd.jsxs)("div",{className:"rarUser-table",children:[(0,Kd.jsxs)("div",{className:"rarTable-header",children:[(0,Kd.jsx)("span",{children:"Ratings"}),(0,Kd.jsx)("span",{children:"Reviews"}),(0,Kd.jsx)("span",{children:"Reviewer"}),(0,Kd.jsx)("span",{})]}),t.map((e=>(0,Kd.jsxs)("div",{className:"rarTable-row",children:[(0,Kd.jsx)("span",{children:[1,2,3,4,5].map((t=>(0,Kd.jsx)("span",{className:"star",style:{fontSize:"2em",color:t<=e.rate?"gold":"gray"},children:"\u2605"},t)))}),(0,Kd.jsx)("span",{children:e.review}),(0,Kd.jsx)("span",{children:e.reviewer_username}),(0,Kd.jsx)("button",{onClick:()=>(async e=>{const t=new $w;try{const n=await t.viewRateReview(e);console.log(n),n?Wd().fire({title:"View Rate and Review",html:`\n                        <div style="text-align: left;">\n                            <div style="margin-bottom: 10px;">\n                                <strong>Rating</strong>\n                                <span>\n                                    <span class="star" style="font-size: 2em; color: ${1<=n.rate?"gold":"gray"}; cursor: pointer;">&#9733;</span>\n                                    <span class="star" style="font-size: 2em; color: ${2<=n.rate?"gold":"gray"}; cursor: pointer;">&#9733;</span>\n                                    <span class="star" style="font-size: 2em; color: ${3<=n.rate?"gold":"gray"}; cursor: pointer;">&#9733;</span>\n                                    <span class="star" style="font-size: 2em; color: ${4<=n.rate?"gold":"gray"}; cursor: pointer;">&#9733;</span>\n                                    <span class="star" style="font-size: 2em; color: ${5<=n.rate?"gold":"gray"}; cursor: pointer;">&#9733;</span>\n                                </span>\n                            </div>\n                            <div style="margin-bottom: 10px;">\n                                <strong>Review</strong> ${n.review}\n                            </div>\n                            <div style="margin-bottom: 10px;">\n                                <strong>Review By</strong> ${n.reviewerUsername} (${n.reviewerType})\n                            </div>\n                        </div>\n                    `,cancelButtonText:"close",focusConfirm:!1}):Wd().fire({title:"No Reviews Found",text:"There is no review for this Agent",icon:"info",confirmButtonText:"Close"})}catch(n){console.error("Error displaying reviews",n)}})(e.rateReviewId),className:"rarInspect-button",children:"View"})]},e.username)))]})]})};class zw{async searchUsedCar(e,t,n,r){try{const i=new Rd;return await i.searchUsedCar(e,t,n,r,null,null)}catch(i){return console.error("Error searching for used cars:",i),null}}}class Hw{async viewUsedCar(e){try{const t=new Rd,n=await t.viewUsedCar(e);return console.log("Car Data(C):",n),n}catch(t){return console.error("Error viewing used car:",t),null}}}class qw{async trackViewCount(e){try{return await Rd.trackViewCount(e)}catch(t){return console.error("Controller Error tracking view count:",t),!1}}}class Ww{async trackShortlistCount(e){try{return await Rd.trackShortlistCount(e)}catch(t){return console.error("Controller Error tracking shortlist count:",t),!1}}}class Kw{async leaveRateReview(e,t,n,r,i){try{const s=new Ud(e,t,n,r,i);return await s.leaveRateReview(e,t,n,r,i)}catch(s){return console.error("Error creating rate and review:",s),{success:!1,message:s.message}}}}class Yw{static async loanCalculator(e,t,n){const r=parseFloat(n)/100/12,i=parseFloat(t),s=parseFloat(e)*r/(1-Math.pow(1+r,-i));return console.log(s),s.toFixed(2)}}class Qw{async viewUsedCarFromShortlist(e){try{const t=new Rd,n=await t.viewUsedCar(e);return console.log("Car Data(C):",n),n}catch(t){return console.error("Error viewing used car:",t),t}}}class Gw{async saveToShortlist(e,t){try{console.log("Check save Shortlist at Controller: ",e,t.car_name);return await $d.saveToShortlist(e,t)}catch(n){return console.error("Error saving car to shortlist:",n),{success:!1,message:n.message}}}}class Xw{async searchShortlist(e,t,n,r,i){try{return await $d.searchShortlist(e,t,n,r,i)}catch(s){return console.error("Error searching in shortlist:",s),{success:!1,message:s.message}}}}class Jw{async deleteShortlist(e){try{const t=new $d;return await t.deleteShortlist(e)?(console.log(e),{success:!0,message:"Shortlist entry deleted successfully"}):{success:!1,message:"Failed to delete shortlist"}}catch(t){return console.error("Error suspending used car:",t),{success:!1,message:t.message}}}}const Zw=function(){const[e]=(0,r.useState)(be.get("username")),[t,n]=(0,r.useState)([]),i=async()=>{const e=await Vd.getUsedCarList();if(null!==e){const t=e.docs.map((e=>{return{usedCarId:e.id,car_name:e.data().car_name,car_type:e.data().car_type,description:(t=e.data().description,t.length>=150?t.substring(0,150)+"...":t),manufacture_year:e.data().manufacture_year,mileage:e.data().mileage,price:e.data().price,car_image:e.data().car_image,view_count:e.data().view_count||0,shortlist_count:e.data().shortlist_count||0};var t}));n(t)}};(0,r.useEffect)((()=>{i()}),[]);const s=e=>{let t,n=0;Wd().fire({title:'<h2 style="text-decoration: underline;">Feedback</h2>',html:`\n                <div>\n                    <p><strong>Agent:</strong> ${e}</p>\n                </div>\n                <div id="star-rating" style="margin: 10px 0;">\n                    <label>Rating:</label>\n                    <span class="star" data-value="1" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="2" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="3" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="4" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="5" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                </div>\n                <div>\n                    <label>Review:</label>\n                    <textarea id="review" placeholder="Write your review" rows="10" cols="50"></textarea>\n                </div>\n            `,confirmButtonText:"Submit",focusConfirm:!1,didOpen:()=>{const e=document.querySelectorAll("#star-rating .star");e.forEach((t=>{t.addEventListener("click",(()=>{n=t.getAttribute("data-value"),e.forEach((e=>e.style.color=e.getAttribute("data-value")<=n?"gold":"gray"))}))}))},preConfirm:()=>(t=document.getElementById("review").value,n&&t?{rating:n,review:t}:(Wd().showValidationMessage("Please provide both a rating and a review"),!1))}).then((async t=>{if(t.isConfirmed){const{rating:n,review:r}=t.value,i=be.get("username"),s=be.get("userProfile"),o=new Kw(e,n,r,i,s);await o.leaveRateReview(e,n,r,i,s)?(console.log(`Rating submitted for agent ${e}:`,{rating:n,review:r}),Wd().fire("Thank you!","Your rating and review have been submitted.","success")):(console.log("Rating submission failed"),Wd().fire("Error","Failed to submit your rating and review. Please try again later.","error"))}}))},o=async e=>{let t,n,r;Wd().fire({title:"<u>Loan Calculator</u>",width:600,html:`\n                <div class="calc-wrapper">\n                    <label>Loan Amount: ($)</label>\n                    <input type="number" id="loanAmount" class="swal2-input" value="${e}">\n                    <label>Loan Term (months):</label>\n                    <input type="number" id="loanTerm" class="swal2-input" placeholder="Enter loan term" min="0">\n                    <label>Interest Rate (%):</label>\n                    <input type="number" id="interestRate" class="swal2-input" placeholder="Enter interest rate" min="0">\n                    <button id="clearButton" class="swal2-confirm swal2-styled" style="margin-right: 10px;">Clear</button>\n                    <button id="calculateButton" class="swal2-confirm swal2-styled">Calculate</button>\n                </div>\n            `,showConfirmButton:!1,focusConfirm:!1,didOpen:()=>{document.getElementById("clearButton").addEventListener("click",(()=>{document.getElementById("loanAmount").value=e,document.getElementById("loanTerm").value="",document.getElementById("interestRate").value=""})),document.getElementById("calculateButton").addEventListener("click",(async()=>{if(t=document.getElementById("loanAmount").value,n=document.getElementById("interestRate").value,r=document.getElementById("loanTerm").value,!t||!n||!r)return void Wd().showValidationMessage("Please provide both an interest rate and a loan term");if(t<0||n<0||r<0)return void Wd().showValidationMessage("Values cannot be negative");const e=await Yw.loanCalculator(t,r,n);Wd().fire("Monthly Payment",`Your estimated monthly payment is $${e}`,"info")}))}})};return(0,Kd.jsxs)("div",{className:"bucContainer",children:[(0,Kd.jsxs)("div",{className:"bucHeader",children:[(0,Kd.jsx)("button",{onClick:()=>{window.history.back()},className:"bucBack-button",children:"Back"}),(0,Kd.jsx)("div",{className:"bucProfile-picture",children:(0,Kd.jsx)("img",{src:"https://placehold.co/40x40?text="+be.get("username"),alt:"Profile"})}),(0,Kd.jsx)("span",{className:"bucUsername",children:e}),(0,Kd.jsx)("button",{onClick:async()=>{const e=new Hd;await e.logout()?Wd().fire({position:"center",title:"Logout Successful",icon:"success",confirmButtonText:"Back to login",timer:1500}).then((()=>{window.open("/CSIT314-T05-CodeCrusaders/","_self")})):Wd().fire({position:"center",title:"Logout Failed",icon:"error",confirmButtonText:"OK",timer:1500})},className:"bucLogout-button",children:"Logout"})]}),(0,Kd.jsxs)("div",{className:"bucSearch-bar",children:[(0,Kd.jsxs)("span",{children:[(0,Kd.jsx)("input",{id:"car_name",className:"swal2-input custom-select",placeholder:"Car Name(Hyundai)"}),(0,Kd.jsxs)("select",{id:"vehicleType",className:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select Vehicle Type"}),(0,Kd.jsx)("option",{value:"Sedan",children:"Sedan"}),(0,Kd.jsx)("option",{value:"SUV",children:"SUV"}),(0,Kd.jsx)("option",{value:"Hatchback",children:"Hatchback"}),(0,Kd.jsx)("option",{value:"Wagon",children:"Wagon"}),(0,Kd.jsx)("option",{value:"Coupe",children:"Coupe"}),(0,Kd.jsx)("option",{value:"Van",children:"Van"}),(0,Kd.jsx)("option",{value:"MiniVan",children:"MiniVan"}),(0,Kd.jsx)("option",{value:"Pickup Truck",children:"Pickup Truck"}),(0,Kd.jsx)("option",{value:"Convertible",children:"Convertible"}),(0,Kd.jsx)("option",{value:"Sports Car",children:"Sports Car"})]}),(0,Kd.jsxs)("select",{id:"priceRange",className:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select price range"}),(0,Kd.jsx)("option",{value:"0-10000",children:"$0 - $10,000"}),(0,Kd.jsx)("option",{value:"10001-20000",children:"$10,001 - $20,000"}),(0,Kd.jsx)("option",{value:"20001-30000",children:"$20,001 - $30,000"}),(0,Kd.jsx)("option",{value:"30001-40000",children:"$30,001 - $40,000"}),(0,Kd.jsx)("option",{value:"40001-50000",children:"$40,001 - $50,000"}),(0,Kd.jsx)("option",{value:"50001-60000",children:"$50,001 - $60,000"}),(0,Kd.jsx)("option",{value:"60001-70000",children:"$60,001 - $70,000"}),(0,Kd.jsx)("option",{value:"70001-80000",children:"$70,001 - $80,000"}),(0,Kd.jsx)("option",{value:"80001-90000",children:"$80,001 - $90,000"}),(0,Kd.jsx)("option",{value:"90001-100000",children:"$90,001 - $100,000"}),(0,Kd.jsx)("option",{value:"100001-110000",children:"$100,001 - $110,000"}),(0,Kd.jsx)("option",{value:"110001-120000",children:"$110,001 - $120,000"}),(0,Kd.jsx)("option",{value:"120001-130000",children:"$120,001 - $130,000"}),(0,Kd.jsx)("option",{value:"130001-140000",children:"$130,001 - $140,000"}),(0,Kd.jsx)("option",{value:"140001-150000",children:"$140,001 - $150,000"}),(0,Kd.jsx)("option",{value:"150001-160000",children:"$150,001 - $160,000"}),(0,Kd.jsx)("option",{value:"160001-170000",children:"$160,001 - $170,000"}),(0,Kd.jsx)("option",{value:"170001-180000",children:"$170,001 - $180,000"}),(0,Kd.jsx)("option",{value:"180001-190000",children:"$180,001 - $190,000"}),(0,Kd.jsx)("option",{value:"190001-200000",children:"$190,001 - $200,000"}),(0,Kd.jsx)("option",{value:"210001-220000",children:"$210,001 - $220,000"}),(0,Kd.jsx)("option",{value:"220001-230000",children:"$220,001 - $230,000"}),(0,Kd.jsx)("option",{value:"230001-240000",children:"$230,001 - $240,000"}),(0,Kd.jsx)("option",{value:"240001-250000",children:"$240,001 - $250,000"}),(0,Kd.jsx)("option",{value:"250001-260000",children:"$250,001 - $260,000"}),(0,Kd.jsx)("option",{value:"260001-270000",children:"$260,001 - $270,000"}),(0,Kd.jsx)("option",{value:"270001-280000",children:"$270,001 - $280,000"}),(0,Kd.jsx)("option",{value:"280001-290000",children:"$280,001 - $290,000"})]}),(0,Kd.jsxs)("select",{id:"manufactureYear",className:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select manufacture year"}),(0,Kd.jsx)("option",{value:"2024",children:"2024"}),(0,Kd.jsx)("option",{value:"2023",children:"2023"}),(0,Kd.jsx)("option",{value:"2022",children:"2022"}),(0,Kd.jsx)("option",{value:"2021",children:"2021"}),(0,Kd.jsx)("option",{value:"2020",children:"2020"}),(0,Kd.jsx)("option",{value:"2019",children:"2019"}),(0,Kd.jsx)("option",{value:"2018",children:"2018"}),(0,Kd.jsx)("option",{value:"2017",children:"2017"}),(0,Kd.jsx)("option",{value:"2016",children:"2016"}),(0,Kd.jsx)("option",{value:"2015",children:"2015"}),(0,Kd.jsx)("option",{value:"2014",children:"2014"}),(0,Kd.jsx)("option",{value:"2013",children:"2013"}),(0,Kd.jsx)("option",{value:"2012",children:"2012"}),(0,Kd.jsx)("option",{value:"2011",children:"2011"}),(0,Kd.jsx)("option",{value:"2010",children:"2010"})]}),(0,Kd.jsx)("button",{onClick:async()=>{const e=document.getElementById("car_name"),t=document.getElementById("vehicleType"),r=document.getElementById("priceRange"),i=document.getElementById("manufactureYear");let s=r.value.toString().split("-");const o={car_name:e?e.value:"",car_type:t.value,priceRange:s,manufactureYear:i.value},a=new zw,l=await a.searchUsedCar(o.car_name,o.car_type,o.priceRange,o.manufactureYear);if(null!==l){const e=l.map((e=>{return{usedCarId:e.id,car_name:e.car_name,car_type:e.car_type,description:(t=e.description,t.length>=150?t.substring(0,150)+"...":t),manufacture_year:e.manufacture_year,mileage:e.mileage,price:e.price,car_image:e.car_image,view_count:e.view_count||0,shortlist_count:e.shortlist_count||0};var t}));n(e)}else Wd().fire({title:"No Results",text:"No used cars found matching the search criteria.",icon:"info",confirmButtonText:"OK"})},className:"bucSearch-button",children:"Search"}),(0,Kd.jsx)("button",{onClick:async()=>{document.getElementById("car_name").value="",document.getElementById("vehicleType").value="",document.getElementById("priceRange").value="",document.getElementById("manufactureYear").value="",i()},className:"bucSearch-button",children:"Clear"})]}),(0,Kd.jsx)("span",{children:(0,Kd.jsx)("button",{onClick:()=>{console.log("Buyer Shortlist"),window.open("/CSIT314-T05-CodeCrusaders/buyershortlist","_self")},className:"bucMyShortlist-button",children:"My Shortlist"})})]}),(0,Kd.jsxs)("div",{className:"bucUser-table",children:[(0,Kd.jsxs)("div",{className:"bucTable-header",children:[(0,Kd.jsx)("span",{children:"Car Picture"}),(0,Kd.jsx)("span",{children:"Car Name"}),(0,Kd.jsx)("span",{children:"Description"}),(0,Kd.jsx)("span",{children:"Manufactured"}),(0,Kd.jsx)("span",{children:"Mileage"}),(0,Kd.jsx)("span",{children:"Price"}),(0,Kd.jsx)("span",{})]}),t.map((e=>(0,Kd.jsxs)("div",{className:"bucTable-row",children:[(0,Kd.jsx)("img",{src:e.car_image,alt:"Car",className:"bucCar-image"}),(0,Kd.jsx)("span",{children:e.car_name}),(0,Kd.jsx)("span",{children:e.description}),(0,Kd.jsx)("span",{children:e.manufacture_year}),(0,Kd.jsx)("span",{children:e.mileage.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),(0,Kd.jsxs)("span",{children:["$",e.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),(0,Kd.jsxs)("span",{children:[(0,Kd.jsx)("button",{onClick:()=>(async e=>{console.log("Fetching used Car for:",e);const r=t.map((t=>(t.usedCarId===e&&(t.view_count+=1),t)));n(r),Vd.increaseCount(e,"view");const i=new Hw,a=await i.viewUsedCar(e);console.log("Used Car data received:",a),null!==a?(Wd().fire({title:"View Used Car",width:800,html:`\n                    <div style="text-align: left; display: flex;">\n                        <span>\n                            <img src=${a.body.car_image} alt="Car" class="uclCar-image" style="width: 250px; max-width: none; max-height: none; border-radius: 10px;"/><br>\n                        </span>\n                        <span style="margin-left: 20px;">\n                            <div class="uclCar-contents">\n                                <strong>Car Name:</strong> ${a.body.car_name}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Type:</strong> ${a.body.car_type}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Price:</strong> $${a.body.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Manufacturer:</strong> ${a.body.car_manufacturer}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Manufacture Year:</strong> ${a.body.manufacture_year}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Engine cap:</strong> ${a.body.engine_cap.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Mileage:</strong> ${a.body.mileage.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}km\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Features:</strong> ${a.body.features}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Description:</strong> ${a.body.description}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Seller Username:</strong> ${a.body.seller_username}\n                            </div>\n                        </span>\n                    </div>\n                `,showCancelButton:!0,cancelButtonText:"Close",confirmButtonText:"Rate and Review",showDenyButton:!0,denyButtonText:"Loan Calculator",focusConfirm:!1}).then((e=>{e.isConfirmed?s(a.body.agent_username):e.isDenied&&o(a.body.price)})),console.log(a),console.log("display success in UI for: ",e)):(console.error("Failed to load car information:",a.body.price),Wd().fire({title:"Error",text:"An error has occurred. Please try again.",icon:"error",confirmButtonText:"Close"}))})(e.usedCarId),className:"bucView-button",children:"View"}),(0,Kd.jsx)("button",{onClick:()=>(async e=>{const r=be.get("username"),i=t.map((t=>(t.usedCarId===e.usedCarId&&(t.shortlist_count+=1),t)));n(i),Vd.increaseCount(e.usedCarId,"shortlist");const s=new Gw,o=await s.saveToShortlist(r,e);console.log("Check save Shortlist at Boundary",r,e.usedCarId,e.car_name,e.car_type,e.manufacture_year,e.price),o?(Wd().fire({title:"Car Added!",text:`Car ${e.car_name} added to shortlist!`,icon:"success",confirmButtonText:"OK"}),console.log(`Car ${e.car_name} added to shortlist.`)):(Wd().fire({title:"Failed!",text:`Car ${e.car_name} failed to add on shortlist.`,icon:"error",confirmButtonText:"OK"}),console.log(`Car ${e.car_name} failed to add on shortlist.`))})(e),className:"bucSTS-button",children:"Save to Shortlist"})]}),(0,Kd.jsx)("span",{children:(0,Kd.jsxs)("div",{className:"counter-display",children:[(0,Kd.jsxs)("span",{onClick:()=>(async e=>{Wd().fire({title:"View Count History",width:800,html:'\n                <canvas id="viewCountChart" width="400" height="200"></canvas>\n                <h3 id="viewCountChartLoading">Loading Chart...</h3>\n                <h3 id="viewCountErrorText" style="display: none;">View Count History Data Not Found!</h3>\n            ',confirmButtonText:"Close",focusConfirm:!1,didOpen:async()=>{const t=new qw,n=await t.trackViewCount(e);if(void 0===n||null===n)document.getElementById("viewCountChart").style.display="none",document.getElementById("viewCountChartLoading").style.display="none",document.getElementById("viewCountErrorText").style.display="block";else{const e={};Object.keys(n).sort().forEach((t=>{e[t]=n[t]}));const t={};Object.keys(e).forEach(((n,r)=>{t[n]=0===r?e[n]:e[n]+t[Object.keys(t)[r-1]]}));const r=document.getElementById("viewCountChart");new Dw(r,{data:{labels:Object.keys(e),datasets:[{type:"line",label:"Monthly View Count",data:Object.values(e),fill:!1,borderColor:"rgb(230, 212, 110)",tension:.1},{type:"line",label:"Cumulative View Count",data:Object.values(t),fill:!0,showLine:!1,backgroundColor:"rgba(110, 136, 229, 0.6)",tension:.1}]}}),document.getElementById("viewCountChartLoading").style.display="none"}}})})(e.usedCarId),title:"Click to track view count",children:[(0,Kd.jsx)("img",{src:"viewIcon.png",alt:"Inspect",className:"uclInspect-png-image"}),e.view_count]}),"  ",(0,Kd.jsxs)("span",{onClick:()=>(async e=>{Wd().fire({title:"Shortlist Count History",width:800,html:'\n                <canvas id="shortlistCountChart" width="400" height="200"></canvas>\n                <h3 id="shortlistCountChartLoading">Loading Chart...</h3>\n                <h3 id="shortlistCountErrorText" style="display: none;">Shortlist Count History Data Not Found!</h3>\n            ',confirmButtonText:"Close",focusConfirm:!1,didOpen:async()=>{const t=new Ww,n=await t.trackShortlistCount(e);if(void 0===n||null===n)document.getElementById("shortlistCountChart").style.display="none",document.getElementById("shortlistCountChartLoading").style.display="none",document.getElementById("shortlistCountErrorText").style.display="block";else{const e={};Object.keys(n).sort().forEach((t=>{e[t]=n[t]}));const t={};Object.keys(e).forEach(((n,r)=>{t[n]=0===r?e[n]:e[n]+t[Object.keys(t)[r-1]]}));const r=document.getElementById("shortlistCountChart");new Dw(r,{data:{labels:Object.keys(e),datasets:[{type:"line",label:"Monthly View Count",data:Object.values(e),fill:!1,borderColor:"rgb(230, 212, 110)",tension:.1},{type:"line",label:"Cumulative View Count",data:Object.values(t),fill:!0,showLine:!1,backgroundColor:"rgba(110, 136, 229, 0.6)",tension:.1}]}}),document.getElementById("shortlistCountChartLoading").style.display="none"}}})})(e.usedCarId),title:"Click to track shortlist count",children:[(0,Kd.jsx)("img",{src:"saveShortlistIcon.png",alt:"Shortlist",className:"uclShortlist-png-image"}),e.shortlist_count]}),"  "]})})]},e.usedCarId)))]})]})};const ex=function(){const[e]=(0,r.useState)(be.get("username")),[t,n]=(0,r.useState)([]),i=async()=>{const t=await Vd.getShortlistList(e);if(null!==t)if(void 0===t||0===t.length){n([])}else{const e=t.map((e=>{return{shortlistId:e.documentId,usedCarId:e.usedCarId,car_name:e.car_name,description:(t=e.description,t.length>=150?t.substring(0,150)+"...":t),manufacture_year:e.manufacture_year,mileage:e.mileage,price:e.price,car_image:e.car_image};var t}));n(e)}};(0,r.useEffect)((()=>{i()}),[]);const s=e=>{let t,n=0;Wd().fire({title:'<h2 style="text-decoration: underline;">Feedback</h2>',html:`\n                <div>\n                    <p><strong>Agent:</strong> ${e}</p>\n                </div>\n                <div id="star-rating" style="margin: 10px 0;">\n                    <label>Rating:</label>\n                    <span class="star" data-value="1" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="2" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="3" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="4" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="5" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                </div>\n                <div>\n                    <label>Review:</label>\n                    <textarea id="review" placeholder="Write your review" rows="10" cols="50"></textarea>\n                </div>\n            `,confirmButtonText:"Submit",focusConfirm:!1,didOpen:()=>{const e=document.querySelectorAll("#star-rating .star");e.forEach((t=>{t.addEventListener("click",(()=>{n=t.getAttribute("data-value"),e.forEach((e=>e.style.color=e.getAttribute("data-value")<=n?"gold":"gray"))}))}))},preConfirm:()=>(t=document.getElementById("review").value,n&&t?{rating:n,review:t}:(Wd().showValidationMessage("Please provide both a rating and a review"),!1))}).then((async t=>{if(t.isConfirmed){const{rating:n,review:r}=t.value,i=be.get("username"),s=be.get("userProfile"),o=new Kw(e,n,r,i,s);await o.leaveRateReview(e,n,r,i,s)?(console.log(`Rating submitted for agent ${e}:`,{rating:n,review:r}),Wd().fire("Thank you!","Your rating and review have been submitted.","success")):(console.log("Rating submission failed"),Wd().fire("Error","Failed to submit your rating and review. Please try again later.","error"))}}))},o=async e=>{let t,n,r;Wd().fire({title:"<u>Loan Calculator</u>",width:600,html:`\n                <div class="calc-wrapper">\n                    <label>Loan Amount: ($)</label>\n                    <input type="number" id="loanAmount" class="swal2-input" value="${e}">\n                    <label>Loan Term (months):</label>\n                    <input type="number" id="loanTerm" class="swal2-input" placeholder="Enter loan term" min="0">\n                    <label>Interest Rate (%):</label>\n                    <input type="number" id="interestRate" class="swal2-input" placeholder="Enter interest rate" min="0">\n                    <button id="clearButton" class="swal2-confirm swal2-styled" style="margin-right: 10px;">Clear</button>\n                    <button id="calculateButton" class="swal2-confirm swal2-styled">Calculate</button>\n                </div>\n            `,showConfirmButton:!1,focusConfirm:!1,didOpen:async()=>{document.getElementById("clearButton").addEventListener("click",(()=>{document.getElementById("loanAmount").value=e,document.getElementById("loanTerm").value="",document.getElementById("interestRate").value=""})),document.getElementById("calculateButton").addEventListener("click",(async()=>{if(t=document.getElementById("loanAmount").value,n=document.getElementById("interestRate").value,r=document.getElementById("loanTerm").value,console.log(t,n,r),!t||!n||!r)return void Wd().showValidationMessage("Please provide both an interest rate and a loan term");const e=await Yw.loanCalculator(t,r,n);Wd().fire("Monthly Payment",`Your estimated monthly payment is $${e}`,"info")}))}})};return(0,Kd.jsxs)("div",{className:"bsContainer",children:[(0,Kd.jsxs)("div",{className:"bsHeader",children:[(0,Kd.jsx)("button",{onClick:()=>{window.history.back()},className:"bsBack-button",children:"Back"}),(0,Kd.jsx)("div",{className:"bsProfile-picture",children:(0,Kd.jsx)("img",{src:"https://placehold.co/40x40?text="+be.get("username"),alt:"Profile"})}),(0,Kd.jsx)("span",{className:"bsUsername",children:e}),(0,Kd.jsx)("button",{onClick:async()=>{const e=new Hd;await e.logout()?Wd().fire({position:"center",title:"Logout Successful",icon:"success",confirmButtonText:"Back to login",timer:1500}).then((()=>{window.open("/CSIT314-T05-CodeCrusaders/","_self")})):Wd().fire({position:"center",title:"Logout Failed",icon:"error",confirmButtonText:"OK",timer:1500})},className:"bsLogout-button",children:"Logout"})]}),(0,Kd.jsx)("div",{className:"bsSearch-bar",children:(0,Kd.jsxs)("span",{children:[(0,Kd.jsx)("input",{id:"car_name",className:"swal2-input custom-select",placeholder:"Car Name(Hyundai)"}),(0,Kd.jsxs)("select",{id:"carType",className:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select Vehicle Type"}),(0,Kd.jsx)("option",{value:"Sedan",children:"Sedan"}),(0,Kd.jsx)("option",{value:"SUV",children:"SUV"}),(0,Kd.jsx)("option",{value:"Hatchback",children:"Hatchback"}),(0,Kd.jsx)("option",{value:"Wagon",children:"Wagon"}),(0,Kd.jsx)("option",{value:"Coupe",children:"Coupe"}),(0,Kd.jsx)("option",{value:"Van",children:"Van"}),(0,Kd.jsx)("option",{value:"MiniVan",children:"MiniVan"}),(0,Kd.jsx)("option",{value:"Pickup Truck",children:"Pickup Truck"}),(0,Kd.jsx)("option",{value:"Convertible",children:"Convertible"}),(0,Kd.jsx)("option",{value:"Sports Car",children:"Sports Car"})]}),(0,Kd.jsxs)("select",{id:"priceRange",className:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select price range"}),(0,Kd.jsx)("option",{value:"0-10000",children:"$0 - $10,000"}),(0,Kd.jsx)("option",{value:"10001-20000",children:"$10,001 - $20,000"}),(0,Kd.jsx)("option",{value:"20001-30000",children:"$20,001 - $30,000"}),(0,Kd.jsx)("option",{value:"30001-40000",children:"$30,001 - $40,000"}),(0,Kd.jsx)("option",{value:"40001-50000",children:"$40,001 - $50,000"}),(0,Kd.jsx)("option",{value:"50001-60000",children:"$50,001 - $60,000"}),(0,Kd.jsx)("option",{value:"60001-70000",children:"$60,001 - $70,000"}),(0,Kd.jsx)("option",{value:"70001-80000",children:"$70,001 - $80,000"}),(0,Kd.jsx)("option",{value:"80001-90000",children:"$80,001 - $90,000"}),(0,Kd.jsx)("option",{value:"90001-100000",children:"$90,001 - $100,000"}),(0,Kd.jsx)("option",{value:"100001-110000",children:"$100,001 - $110,000"}),(0,Kd.jsx)("option",{value:"110001-120000",children:"$110,001 - $120,000"}),(0,Kd.jsx)("option",{value:"120001-130000",children:"$120,001 - $130,000"}),(0,Kd.jsx)("option",{value:"130001-140000",children:"$130,001 - $140,000"}),(0,Kd.jsx)("option",{value:"140001-150000",children:"$140,001 - $150,000"}),(0,Kd.jsx)("option",{value:"150001-160000",children:"$150,001 - $160,000"}),(0,Kd.jsx)("option",{value:"160001-170000",children:"$160,001 - $170,000"}),(0,Kd.jsx)("option",{value:"170001-180000",children:"$170,001 - $180,000"}),(0,Kd.jsx)("option",{value:"180001-190000",children:"$180,001 - $190,000"}),(0,Kd.jsx)("option",{value:"190001-200000",children:"$190,001 - $200,000"}),(0,Kd.jsx)("option",{value:"210001-220000",children:"$210,001 - $220,000"}),(0,Kd.jsx)("option",{value:"220001-230000",children:"$220,001 - $230,000"}),(0,Kd.jsx)("option",{value:"230001-240000",children:"$230,001 - $240,000"}),(0,Kd.jsx)("option",{value:"240001-250000",children:"$240,001 - $250,000"}),(0,Kd.jsx)("option",{value:"250001-260000",children:"$250,001 - $260,000"}),(0,Kd.jsx)("option",{value:"260001-270000",children:"$260,001 - $270,000"}),(0,Kd.jsx)("option",{value:"270001-280000",children:"$270,001 - $280,000"}),(0,Kd.jsx)("option",{value:"280001-290000",children:"$280,001 - $290,000"})]}),(0,Kd.jsxs)("select",{id:"manufactureYear",className:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select manufacture year"}),(0,Kd.jsx)("option",{value:"2024",children:"2024"}),(0,Kd.jsx)("option",{value:"2023",children:"2023"}),(0,Kd.jsx)("option",{value:"2022",children:"2022"}),(0,Kd.jsx)("option",{value:"2021",children:"2021"}),(0,Kd.jsx)("option",{value:"2020",children:"2020"}),(0,Kd.jsx)("option",{value:"2019",children:"2019"}),(0,Kd.jsx)("option",{value:"2018",children:"2018"}),(0,Kd.jsx)("option",{value:"2017",children:"2017"}),(0,Kd.jsx)("option",{value:"2016",children:"2016"}),(0,Kd.jsx)("option",{value:"2015",children:"2015"}),(0,Kd.jsx)("option",{value:"2014",children:"2014"}),(0,Kd.jsx)("option",{value:"2013",children:"2013"}),(0,Kd.jsx)("option",{value:"2012",children:"2012"}),(0,Kd.jsx)("option",{value:"2011",children:"2011"}),(0,Kd.jsx)("option",{value:"2010",children:"2010"})]}),(0,Kd.jsx)("button",{onClick:async()=>{const e=document.getElementById("car_name"),t=document.getElementById("carType"),r=document.getElementById("priceRange"),i=document.getElementById("manufactureYear");let s=r.value.toString().split("-");const o={car_name:e?e.value:"",car_type:t.value,priceRange:s,manufactureYear:i.value};console.log(o);const a=new Xw,l=await a.searchShortlist(be.get("username"),o.car_name,o.car_type,o.priceRange,o.manufactureYear);if(console.log(l),null===l)return console.log("Search results:",l),void Wd().fire({title:"No Results",text:"No used cars found matching the search criteria.",icon:"info",confirmButtonText:"OK"});{console.log(l);const e=l.map((e=>{return{usedCarId:e.usedCarId,car_name:e.car_name,car_type:e.car_type,manufacture_year:e.manufacture_year,description:(t=e.description,t.length>=150?t.substring(0,150)+"...":t),mileage:e.mileage,price:e.price,car_image:e.car_image};var t}));n(e)}},className:"bucSearch-button",children:"Search"}),(0,Kd.jsx)("button",{onClick:async()=>{document.getElementById("car_name").value="",document.getElementById("carType").value="",document.getElementById("priceRange").value="",document.getElementById("manufactureYear").value="",i()},className:"bucSearch-button",children:"Clear"})]})}),(0,Kd.jsxs)("div",{className:"bsUser-table",children:[(0,Kd.jsxs)("div",{className:"bsTable-header",children:[(0,Kd.jsx)("span",{children:"Car Picture"}),(0,Kd.jsx)("span",{children:"Car Name"}),(0,Kd.jsx)("span",{children:"Description"}),(0,Kd.jsx)("span",{children:"Manufactured"}),(0,Kd.jsx)("span",{children:"Mileage"}),(0,Kd.jsx)("span",{children:"Price"}),(0,Kd.jsx)("span",{})]}),t.map((e=>(0,Kd.jsxs)("div",{className:"bsTable-row",children:[(0,Kd.jsx)("img",{src:e.car_image,alt:"Car",className:"bsCar-image"}),(0,Kd.jsx)("span",{children:e.car_name}),(0,Kd.jsx)("span",{children:e.description}),(0,Kd.jsx)("span",{children:e.manufacture_year}),(0,Kd.jsxs)("span",{children:[e.mileage.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"km"]}),(0,Kd.jsxs)("span",{children:["$",e.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),(0,Kd.jsxs)("span",{children:[(0,Kd.jsx)("button",{onClick:()=>(async e=>{console.log("Fetching used Car for:",e);const t=new Qw;Vd.increaseCount(e,"view");const n=await t.viewUsedCarFromShortlist(e);console.log("Used Car data received:",n),n?(Wd().fire({title:"View Used Car",width:800,html:`\n                    <div style="text-align: left; display: flex;">\n                        <span>\n                            <img src=${n.body.car_image} alt="Car" class="uclCar-image" style="width: 250px; max-width: none; max-height: none; border-radius: 10px;"/><br>\n                        </span>\n                        <span style="margin-left: 20px;">\n                            <div class="uclCar-contents">\n                                <strong>Car Name:</strong> ${n.body.car_name}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Type:</strong> ${n.body.car_type}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Price:</strong> $${n.body.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Manufacturer:</strong> ${n.body.car_manufacturer}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Manufacture Year:</strong> ${n.body.manufacture_year}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Engine cap:</strong> ${n.body.engine_cap.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Mileage:</strong> ${n.body.mileage.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}km\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Features:</strong> ${n.body.features}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Description:</strong> ${n.body.description}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Seller Username:</strong> ${n.body.seller_username}\n                            </div>\n                        </span>\n                    </div>\n                `,showCancelButton:!0,cancelButtonText:"Close",confirmButtonText:"Rate and Review",showDenyButton:!0,denyButtonText:"Loan Calculator",focusConfirm:!1}).then((e=>{e.isConfirmed?s(n.body.agent_username):e.isDenied&&o(n.body.price)})),console.log(n),console.log("display success in UI for: ",e),console.log("image check",n.car_image),console.log("image check",n.body.car_name)):(console.error("Failed to load car information:",n.body.price),Wd().fire({title:"Error",text:"Failed to load car information.",icon:"error",confirmButtonText:"Close"}))})(e.usedCarId),className:"bsView-button",children:"View"}),(0,Kd.jsx)("button",{onClick:()=>{return t=e.shortlistId,n=e.usedCarId,void Wd().fire({title:"Are you sure?",text:"You will not be able to recover this car from your shortlist!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove it!",cancelButtonText:"No, keep it"}).then((async e=>{if(e.isConfirmed){const e=new Jw;await e.deleteShortlist(t),console.log(`Car ${t} removed from shortlist.`),Wd().fire("Removed!","The car has been removed from your shortlist.","success"),Vd.decreaseCount(n,"shortlist"),i()}else e.isDismissed&&Wd().fire("Cancelled","The car is still in your shortlist.","info")}));var t,n},className:"bsRFS-button",children:"Remove from Shortlist"})]})]},e.shortlistId)))]})]})};class tx{async viewUsedCar(e){try{const t=new Rd,n=await t.viewUsedCar(e);return console.log("Car Data(C):",n),n}catch(t){return console.error("Error viewing used car:",t),t}}}class nx{async searchUsedCar(e,t,n,r,i){try{const s=new Rd;return await s.searchUsedCar(e,t,n,r,null,i)}catch(s){return console.error("Error searching for used cars:",s),{success:!1,message:s.message}}}}class rx{async trackViewCount(e){try{return await Rd.trackViewCount(e)}catch(t){return console.error("Controller Error tracking view count:",t),!1}}}class ix{async trackShortlistCount(e){try{return await Rd.trackShortlistCount(e)}catch(t){return console.error("Controller Error tracking shortlist count:",t),!1}}}class sx{async leaveRateReview(e,t,n,r,i){try{const s=new Ud(e,t,n,r,i);return await s.leaveRateReview(e,t,n,r,i)}catch(s){return console.error("Error creating rate and review:",s),{success:!1,message:s.message}}}}const ox=function(){const[e]=(0,r.useState)(be.get("username")),[t,n]=(0,r.useState)([]),i=async()=>{const t=await Vd.getUsedCarListByUsername("seller",e);if(null!==t)if(void 0===t||0===t.length){n([{car_name:"",description:"",manufacture_year:"",mileage:"",price:"",car_image:"https://placehold.co/100x100?text=NO+CARS+FOR+THIS+SELLER"}])}else{const e=t.map((e=>{return{usedCarId:e.documentId,car_name:e.car_name,description:(t=e.description,t.length>=150?t.substring(0,150)+"...":t),manufacture_year:e.manufacture_year,mileage:e.mileage,price:e.price,car_image:e.car_image||"https://placehold.co/100x100?text=Car+Image",view_count:e.view_count||0,shortlist_count:e.shortlist_count||0};var t}));n(e)}};(0,r.useEffect)((()=>{i()}),[]);const s=e=>{let t,n=0;Wd().fire({title:'<h2 style="text-decoration: underline;">Feedback</h2>',html:`\n                <div>\n                    <p><strong>Agent:</strong> ${e}</p>\n                </div>\n                <div id="star-rating" style="margin: 10px 0;">\n                    <label>Rating:</label>\n                    <span class="star" data-value="1" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="2" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="3" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="4" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                    <span class="star" data-value="5" style="font-size: 2em; color: gray; cursor: pointer;">&#9733;</span>\n                </div>\n                <div>\n                    <label>Review:</label>\n                    <textarea id="review" placeholder="Write your review" rows="10" cols="50"></textarea>\n                </div>\n            `,confirmButtonText:"Submit",focusConfirm:!1,didOpen:()=>{const e=document.querySelectorAll("#star-rating .star");e.forEach((t=>{t.addEventListener("click",(()=>{n=t.getAttribute("data-value"),e.forEach((e=>e.style.color=e.getAttribute("data-value")<=n?"gold":"gray"))}))}))},preConfirm:()=>(t=document.getElementById("review").value,n&&t?{rating:n,review:t}:(Wd().showValidationMessage("Please provide both a rating and a review"),!1))}).then((async t=>{if(t.isConfirmed){const{rating:n,review:r}=t.value,i=be.get("username"),s=be.get("userProfile"),o=new sx(e,n,r,i,s);await o.leaveRateReview(e,n,r,i,s)?(console.log(`Rating submitted for agent ${e}:`,{rating:n,review:r}),Wd().fire("Thank you!","Your rating and review have been submitted.","success")):(console.log("Rating submission failed"),Wd().fire("Error","Failed to submit your rating and review. Please try again later.","error"))}}))};return(0,Kd.jsxs)("div",{className:"sucContainer",children:[(0,Kd.jsxs)("div",{className:"sucHeader",children:[(0,Kd.jsx)("button",{onClick:()=>{window.history.back()},className:"sucBack-button",children:"Back"}),(0,Kd.jsx)("div",{className:"sucProfile-picture",children:(0,Kd.jsx)("img",{src:"https://placehold.co/40x40?text="+be.get("username"),alt:"Profile"})}),(0,Kd.jsx)("span",{className:"sucUsername",children:e}),(0,Kd.jsx)("button",{onClick:async()=>{const e=new Hd;await e.logout()?Wd().fire({position:"center",title:"Logout Successful",icon:"success",confirmButtonText:"Back to login",timer:1500}).then((()=>{window.open("/CSIT314-T05-CodeCrusaders/","_self")})):Wd().fire({position:"center",title:"Logout Failed",icon:"error",confirmButtonText:"OK",timer:1500})},className:"sucLogout-button",children:"Logout"})]}),(0,Kd.jsx)("div",{className:"sucSearch-bar",children:(0,Kd.jsxs)("span",{children:[(0,Kd.jsx)("input",{id:"car_name",class:"swal2-input custom-select",placeholder:"Car Name(Hyundai)"}),(0,Kd.jsxs)("select",{id:"vehicleType",class:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select Vehicle Type"}),(0,Kd.jsx)("option",{value:"Sedan",children:"Sedan"}),(0,Kd.jsx)("option",{value:"SUV",children:"SUV"}),(0,Kd.jsx)("option",{value:"Hatchback",children:"Hatchback"}),(0,Kd.jsx)("option",{value:"Wagon",children:"Wagon"}),(0,Kd.jsx)("option",{value:"Coupe",children:"Coupe"}),(0,Kd.jsx)("option",{value:"Van",children:"Van"}),(0,Kd.jsx)("option",{value:"MiniVan",children:"MiniVan"}),(0,Kd.jsx)("option",{value:"Pickup Truck",children:"Pickup Truck"}),(0,Kd.jsx)("option",{value:"Convertible",children:"Convertible"}),(0,Kd.jsx)("option",{value:"Sports Car",children:"Sports Car"})]}),(0,Kd.jsxs)("select",{id:"priceRange",className:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select price range"}),(0,Kd.jsx)("option",{value:"0-10000",children:"$0 - $10,000"}),(0,Kd.jsx)("option",{value:"10001-20000",children:"$10,001 - $20,000"}),(0,Kd.jsx)("option",{value:"20001-30000",children:"$20,001 - $30,000"}),(0,Kd.jsx)("option",{value:"30001-40000",children:"$30,001 - $40,000"}),(0,Kd.jsx)("option",{value:"40001-50000",children:"$40,001 - $50,000"}),(0,Kd.jsx)("option",{value:"50001-60000",children:"$50,001 - $60,000"}),(0,Kd.jsx)("option",{value:"60001-70000",children:"$60,001 - $70,000"}),(0,Kd.jsx)("option",{value:"70001-80000",children:"$70,001 - $80,000"}),(0,Kd.jsx)("option",{value:"80001-90000",children:"$80,001 - $90,000"}),(0,Kd.jsx)("option",{value:"90001-100000",children:"$90,001 - $100,000"}),(0,Kd.jsx)("option",{value:"100001-110000",children:"$100,001 - $110,000"}),(0,Kd.jsx)("option",{value:"110001-120000",children:"$110,001 - $120,000"}),(0,Kd.jsx)("option",{value:"120001-130000",children:"$120,001 - $130,000"}),(0,Kd.jsx)("option",{value:"130001-140000",children:"$130,001 - $140,000"}),(0,Kd.jsx)("option",{value:"140001-150000",children:"$140,001 - $150,000"}),(0,Kd.jsx)("option",{value:"150001-160000",children:"$150,001 - $160,000"}),(0,Kd.jsx)("option",{value:"160001-170000",children:"$160,001 - $170,000"}),(0,Kd.jsx)("option",{value:"170001-180000",children:"$170,001 - $180,000"}),(0,Kd.jsx)("option",{value:"180001-190000",children:"$180,001 - $190,000"}),(0,Kd.jsx)("option",{value:"190001-200000",children:"$190,001 - $200,000"}),(0,Kd.jsx)("option",{value:"210001-220000",children:"$210,001 - $220,000"}),(0,Kd.jsx)("option",{value:"220001-230000",children:"$220,001 - $230,000"}),(0,Kd.jsx)("option",{value:"230001-240000",children:"$230,001 - $240,000"}),(0,Kd.jsx)("option",{value:"240001-250000",children:"$240,001 - $250,000"}),(0,Kd.jsx)("option",{value:"250001-260000",children:"$250,001 - $260,000"}),(0,Kd.jsx)("option",{value:"260001-270000",children:"$260,001 - $270,000"}),(0,Kd.jsx)("option",{value:"270001-280000",children:"$270,001 - $280,000"}),(0,Kd.jsx)("option",{value:"280001-290000",children:"$280,001 - $290,000"})]}),(0,Kd.jsxs)("select",{id:"manufactureYear",class:"swal2-input custom-select",children:[(0,Kd.jsx)("option",{value:"",children:"Select manufacture year"}),(0,Kd.jsx)("option",{value:"2024",children:"2024"}),(0,Kd.jsx)("option",{value:"2023",children:"2023"}),(0,Kd.jsx)("option",{value:"2022",children:"2022"}),(0,Kd.jsx)("option",{value:"2021",children:"2021"}),(0,Kd.jsx)("option",{value:"2020",children:"2020"}),(0,Kd.jsx)("option",{value:"2019",children:"2019"}),(0,Kd.jsx)("option",{value:"2018",children:"2018"}),(0,Kd.jsx)("option",{value:"2017",children:"2017"}),(0,Kd.jsx)("option",{value:"2016",children:"2016"}),(0,Kd.jsx)("option",{value:"2015",children:"2015"}),(0,Kd.jsx)("option",{value:"2014",children:"2014"}),(0,Kd.jsx)("option",{value:"2013",children:"2013"}),(0,Kd.jsx)("option",{value:"2012",children:"2012"}),(0,Kd.jsx)("option",{value:"2011",children:"2011"}),(0,Kd.jsx)("option",{value:"2010",children:"2010"})]}),(0,Kd.jsx)("button",{onClick:async()=>{const e=document.getElementById("car_name"),t=document.getElementById("vehicleType"),r=document.getElementById("priceRange"),i=document.getElementById("manufactureYear");let s=r.value.toString().split("-");const o={car_name:e?e.value:"",vehicleType:t.value,priceRange:s,manufactureYear:i.value},a=new nx,l=await a.searchUsedCar(o.car_name,o.vehicleType,o.priceRange,o.manufactureYear,be.get("username"));if(null!==l){const e=l.map((e=>({usedCarId:e.id,car_name:e.car_name,description:e.description,manufacture_year:e.manufacture_year,mileage:e.mileage,price:e.price,car_image:e.car_image||"https://placehold.co/100x100?text=Car+Image",view_count:e.view_count||0,shortlist_count:e.shortlist_count||0})));n(e)}else Wd().fire({title:"No Results",text:"No used cars found matching the search criteria.",icon:"info",confirmButtonText:"OK"})},className:"sucSearch-button",children:"Search"}),(0,Kd.jsx)("button",{onClick:async()=>{document.getElementById("car_name").value="",document.getElementById("vehicleType").value="",document.getElementById("priceRange").value="",document.getElementById("manufactureYear").value="",i()},className:"bucSearch-button",children:"Clear"})]})}),(0,Kd.jsxs)("div",{className:"sucUser-table",children:[(0,Kd.jsxs)("div",{className:"sucTable-header",children:[(0,Kd.jsx)("span",{children:"Car Picture"}),(0,Kd.jsx)("span",{children:"Car Name"}),(0,Kd.jsx)("span",{children:"Description"}),(0,Kd.jsx)("span",{children:"Manufactured"}),(0,Kd.jsx)("span",{children:"Mileage"}),(0,Kd.jsx)("span",{children:"Price"}),(0,Kd.jsx)("span",{})]}),t.map((e=>(0,Kd.jsxs)("div",{className:"sucTable-row",children:[(0,Kd.jsx)("img",{src:e.car_image,alt:"Car",className:"sucCar-image"}),(0,Kd.jsx)("span",{children:e.car_name}),(0,Kd.jsx)("span",{children:e.description}),(0,Kd.jsx)("span",{children:e.manufacture_year}),(0,Kd.jsx)("span",{children:e.mileage.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),(0,Kd.jsxs)("span",{children:["$",e.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),(0,Kd.jsx)("button",{onClick:()=>(async e=>{console.log("Fetching used Car for:",e);const r=new tx,i=t.map((t=>(t.usedCarId===e&&(t.view_count+=1),t)));n(i),Vd.increaseCount(e,"view");const o=await r.viewUsedCar(e);console.log("Used Car data received:",o),o?(Wd().fire({title:"View Used Car",width:800,html:`\n                    <div style="text-align: left; display: flex;">\n                        <span>\n                            <img src=${o.body.car_image} alt="Car" class="uclCar-image" style="width: 250px; max-width: none; max-height: none; border-radius: 10px;"/><br>\n                        </span>\n                        <span style="margin-left: 20px;">\n                            <div class="uclCar-contents">\n                                <strong>Car Name:</strong> ${o.body.car_name}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Type:</strong> ${o.body.car_type}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Price:</strong> $${o.body.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Manufacturer:</strong> ${o.body.car_manufacturer}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Manufacture Year:</strong> ${o.body.manufacture_year}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Engine cap:</strong> ${o.body.engine_cap.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Mileage:</strong> ${o.body.mileage.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}km\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Features:</strong> ${o.body.features}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Description:</strong> ${o.body.description}\n                            </div>\n                            <div class="uclCar-contents">\n                                <strong>Seller Username:</strong> ${o.body.seller_username}\n                            </div>\n                        </span>\n                    </div>\n                `,showCancelButton:!0,cancelButtonText:"Close",confirmButtonText:"Rate and Review",focusConfirm:!1}).then((e=>{e.isConfirmed?s(o.body.agent_username):e.isDenied})),console.log(o),console.log("display success in UI for: ",e)):(console.error("Failed to load car information:",o.body.price),Wd().fire({title:"Error",text:"Failed to load car information.",icon:"error",confirmButtonText:"Close"}))})(e.usedCarId),className:"sucView-button",children:"View"}),(0,Kd.jsx)("span",{children:(0,Kd.jsxs)("div",{className:"counter-display",children:[(0,Kd.jsxs)("span",{onClick:()=>(async e=>{Wd().fire({title:"View Count History",width:800,html:'\n                <canvas id="viewCountChart" width="400" height="200"></canvas>\n                <h3 id="viewCountChartLoading">Loading Chart...</h3>\n                <h3 id="viewCountErrorText" style="display: none;">View Count History Data Not Found!</h3>\n            ',confirmButtonText:"Close",focusConfirm:!1,didOpen:async()=>{const t=new rx,n=await t.trackViewCount(e);if(void 0===n||null===n)document.getElementById("viewCountChart").style.display="none",document.getElementById("viewCountChartLoading").style.display="none",document.getElementById("viewCountErrorText").style.display="block";else{const e={};Object.keys(n).sort().forEach((t=>{e[t]=n[t]}));const t={};Object.keys(e).forEach(((n,r)=>{t[n]=0===r?e[n]:e[n]+t[Object.keys(t)[r-1]]}));const r=document.getElementById("viewCountChart");new Dw(r,{data:{labels:Object.keys(e),datasets:[{type:"line",label:"Monthly View Count",data:Object.values(e),fill:!1,borderColor:"rgb(230, 212, 110)",tension:.1},{type:"line",label:"Cumulative View Count",data:Object.values(t),fill:!0,showLine:!1,backgroundColor:"rgba(110, 136, 229, 0.6)",tension:.1}]}}),document.getElementById("viewCountChartLoading").style.display="none"}}})})(e.usedCarId),title:"Click to track view count",children:[(0,Kd.jsx)("img",{src:"viewIcon.png",alt:"Inspect",className:"uclInspect-png-image"}),e.view_count]}),"  ",(0,Kd.jsxs)("span",{onClick:()=>(async e=>{Wd().fire({title:"Shortlist Count History",width:800,html:'\n                <canvas id="shortlistCountChart" width="400" height="200"></canvas>\n                <h3 id="shortlistCountChartLoading">Loading Chart...</h3>\n                <h3 id="shortlistCountErrorText" style="display: none;">Shortlist Count History Data Not Found!</h3>\n            ',confirmButtonText:"Close",focusConfirm:!1,didOpen:async()=>{const t=new ix,n=await t.trackShortlistCount(e);if(void 0===n||null===n)document.getElementById("shortlistCountChart").style.display="none",document.getElementById("shortlistCountChartLoading").style.display="none",document.getElementById("shortlistCountErrorText").style.display="block";else{const e={};Object.keys(n).sort().forEach((t=>{e[t]=n[t]}));const t={};Object.keys(e).forEach(((n,r)=>{t[n]=0===r?e[n]:e[n]+t[Object.keys(t)[r-1]]}));const r=document.getElementById("shortlistCountChart");new Dw(r,{data:{labels:Object.keys(e),datasets:[{type:"line",label:"Monthly View Count",data:Object.values(e),fill:!1,borderColor:"rgb(230, 212, 110)",tension:.1},{type:"line",label:"Cumulative View Count",data:Object.values(t),fill:!0,showLine:!1,backgroundColor:"rgba(110, 136, 229, 0.6)",tension:.1}]}}),document.getElementById("shortlistCountChartLoading").style.display="none"}}})})(e.usedCarId),title:"Click to track shortlist count",children:[(0,Kd.jsx)("img",{src:"saveShortlistIcon.png",alt:"Shortlist",className:"uclShortlist-png-image"}),e.shortlist_count]}),"  "]})})]},e.usedCarId)))]})]})};const ax=function(){return(0,Kd.jsx)(fe,{basename:"/CSIT314-T05-CodeCrusaders",children:(0,Kd.jsxs)(ue,{children:[(0,Kd.jsx)(le,{path:"/",element:(0,Kd.jsx)(Yd,{})}),(0,Kd.jsx)(le,{path:"/usermanagement",element:(0,Kd.jsx)(Qd,{})}),(0,Kd.jsx)(le,{path:"/useraccountmanagement",element:(0,Kd.jsx)(tf,{})}),(0,Kd.jsx)(le,{path:"/userprofilemanagement",element:(0,Kd.jsx)(lf,{})}),(0,Kd.jsx)(le,{path:"/usedcarmanagement",element:(0,Kd.jsx)(cf,{})}),(0,Kd.jsx)(le,{path:"/ucausedcarlisting",element:(0,Kd.jsx)(Fw,{})}),(0,Kd.jsx)(le,{path:"/ucarateandreview",element:(0,Kd.jsx)(Vw,{})}),(0,Kd.jsx)(le,{path:"/buyerusedcar",element:(0,Kd.jsx)(Zw,{})}),(0,Kd.jsx)(le,{path:"/buyershortlist",element:(0,Kd.jsx)(ex,{})}),(0,Kd.jsx)(le,{path:"/sellerusedcar",element:(0,Kd.jsx)(ox,{})})]})})},lx=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};s.createRoot(document.getElementById("root")).render((0,Kd.jsx)(r.StrictMode,{children:(0,Kd.jsx)(ax,{})})),lx()})()})();
//# sourceMappingURL=main.5d82da05.js.map